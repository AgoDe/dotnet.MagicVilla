2023-09-25 09:11:23.367 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 09:11:23.419 +02:00 [DBG] Hosting starting
2023-09-25 09:11:23.578 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 09:11:23.578 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 09:11:23.578 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 09:11:23.578 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 09:11:23.578 +02:00 [INF] Hosting environment: Development
2023-09-25 09:11:23.578 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 09:11:23.578 +02:00 [DBG] Hosting started
2023-09-25 09:11:23.878 +02:00 [DBG] Connection id "0HMTTIQG87A77" received FIN.
2023-09-25 09:11:23.883 +02:00 [DBG] Connection id "0HMTTIQG87A77" accepted.
2023-09-25 09:11:23.884 +02:00 [DBG] Connection id "0HMTTIQG87A77" started.
2023-09-25 09:11:23.914 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 09:11:23.925 +02:00 [DBG] Connection id "0HMTTIQG87A78" accepted.
2023-09-25 09:11:23.925 +02:00 [DBG] Connection id "0HMTTIQG87A78" started.
2023-09-25 09:11:23.926 +02:00 [DBG] Connection id "0HMTTIQG87A79" accepted.
2023-09-25 09:11:23.926 +02:00 [DBG] Connection id "0HMTTIQG87A79" started.
2023-09-25 09:11:23.928 +02:00 [DBG] Connection id "0HMTTIQG87A77" stopped.
2023-09-25 09:11:23.930 +02:00 [DBG] Connection id "0HMTTIQG87A77" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 09:11:23.974 +02:00 [DBG] Connection 0HMTTIQG87A78 established using the following protocol: "Tls12"
2023-09-25 09:11:23.974 +02:00 [DBG] Connection 0HMTTIQG87A79 established using the following protocol: "Tls12"
2023-09-25 09:11:23.996 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 09:11:23.996 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 09:11:24.008 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 09:11:24.008 +02:00 [DBG] Request did not match any endpoints
2023-09-25 09:11:24.074 +02:00 [DBG] Connection id "0HMTTIQG87A78" completed keep alive response.
2023-09-25 09:11:24.075 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 80.2511ms
2023-09-25 09:11:24.085 +02:00 [DBG] Connection id "0HMTTIQG87A7A" accepted.
2023-09-25 09:11:24.085 +02:00 [DBG] Connection id "0HMTTIQG87A7A" started.
2023-09-25 09:11:24.086 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - -
2023-09-25 09:11:24.086 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-25 09:11:24.086 +02:00 [DBG] Request did not match any endpoints
2023-09-25 09:11:24.087 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui.css - -
2023-09-25 09:11:24.087 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-25 09:11:24.087 +02:00 [DBG] Request did not match any endpoints
2023-09-25 09:11:24.092 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-25 09:11:24.092 +02:00 [DBG] Connection id "0HMTTIQG87A78" completed keep alive response.
2023-09-25 09:11:24.092 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui.css - - - 200 144929 text/css 4.7538ms
2023-09-25 09:11:24.093 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js - -
2023-09-25 09:11:24.093 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-25 09:11:24.093 +02:00 [DBG] Request did not match any endpoints
2023-09-25 09:11:24.099 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-25 09:11:24.099 +02:00 [DBG] Connection id "0HMTTIQG87A78" completed keep alive response.
2023-09-25 09:11:24.100 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 6.7945ms
2023-09-25 09:11:24.108 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-25 09:11:24.109 +02:00 [DBG] Connection id "0HMTTIQG87A79" completed keep alive response.
2023-09-25 09:11:24.109 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 22.5665ms
2023-09-25 09:11:24.111 +02:00 [DBG] Connection 0HMTTIQG87A7A established using the following protocol: "Tls12"
2023-09-25 09:11:24.203 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 09:11:24.203 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 09:11:24.203 +02:00 [DBG] Request did not match any endpoints
2023-09-25 09:11:24.317 +02:00 [DBG] Connection id "0HMTTIQG87A79" completed keep alive response.
2023-09-25 09:11:24.317 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.3392ms
2023-09-25 09:12:08.483 +02:00 [DBG] Connection id "0HMTTIQG87A7B" accepted.
2023-09-25 09:12:08.484 +02:00 [DBG] Connection id "0HMTTIQG87A7B" started.
2023-09-25 09:12:08.514 +02:00 [DBG] Connection 0HMTTIQG87A7B established using the following protocol: "Tls12"
2023-09-25 09:12:08.524 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:12:08.530 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:12:08.533 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:12:08.533 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:08.533 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:12:08.536 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:08.549 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:12:08.550 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:12:08.550 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:12:08.550 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:12:08.550 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:12:08.550 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:12:08.551 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:08.630 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 09:12:09.132 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:12:09.190 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:09.191 +02:00 [INF] Getting all villas
2023-09-25 09:12:09.212 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-25 09:12:09.298 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-25 09:12:09.318 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:12:09.319 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:12:09.343 +02:00 [DBG] Created DbConnection. (21ms).
2023-09-25 09:12:09.347 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-25 09:12:09.348 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-09-25 09:12:09.351 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:09.432 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:09.441 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:12:09.466 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:12:09.491 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:09.513 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:09.513 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:09.513 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:09.513 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:09.518 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:09.525 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 53ms reading results.
2023-09-25 09:12:09.530 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:09.534 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-25 09:12:09.552 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:12:09.555 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:12:09.555 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:12:09.555 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:12:09.602 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1048.693ms
2023-09-25 09:12:09.603 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:09.604 +02:00 [DBG] Connection id "0HMTTIQG87A7B" completed keep alive response.
2023-09-25 09:12:09.607 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:12:09.611 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:09.613 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-25 09:12:09.614 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 1089.6179ms
2023-09-25 09:12:17.145 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116
2023-09-25 09:12:17.146 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:12:17.146 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:12:17.146 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:17.146 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:12:17.146 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:17.154 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:12:17.154 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:12:17.155 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:12:17.155 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:12:17.155 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:12:17.155 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:12:17.155 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:17.183 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:12:17.183 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:17.185 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-25 09:12:17.186 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-25 09:12:17.187 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-25 09:12:17.187 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-25 09:12:17.190 +02:00 [DBG] Connection id "0HMTTIQG87A7B", Request id "0HMTTIQG87A7B:00000002": started reading request body.
2023-09-25 09:12:17.190 +02:00 [DBG] Connection id "0HMTTIQG87A7B", Request id "0HMTTIQG87A7B:00000002": done reading request body.
2023-09-25 09:12:17.210 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 09:12:17.210 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 09:12:17.210 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-25 09:12:17.214 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 09:12:17.225 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-25 09:12:17.290 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-25 09:12:17.299 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:12:17.300 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:12:17.300 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:12:17.300 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:17.302 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-25 09:12:17.302 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:17.302 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.304 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-25 09:12:17.313 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-25 09:12:17.313 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.313 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:12:17.314 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.314 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:17.331 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.336 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.338 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-25 09:12:17.340 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-25 09:12:17.347 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-25 09:12:17.381 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:17.381 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.382 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:12:17.382 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:17.383 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:17.383 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-25 09:12:17.390 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-25 09:12:17.395 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-25 09:12:17.397 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.397 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2023-09-25 09:12:17.397 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.397 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:17.404 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.405 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-25 09:12:17.407 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:12:17.407 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:12:17.407 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:12:17.407 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:12:17.418 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[21])
2023-09-25 09:12:17.423 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/21 and 
2023-09-25 09:12:17.423 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/21
2023-09-25 09:12:17.424 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 268.8298ms
2023-09-25 09:12:17.424 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:17.424 +02:00 [DBG] Connection id "0HMTTIQG87A7B" completed keep alive response.
2023-09-25 09:12:17.424 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:12:17.424 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:17.424 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:17.424 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116 - 201 190 application/json;+charset=utf-8 279.1480ms
2023-09-25 09:12:17.429 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:12:17.429 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:12:17.429 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:12:17.429 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:17.429 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:12:17.429 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:17.429 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:12:17.429 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:12:17.429 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:12:17.430 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:12:17.430 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:12:17.430 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:12:17.430 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:17.435 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:12:17.435 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:17.435 +02:00 [INF] Getting all villas
2023-09-25 09:12:17.435 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:12:17.435 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:12:17.436 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:12:17.436 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:17.436 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:17.436 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:17.436 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.436 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:12:17.436 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:12:17.437 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.437 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.437 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.437 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.437 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.437 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:17.437 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.437 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:12:17.437 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:17.437 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:17.437 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:12:17.437 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:12:17.437 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:12:17.437 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:12:17.437 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 7.7774ms
2023-09-25 09:12:17.437 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:17.437 +02:00 [DBG] Connection id "0HMTTIQG87A7B" completed keep alive response.
2023-09-25 09:12:17.437 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:12:17.437 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:17.437 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:17.437 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1822 application/json;+charset=utf-8 8.2116ms
2023-09-25 09:12:24.404 +02:00 [DBG] Connection id "0HMTTIQG87A7A" received FIN.
2023-09-25 09:12:24.405 +02:00 [DBG] Connection id "0HMTTIQG87A7A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 09:12:24.407 +02:00 [DBG] Connection id "0HMTTIQG87A7A" disconnecting.
2023-09-25 09:12:24.411 +02:00 [DBG] Connection id "0HMTTIQG87A7A" stopped.
2023-09-25 09:12:24.519 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/21 - -
2023-09-25 09:12:24.519 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/21'
2023-09-25 09:12:24.520 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/21'
2023-09-25 09:12:24.520 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:24.520 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:12:24.520 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:24.525 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:12:24.525 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:12:24.525 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:12:24.525 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:12:24.525 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:12:24.525 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:12:24.525 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:24.526 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:12:24.526 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:24.526 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-25 09:12:24.527 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-25 09:12:24.527 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:12:24.527 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:12:24.527 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-25 09:12:24.527 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-25 09:12:24.529 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-25 09:12:24.534 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-25 09:12:24.534 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:12:24.534 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:12:24.535 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:12:24.535 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:24.535 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:24.535 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:24.535 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:24.535 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:12:24.540 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:12:24.541 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:24.541 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:24.541 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:12:24.541 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:24.541 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:24.542 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:12:24.542 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:12:24.542 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:12:24.542 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:12:24.542 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 17.1998ms
2023-09-25 09:12:24.542 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:24.542 +02:00 [DBG] Connection id "0HMTTIQG87A7B" completed keep alive response.
2023-09-25 09:12:24.542 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:12:24.542 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:24.542 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:24.543 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/21 - - - 200 190 application/json;+charset=utf-8 23.6891ms
2023-09-25 09:12:25.842 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7001/api/villaApi/21 - -
2023-09-25 09:12:25.842 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/21'
2023-09-25 09:12:25.842 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/21'
2023-09-25 09:12:25.842 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:25.842 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:12:25.842 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:25.846 +02:00 [INF] Route matched with {action = "DeleteVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] DeleteVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:12:25.846 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:12:25.846 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:12:25.846 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:12:25.846 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:12:25.846 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:12:25.846 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:25.847 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:12:25.847 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:25.847 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-25 09:12:25.847 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-25 09:12:25.847 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:12:25.847 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:12:25.847 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-25 09:12:25.847 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-25 09:12:25.852 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:12:25.852 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:12:25.853 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:12:25.853 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:25.853 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:25.853 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:25.853 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.853 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:12:25.854 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:12:25.854 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:25.854 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.855 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:12:25.855 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.855 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:25.859 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:25.861 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-25 09:12:25.861 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-25 09:12:25.861 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-25 09:12:25.869 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:25.869 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.869 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:12:25.869 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:25.869 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:25.869 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Villas"
WHERE "Id" = @p0;
2023-09-25 09:12:25.876 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Villas"
WHERE "Id" = @p0;
2023-09-25 09:12:25.876 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.876 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:12:25.877 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.877 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:25.879 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:25.880 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-25 09:12:25.880 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:12:25.880 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:12:25.880 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:12:25.880 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:12:25.881 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI) in 34.2045ms
2023-09-25 09:12:25.881 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-25 09:12:25.881 +02:00 [DBG] Connection id "0HMTTIQG87A7B" completed keep alive response.
2023-09-25 09:12:25.881 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:12:25.881 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:25.881 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:25.881 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7001/api/villaApi/21 - - - 200 70 application/json;+charset=utf-8 38.7908ms
2023-09-25 09:12:25.886 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:12:25.886 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:12:25.886 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:12:25.886 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:25.886 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:12:25.886 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:25.886 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:12:25.886 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:12:25.886 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:12:25.886 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:12:25.887 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:12:25.887 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:12:25.887 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:25.887 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:12:25.887 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:12:25.887 +02:00 [INF] Getting all villas
2023-09-25 09:12:25.888 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:12:25.888 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:12:25.888 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:12:25.888 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:25.888 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:12:25.888 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:25.888 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.888 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:12:25.890 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:12:25.890 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:25.890 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:25.890 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:25.890 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:25.890 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:12:25.890 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.890 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:12:25.891 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:12:25.891 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:25.891 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:12:25.891 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:12:25.891 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:12:25.891 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:12:25.891 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 4.6059ms
2023-09-25 09:12:25.891 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:12:25.891 +02:00 [DBG] Connection id "0HMTTIQG87A7B" completed keep alive response.
2023-09-25 09:12:25.891 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:12:25.891 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:12:25.891 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:12:25.892 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 5.5942ms
2023-09-25 09:13:34.606 +02:00 [DBG] Connection id "0HMTTIQG87A79" disconnecting.
2023-09-25 09:13:34.606 +02:00 [DBG] Connection id "0HMTTIQG87A78" disconnecting.
2023-09-25 09:13:34.606 +02:00 [DBG] Connection id "0HMTTIQG87A78" stopped.
2023-09-25 09:13:34.606 +02:00 [DBG] Connection id "0HMTTIQG87A79" stopped.
2023-09-25 09:13:34.606 +02:00 [DBG] Connection id "0HMTTIQG87A79" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 09:13:34.606 +02:00 [DBG] Connection id "0HMTTIQG87A78" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 09:13:38.513 +02:00 [DBG] Connection id "0HMTTIQG87A7B" received FIN.
2023-09-25 09:13:38.513 +02:00 [DBG] Connection id "0HMTTIQG87A7B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 09:13:38.514 +02:00 [DBG] Connection id "0HMTTIQG87A7B" disconnecting.
2023-09-25 09:13:38.514 +02:00 [DBG] Connection id "0HMTTIQG87A7B" stopped.
2023-09-25 09:14:06.705 +02:00 [DBG] Connection id "0HMTTIQG87A7C" accepted.
2023-09-25 09:14:06.705 +02:00 [DBG] Connection id "0HMTTIQG87A7C" started.
2023-09-25 09:14:06.735 +02:00 [DBG] Connection 0HMTTIQG87A7C established using the following protocol: "Tls12"
2023-09-25 09:14:06.742 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:14:06.742 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:14:06.742 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:14:06.742 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:06.742 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:14:06.742 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:06.742 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:14:06.742 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:14:06.742 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:14:06.742 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:14:06.742 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:14:06.742 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:14:06.742 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:14:06.743 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:14:06.743 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:14:06.743 +02:00 [INF] Getting all villas
2023-09-25 09:14:06.744 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:14:06.744 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:14:06.744 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:14:06.744 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:06.744 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:06.744 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:06.744 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:06.744 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:14:06.745 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:14:06.745 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:06.745 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:06.745 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:06.746 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:06.746 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:06.746 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:06.746 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:14:06.746 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:06.746 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:06.746 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:14:06.746 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:14:06.746 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:14:06.746 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:14:06.746 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.8131ms
2023-09-25 09:14:06.746 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:06.746 +02:00 [DBG] Connection id "0HMTTIQG87A7C" completed keep alive response.
2023-09-25 09:14:06.746 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:14:06.746 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:06.746 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:06.746 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 4.6721ms
2023-09-25 09:14:08.107 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:14:08.107 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:14:08.107 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:14:08.107 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:08.107 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:14:08.107 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:08.107 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:14:08.107 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:14:08.107 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:14:08.107 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:14:08.107 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:14:08.107 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:14:08.107 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:14:08.108 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:14:08.108 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:14:08.108 +02:00 [INF] Getting all villas
2023-09-25 09:14:08.108 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:14:08.108 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:14:08.108 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:14:08.108 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:08.108 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:08.108 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:08.108 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:08.108 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:14:08.109 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:14:08.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:08.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:08.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:08.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:08.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:08.109 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:08.109 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:14:08.109 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:08.109 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:08.109 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:14:08.109 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:14:08.109 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:14:08.109 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:14:08.110 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.8905ms
2023-09-25 09:14:08.110 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:08.110 +02:00 [DBG] Connection id "0HMTTIQG87A7C" completed keep alive response.
2023-09-25 09:14:08.110 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:14:08.110 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:08.110 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:08.110 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 3.7021ms
2023-09-25 09:14:13.572 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116
2023-09-25 09:14:13.572 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:14:13.572 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:14:13.572 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 09:14:13.572 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:14:13.572 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 09:14:13.572 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:14:13.572 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:14:13.572 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:14:13.572 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:14:13.572 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:14:13.572 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:14:13.572 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:14:13.573 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:14:13.573 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:14:13.573 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-25 09:14:13.573 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-25 09:14:13.573 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-25 09:14:13.573 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-25 09:14:13.573 +02:00 [DBG] Connection id "0HMTTIQG87A7C", Request id "0HMTTIQG87A7C:00000003": started reading request body.
2023-09-25 09:14:13.573 +02:00 [DBG] Connection id "0HMTTIQG87A7C", Request id "0HMTTIQG87A7C:00000003": done reading request body.
2023-09-25 09:14:13.573 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 09:14:13.573 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 09:14:13.573 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-25 09:14:13.574 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 09:14:13.574 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:14:13.574 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:14:13.574 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:14:13.574 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:13.574 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:13.574 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:13.575 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:13.575 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-25 09:14:13.576 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-25 09:14:13.576 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:13.576 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:14:13.576 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:13.576 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:13.577 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:13.577 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:13.577 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-25 09:14:13.577 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-25 09:14:13.577 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-25 09:14:13.577 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:13.577 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:13.577 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:14:13.577 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:13.577 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:13.577 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-25 09:14:13.579 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-25 09:14:13.579 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-25 09:14:13.579 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:13.579 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:14:13.579 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:13.579 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:13.579 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:13.579 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-25 09:14:13.579 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:14:13.579 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:14:13.579 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:14:13.579 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:14:13.580 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[22])
2023-09-25 09:14:13.580 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/22 and 
2023-09-25 09:14:13.580 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/22
2023-09-25 09:14:13.580 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 7.8069ms
2023-09-25 09:14:13.580 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 09:14:13.580 +02:00 [DBG] Connection id "0HMTTIQG87A7C" completed keep alive response.
2023-09-25 09:14:13.580 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:14:13.580 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:13.580 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:13.580 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116 - 201 190 application/json;+charset=utf-8 8.5397ms
2023-09-25 09:14:29.060 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:14:29.061 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:14:29.062 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:14:29.062 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:29.062 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:14:29.062 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:29.062 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:14:29.062 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:14:29.062 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:14:29.062 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:14:29.062 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:14:29.062 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:14:29.062 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:14:29.063 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:14:29.063 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:14:29.063 +02:00 [INF] Getting all villas
2023-09-25 09:14:29.063 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:14:29.063 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:14:29.063 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:14:29.063 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:29.063 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:14:29.063 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:29.063 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:29.063 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:14:29.064 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:14:29.064 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:29.064 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:29.064 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:29.064 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:29.064 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:29.064 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:14:29.064 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:29.064 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:14:29.065 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:14:29.065 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:29.065 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:14:29.065 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:14:29.065 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:14:29.065 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:14:29.065 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.9245ms
2023-09-25 09:14:29.065 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:14:29.065 +02:00 [DBG] Connection id "0HMTTIQG87A7C" completed keep alive response.
2023-09-25 09:14:29.065 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:14:29.065 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:14:29.065 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:14:29.065 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1822 application/json;+charset=utf-8 4.6743ms
2023-09-25 09:15:43.966 +02:00 [DBG] Connection id "0HMTTIQG87A7C" received FIN.
2023-09-25 09:15:43.967 +02:00 [DBG] Connection id "0HMTTIQG87A7C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 09:15:43.967 +02:00 [DBG] Connection id "0HMTTIQG87A7C" disconnecting.
2023-09-25 09:15:43.967 +02:00 [DBG] Connection id "0HMTTIQG87A7C" stopped.
2023-09-25 09:15:47.961 +02:00 [DBG] Connection id "0HMTTIQG87A7D" accepted.
2023-09-25 09:15:47.961 +02:00 [DBG] Connection id "0HMTTIQG87A7D" started.
2023-09-25 09:15:47.980 +02:00 [DBG] Connection 0HMTTIQG87A7D established using the following protocol: "Tls12"
2023-09-25 09:15:47.984 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/22 - -
2023-09-25 09:15:47.984 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/22'
2023-09-25 09:15:47.984 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/22'
2023-09-25 09:15:47.984 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:15:47.984 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:15:47.984 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:15:47.984 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:15:47.984 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:15:47.984 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:15:47.984 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:15:47.985 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:15:47.985 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:15:47.985 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:15:47.985 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:15:47.985 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:15:47.985 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-25 09:15:47.985 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-25 09:15:47.986 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:15:47.986 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:15:47.986 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-25 09:15:47.986 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-25 09:15:47.986 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:15:47.986 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:15:47.986 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:15:47.986 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:15:47.986 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:15:47.986 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:15:47.986 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:47.986 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:15:47.987 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:15:47.987 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:47.987 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:47.987 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:15:47.988 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:47.988 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:15:47.988 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:15:47.988 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:15:47.988 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:15:47.988 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:15:47.988 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 3.6043ms
2023-09-25 09:15:47.988 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:15:47.988 +02:00 [DBG] Connection id "0HMTTIQG87A7D" completed keep alive response.
2023-09-25 09:15:47.988 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:15:47.988 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:15:47.988 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:15:47.988 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/22 - - - 200 190 application/json;+charset=utf-8 4.4382ms
2023-09-25 09:15:50.340 +02:00 [DBG] Connection id "0HMTTIQG87A7D" received FIN.
2023-09-25 09:15:50.340 +02:00 [DBG] Connection id "0HMTTIQG87A7D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 09:15:50.340 +02:00 [DBG] Connection id "0HMTTIQG87A7D" disconnecting.
2023-09-25 09:15:50.340 +02:00 [DBG] Connection id "0HMTTIQG87A7D" stopped.
2023-09-25 09:15:57.618 +02:00 [DBG] Connection id "0HMTTIQG87A7E" accepted.
2023-09-25 09:15:57.618 +02:00 [DBG] Connection id "0HMTTIQG87A7E" started.
2023-09-25 09:15:57.646 +02:00 [DBG] Connection 0HMTTIQG87A7E established using the following protocol: "Tls12"
2023-09-25 09:15:57.654 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:15:57.654 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:15:57.655 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:15:57.655 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:15:57.655 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:15:57.655 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:15:57.655 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:15:57.655 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:15:57.655 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:15:57.655 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:15:57.655 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:15:57.655 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:15:57.655 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:15:57.655 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:15:57.655 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:15:57.655 +02:00 [INF] Getting all villas
2023-09-25 09:15:57.655 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:15:57.655 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:15:57.655 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:15:57.655 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:15:57.655 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:15:57.655 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:15:57.656 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:57.656 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:15:57.656 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:15:57.656 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:57.656 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:57.656 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:57.656 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:57.656 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:57.656 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:57.656 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:57.656 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:15:57.656 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:57.656 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:15:57.657 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:15:57.657 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:15:57.657 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:15:57.657 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:15:57.657 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.0143ms
2023-09-25 09:15:57.657 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:15:57.657 +02:00 [DBG] Connection id "0HMTTIQG87A7E" completed keep alive response.
2023-09-25 09:15:57.657 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:15:57.657 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:15:57.657 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:15:57.657 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1822 application/json;+charset=utf-8 2.5261ms
2023-09-25 09:15:59.599 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:15:59.599 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:15:59.599 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:15:59.599 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:15:59.599 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:15:59.599 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:15:59.600 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:15:59.600 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:15:59.600 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:15:59.600 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:15:59.600 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:15:59.600 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:15:59.600 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:15:59.601 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:15:59.601 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:15:59.601 +02:00 [INF] Getting all villas
2023-09-25 09:15:59.601 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:15:59.601 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:15:59.601 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:15:59.601 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:15:59.601 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:15:59.601 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:15:59.601 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:59.601 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:15:59.603 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:15:59.603 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:59.603 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:59.603 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:59.603 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:59.603 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:59.603 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:15:59.603 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:59.603 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:15:59.603 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:15:59.603 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:15:59.604 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:15:59.604 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:15:59.604 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:15:59.604 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:15:59.604 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 4.1355ms
2023-09-25 09:15:59.604 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:15:59.604 +02:00 [DBG] Connection id "0HMTTIQG87A7E" completed keep alive response.
2023-09-25 09:15:59.604 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:15:59.604 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:15:59.604 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:15:59.604 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1822 application/json;+charset=utf-8 5.3447ms
2023-09-25 09:16:01.570 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/22 - -
2023-09-25 09:16:01.570 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/22'
2023-09-25 09:16:01.570 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/22'
2023-09-25 09:16:01.570 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:16:01.570 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:16:01.570 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:16:01.570 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:16:01.570 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:16:01.570 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:16:01.570 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:16:01.570 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:16:01.570 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:16:01.570 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:16:01.571 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:16:01.571 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:16:01.571 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-25 09:16:01.571 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-25 09:16:01.571 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:16:01.571 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:16:01.571 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-25 09:16:01.572 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-25 09:16:01.572 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:16:01.572 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:16:01.572 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:16:01.572 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:16:01.572 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:16:01.572 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:16:01.572 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:01.572 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:16:01.573 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:16:01.574 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:01.574 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:01.574 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:16:01.574 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:01.574 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:16:01.574 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:16:01.574 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:16:01.574 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:16:01.574 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:16:01.574 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 3.8446ms
2023-09-25 09:16:01.574 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-25 09:16:01.574 +02:00 [DBG] Connection id "0HMTTIQG87A7E" completed keep alive response.
2023-09-25 09:16:01.574 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:16:01.574 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:16:01.574 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:16:01.574 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/22 - - - 200 190 application/json;+charset=utf-8 4.7465ms
2023-09-25 09:16:03.023 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7001/api/villaApi/22 - -
2023-09-25 09:16:03.023 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/22'
2023-09-25 09:16:03.023 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/22'
2023-09-25 09:16:03.023 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-25 09:16:03.023 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:16:03.023 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-25 09:16:03.024 +02:00 [INF] Route matched with {action = "DeleteVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] DeleteVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:16:03.024 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:16:03.024 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:16:03.024 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:16:03.024 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:16:03.024 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:16:03.024 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:16:03.025 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:16:03.025 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:16:03.025 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-25 09:16:03.025 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-25 09:16:03.025 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:16:03.025 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-25 09:16:03.025 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-25 09:16:03.025 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-25 09:16:03.025 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:16:03.025 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:16:03.025 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:16:03.025 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:16:03.025 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:16:03.026 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:16:03.026 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.026 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:16:03.027 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-25 09:16:03.027 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:03.027 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.027 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:16:03.027 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.027 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:16:03.027 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:03.027 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-25 09:16:03.027 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-25 09:16:03.027 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-25 09:16:03.028 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:16:03.028 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.028 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:16:03.028 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:16:03.028 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:16:03.028 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Villas"
WHERE "Id" = @p0;
2023-09-25 09:16:03.031 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Villas"
WHERE "Id" = @p0;
2023-09-25 09:16:03.031 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.031 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:16:03.031 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.031 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:16:03.031 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:03.031 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-25 09:16:03.031 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:16:03.031 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:16:03.032 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:16:03.032 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:16:03.032 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI) in 8.2125ms
2023-09-25 09:16:03.032 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-25 09:16:03.032 +02:00 [DBG] Connection id "0HMTTIQG87A7E" completed keep alive response.
2023-09-25 09:16:03.032 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:16:03.032 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:16:03.032 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:16:03.032 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7001/api/villaApi/22 - - - 200 70 application/json;+charset=utf-8 9.1386ms
2023-09-25 09:16:03.047 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:16:03.047 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:16:03.047 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:16:03.047 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:16:03.048 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:16:03.048 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:16:03.048 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:16:03.048 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:16:03.048 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:16:03.048 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:16:03.048 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:16:03.048 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:16:03.048 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:16:03.048 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:16:03.049 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:16:03.049 +02:00 [INF] Getting all villas
2023-09-25 09:16:03.049 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:16:03.049 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:16:03.049 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:16:03.049 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:16:03.049 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:16:03.049 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:16:03.049 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.049 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:16:03.050 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:16:03.050 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:03.050 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:03.050 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:03.050 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:03.050 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:16:03.050 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.050 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:16:03.050 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:16:03.050 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:16:03.050 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:16:03.050 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:16:03.051 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:16:03.051 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:16:03.051 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.9475ms
2023-09-25 09:16:03.051 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:16:03.051 +02:00 [DBG] Connection id "0HMTTIQG87A7E" completed keep alive response.
2023-09-25 09:16:03.051 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:16:03.051 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:16:03.051 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:16:03.051 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 3.7324ms
2023-09-25 09:17:12.625 +02:00 [DBG] Connection id "0HMTTIQG87A7E" received FIN.
2023-09-25 09:17:12.626 +02:00 [DBG] Connection id "0HMTTIQG87A7E" disconnecting.
2023-09-25 09:17:12.626 +02:00 [DBG] Connection id "0HMTTIQG87A7E" stopped.
2023-09-25 09:17:12.626 +02:00 [DBG] Connection id "0HMTTIQG87A7E" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 09:17:17.288 +02:00 [DBG] Connection id "0HMTTIQG87A7F" accepted.
2023-09-25 09:17:17.288 +02:00 [DBG] Connection id "0HMTTIQG87A7F" started.
2023-09-25 09:17:17.303 +02:00 [DBG] Connection 0HMTTIQG87A7F established using the following protocol: "Tls12"
2023-09-25 09:17:17.306 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2023-09-25 09:17:17.306 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2023-09-25 09:17:17.306 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2023-09-25 09:17:17.306 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-25 09:17:17.306 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:17:17.306 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-25 09:17:17.310 +02:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumbers() on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2023-09-25 09:17:17.310 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:17:17.310 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:17:17.310 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:17:17.310 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:17:17.310 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:17:17.310 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-25 09:17:17.311 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:17:17.311 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-25 09:17:17.312 +02:00 [INF] Getting all villas
2023-09-25 09:17:17.317 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Include("Villa")'
2023-09-25 09:17:17.330 +02:00 [DBG] Including navigation: 'VillaNumber.Villa'.
2023-09-25 09:17:17.349 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Villa.Amenity (string), 6], [Property: Villa.CreatedDate (DateTime) Required, 7], [Property: Villa.Details (string), 8], [Property: Villa.ImageUrl (string), 9], [Property: Villa.Name (string) Required, 10], [Property: Villa.Occupancy (int?), 11], [Property: Villa.Rate (double) Required, 12], [Property: Villa.Sqft (int?), 13], [Property: Villa.UpdatedDate (DateTime?), 14] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId, v0.Id, v0.Amenity, v0.CreatedDate, v0.Details, v0.ImageUrl, v0.Name, v0.Occupancy, v0.Rate, v0.Sqft, v0.UpdatedDate
        FROM VillaNumbers AS v
        INNER JOIN Villas AS v0 ON v.VillaId == v0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-25 09:17:17.350 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:17:17.350 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:17:17.350 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:17:17.350 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:17:17.350 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:17:17.350 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:17:17.356 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:17.356 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId", v0."Id", v0."Amenity", v0."CreatedDate", v0."Details", v0."ImageUrl", v0."Name", v0."Occupancy", v0."Rate", v0."Sqft", v0."UpdatedDate"
FROM "VillaNumbers" AS v
INNER JOIN "Villas" AS v0 ON v."VillaId" = v0."Id"
2023-09-25 09:17:17.359 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId", v0."Id", v0."Amenity", v0."CreatedDate", v0."Details", v0."ImageUrl", v0."Name", v0."Occupancy", v0."Rate", v0."Sqft", v0."UpdatedDate"
FROM "VillaNumbers" AS v
INNER JOIN "Villas" AS v0 ON v."VillaId" = v0."Id"
2023-09-25 09:17:17.361 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:17.368 +02:00 [DBG] The navigation 'VillaNumber.Villa' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:17.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:17.370 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:17.370 +02:00 [DBG] The navigation 'VillaNumber.Villa' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:17.370 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:17.370 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:17.370 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
2023-09-25 09:17:17.370 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:17.370 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:17:17.373 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:17:17.373 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:17:17.373 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:17:17.373 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:17:17.375 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI) in 65.4824ms
2023-09-25 09:17:17.376 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-25 09:17:17.376 +02:00 [DBG] Connection id "0HMTTIQG87A7F" completed keep alive response.
2023-09-25 09:17:17.376 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:17:17.376 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:17:17.376 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:17:17.376 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 849 application/json;+charset=utf-8 69.8496ms
2023-09-25 09:17:18.009 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:17:18.009 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:17:18.009 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:17:18.009 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:17:18.009 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:17:18.009 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:17:18.010 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:17:18.010 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:17:18.010 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:17:18.010 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:17:18.010 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:17:18.010 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:17:18.010 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:17:18.014 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:17:18.014 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:17:18.014 +02:00 [INF] Getting all villas
2023-09-25 09:17:18.014 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:17:18.014 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:17:18.014 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:17:18.014 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:17:18.015 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:17:18.015 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:17:18.015 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:18.015 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:17:18.022 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:17:18.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.023 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:18.023 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:17:18.023 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:18.023 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:17:18.023 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:17:18.023 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:17:18.023 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:17:18.023 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:17:18.024 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 13.601ms
2023-09-25 09:17:18.024 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:17:18.024 +02:00 [DBG] Connection id "0HMTTIQG87A7F" completed keep alive response.
2023-09-25 09:17:18.024 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:17:18.024 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:17:18.024 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:17:18.024 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 15.0313ms
2023-09-25 09:17:18.992 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-25 09:17:18.993 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-25 09:17:18.993 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-25 09:17:18.993 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:17:18.993 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 09:17:18.993 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:17:18.994 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 09:17:18.995 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 09:17:18.995 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 09:17:18.995 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 09:17:18.995 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 09:17:18.995 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 09:17:18.996 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:17:18.996 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:17:18.996 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 09:17:18.996 +02:00 [INF] Getting all villas
2023-09-25 09:17:18.996 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:17:18.997 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:17:18.997 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 09:17:18.997 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:17:18.997 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:17:18.997 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:17:18.997 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:18.997 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:17:18.998 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 09:17:18.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 09:17:18.998 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:18.998 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 09:17:18.998 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:17:18.999 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:17:18.999 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 09:17:18.999 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-25 09:17:18.999 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 09:17:18.999 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 09:17:18.999 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.7597ms
2023-09-25 09:17:18.999 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 09:17:18.999 +02:00 [DBG] Connection id "0HMTTIQG87A7F" completed keep alive response.
2023-09-25 09:17:18.999 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:17:18.999 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:17:18.999 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:17:19.000 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 7.1465ms
2023-09-25 09:18:27.632 +02:00 [DBG] Connection id "0HMTTIQG87A7F" received FIN.
2023-09-25 09:18:27.633 +02:00 [DBG] Connection id "0HMTTIQG87A7F" disconnecting.
2023-09-25 09:18:27.634 +02:00 [DBG] Connection id "0HMTTIQG87A7F" stopped.
2023-09-25 09:18:27.634 +02:00 [DBG] Connection id "0HMTTIQG87A7F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:11:13.125 +02:00 [INF] Application is shutting down...
2023-09-25 10:11:13.129 +02:00 [DBG] Hosting stopping
2023-09-25 10:11:13.143 +02:00 [DBG] Hosting stopped
nitialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:50:51.638 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:51:07.622 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 09:51:07.877 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 09:51:07.883 +02:00 [DBG] Creating DbConnection.
2023-09-25 09:51:07.898 +02:00 [DBG] Created DbConnection. (13ms).
2023-09-25 09:51:07.899 +02:00 [DBG] Migrating using database 'Magic_Villa_API' on server ''.
2023-09-25 09:51:07.902 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:51:07.951 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:07.952 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:07.956 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-25 09:51:07.958 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-09-25 09:51:07.960 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-09-25 09:51:07.960 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-09-25 09:51:07.960 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:51:07.978 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:07.980 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-09-25 09:51:07.995 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-09-25 09:51:07.996 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:07.996 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:51:07.997 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:51:08.002 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.002 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.002 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:51:08.003 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-09-25 09:51:08.003 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-09-25 09:51:08.003 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-09-25 09:51:08.003 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:51:08.003 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.003 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-09-25 09:51:08.004 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-09-25 09:51:08.004 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.004 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:51:08.011 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 09:51:08.011 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:51:08.011 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 09:51:08.011 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:51:08.011 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.011 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-09-25 09:51:08.014 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-09-25 09:51:08.016 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.016 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-25 09:51:08.016 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.016 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:51:08.020 +02:00 [INF] Applying migration '20230925075051_AddUsers'.
2023-09-25 09:51:08.039 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:51:08.042 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.042 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-25 09:51:08.044 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-25 09:51:08.044 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.044 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.044 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.044 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "UpdatedDate" TYPE timestamp without time zone;
2023-09-25 09:51:08.061 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "UpdatedDate" TYPE timestamp without time zone;
2023-09-25 09:51:08.061 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.061 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.061 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.061 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "CreatedDate" TYPE timestamp without time zone;
2023-09-25 09:51:08.065 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "CreatedDate" TYPE timestamp without time zone;
2023-09-25 09:51:08.065 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.065 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.065 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.065 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "VillaNumbers" ALTER COLUMN "UpdatedDate" TYPE timestamp without time zone;
2023-09-25 09:51:08.070 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "VillaNumbers" ALTER COLUMN "UpdatedDate" TYPE timestamp without time zone;
2023-09-25 09:51:08.070 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.070 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.070 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.070 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "VillaNumbers" ALTER COLUMN "CreatedDate" TYPE timestamp without time zone;
2023-09-25 09:51:08.075 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "VillaNumbers" ALTER COLUMN "CreatedDate" TYPE timestamp without time zone;
2023-09-25 09:51:08.075 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.075 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.075 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.075 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "LocalUsers" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Username" text NOT NULL,
    "Name" text NOT NULL,
    "Password" text NOT NULL,
    "Role" text NOT NULL,
    CONSTRAINT "PK_LocalUsers" PRIMARY KEY ("Id")
);
2023-09-25 09:51:08.079 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "LocalUsers" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Username" text NOT NULL,
    "Name" text NOT NULL,
    "Password" text NOT NULL,
    "Role" text NOT NULL,
    CONSTRAINT "PK_LocalUsers" PRIMARY KEY ("Id")
);
2023-09-25 09:51:08.079 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.079 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.079 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.079 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 1;
2023-09-25 09:51:08.079 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 1;
2023-09-25 09:51:08.079 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.079 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.079 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.079 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 2;
2023-09-25 09:51:08.080 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 2;
2023-09-25 09:51:08.080 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.080 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.080 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.080 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 3;
2023-09-25 09:51:08.080 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 3;
2023-09-25 09:51:08.080 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.080 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.080 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.080 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 4;
2023-09-25 09:51:08.080 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 4;
2023-09-25 09:51:08.080 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.080 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.080 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.080 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 5;
2023-09-25 09:51:08.080 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMP '2023-09-25 07:50:51.554831'
WHERE "Id" = 5;
2023-09-25 09:51:08.080 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-25 09:51:08.080 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.080 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-25 09:51:08.081 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230925075051_AddUsers', '7.0.11');
2023-09-25 09:51:08.081 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230925075051_AddUsers', '7.0.11');
2023-09-25 09:51:08.081 +02:00 [DBG] Committing transaction.
2023-09-25 09:51:08.088 +02:00 [DBG] Committed transaction.
2023-09-25 09:51:08.089 +02:00 [DBG] Disposing transaction.
2023-09-25 09:51:08.089 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 09:51:08.089 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 09:51:08.090 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 09:51:08.090 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 09:51:08.090 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 10:51:22.962 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 10:51:23.017 +02:00 [DBG] Hosting starting
2023-09-25 10:51:23.202 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 10:51:23.202 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 10:51:23.202 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 10:51:23.202 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 10:51:23.203 +02:00 [INF] Hosting environment: Development
2023-09-25 10:51:23.203 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 10:51:23.203 +02:00 [DBG] Hosting started
2023-09-25 10:51:23.443 +02:00 [DBG] Connection id "0HMTTKIC8H7CD" received FIN.
2023-09-25 10:51:23.447 +02:00 [DBG] Connection id "0HMTTKIC8H7CD" accepted.
2023-09-25 10:51:23.448 +02:00 [DBG] Connection id "0HMTTKIC8H7CD" started.
2023-09-25 10:51:23.457 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 10:51:23.467 +02:00 [DBG] Connection id "0HMTTKIC8H7CD" stopped.
2023-09-25 10:51:23.469 +02:00 [DBG] Connection id "0HMTTKIC8H7CD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:51:23.603 +02:00 [DBG] Connection id "0HMTTKIC8H7CE" accepted.
2023-09-25 10:51:23.603 +02:00 [DBG] Connection id "0HMTTKIC8H7CE" started.
2023-09-25 10:51:23.603 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" accepted.
2023-09-25 10:51:23.603 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" started.
2023-09-25 10:51:23.661 +02:00 [DBG] Connection 0HMTTKIC8H7CE established using the following protocol: "Tls12"
2023-09-25 10:51:23.661 +02:00 [DBG] Connection 0HMTTKIC8H7CF established using the following protocol: "Tls12"
2023-09-25 10:51:23.686 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 10:51:23.686 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 10:51:23.700 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 10:51:23.700 +02:00 [DBG] Request did not match any endpoints
2023-09-25 10:51:23.774 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" completed keep alive response.
2023-09-25 10:51:23.775 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 90.0637ms
2023-09-25 10:51:23.787 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - -
2023-09-25 10:51:23.788 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-25 10:51:23.788 +02:00 [DBG] Request did not match any endpoints
2023-09-25 10:51:23.806 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-25 10:51:23.807 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" completed keep alive response.
2023-09-25 10:51:23.807 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 19.5795ms
2023-09-25 10:51:23.909 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 10:51:23.909 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 10:51:23.909 +02:00 [DBG] Request did not match any endpoints
2023-09-25 10:51:24.037 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" completed keep alive response.
2023-09-25 10:51:24.037 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.0896ms
2023-09-25 10:52:17.675 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/register application/json-patch+json 92
2023-09-25 10:52:17.687 +02:00 [DBG] 1 candidate(s) found for the request path '/register'
2023-09-25 10:52:17.691 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Register (MagicVilla_VillaAPI)' with route pattern 'register' is valid for the request path '/register'
2023-09-25 10:52:17.692 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Register (MagicVilla_VillaAPI)'
2023-09-25 10:52:17.692 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 10:52:17.697 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Register (MagicVilla_VillaAPI)'
2023-09-25 10:52:17.716 +02:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDto) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 10:52:17.716 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 10:52:17.716 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 10:52:17.717 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 10:52:17.717 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 10:52:17.717 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 10:52:17.718 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:52:17.804 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 10:52:17.818 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:52:17.820 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDto' ...
2023-09-25 10:52:17.820 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDto' using the name '' in request data ...
2023-09-25 10:52:17.821 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:52:17.821 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:52:17.823 +02:00 [DBG] Connection id "0HMTTKIC8H7CF", Request id "0HMTTKIC8H7CF:00000004": started reading request body.
2023-09-25 10:52:17.823 +02:00 [DBG] Connection id "0HMTTKIC8H7CF", Request id "0HMTTKIC8H7CF:00000004": done reading request body.
2023-09-25 10:52:17.839 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDto'.
2023-09-25 10:52:17.840 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDto'.
2023-09-25 10:52:17.840 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDto' ...
2023-09-25 10:52:17.842 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDto'.
2023-09-25 10:52:18.338 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 10:52:18.362 +02:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.Username == __username_0)'
2023-09-25 10:52:18.486 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.Username (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.Username
        FROM LocalUsers AS l
        WHERE l.Username == @__username_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-25 10:52:18.507 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 10:52:18.508 +02:00 [DBG] Creating DbConnection.
2023-09-25 10:52:18.531 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-25 10:52:18.535 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-09-25 10:52:18.538 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2023-09-25 10:52:18.540 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:52:18.618 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:52:18.626 +02:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE l."Username" = @__username_0
LIMIT 1
2023-09-25 10:52:18.651 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE l."Username" = @__username_0
LIMIT 1
2023-09-25 10:52:18.655 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:52:18.660 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2023-09-25 10:52:18.662 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:52:18.665 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-25 10:52:18.681 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.LocalUser'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 10:52:18.700 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 10:52:18.702 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-25 10:52:18.704 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-25 10:52:18.709 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-25 10:52:18.749 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:52:18.750 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:52:18.753 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 10:52:18.753 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 10:52:18.753 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 10:52:18.754 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "LocalUsers" ("Name", "Password", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2023-09-25 10:52:18.762 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "LocalUsers" ("Name", "Password", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2023-09-25 10:52:18.766 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 10:52:18.767 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 10:52:18.767 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 10:52:18.767 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 10:52:18.767 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 10:52:18.767 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 10:52:18.768 +02:00 [DBG] The foreign key property 'LocalUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-25 10:52:18.771 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:52:18.772 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2023-09-25 10:52:18.773 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:52:18.774 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 10:52:18.779 +02:00 [DBG] An entity of type 'LocalUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 10:52:18.780 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-25 10:52:18.784 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Register (MagicVilla_VillaAPI) in 1064.9149ms
2023-09-25 10:52:18.784 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Register (MagicVilla_VillaAPI)'
2023-09-25 10:52:18.784 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" completed keep alive response.
2023-09-25 10:52:18.785 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 10:52:18.787 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:52:18.787 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 10:52:18.787 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/register application/json-patch+json 92 - 200 70 application/json;+charset=utf-8 1111.9932ms
2023-09-25 10:52:28.011 +02:00 [DBG] Connection id "0HMTTKIC8H7CE" received FIN.
2023-09-25 10:52:28.012 +02:00 [DBG] Connection id "0HMTTKIC8H7CE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:52:28.015 +02:00 [DBG] Connection id "0HMTTKIC8H7CE" disconnecting.
2023-09-25 10:52:28.017 +02:00 [DBG] Connection id "0HMTTKIC8H7CE" stopped.
2023-09-25 10:53:07.473 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 49
2023-09-25 10:53:07.474 +02:00 [DBG] 1 candidate(s) found for the request path '/login'
2023-09-25 10:53:07.474 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)' with route pattern 'login' is valid for the request path '/login'
2023-09-25 10:53:07.474 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:53:07.475 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 10:53:07.475 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:53:07.483 +02:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 10:53:07.484 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 10:53:07.484 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 10:53:07.484 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 10:53:07.484 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 10:53:07.484 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 10:53:07.484 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:53:07.484 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:53:07.484 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 10:53:07.484 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-25 10:53:07.484 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:53:07.485 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:53:07.485 +02:00 [DBG] Connection id "0HMTTKIC8H7CF", Request id "0HMTTKIC8H7CF:00000005": started reading request body.
2023-09-25 10:53:07.485 +02:00 [DBG] Connection id "0HMTTKIC8H7CF", Request id "0HMTTKIC8H7CF:00000005": done reading request body.
2023-09-25 10:53:07.485 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:53:07.485 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:53:07.485 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 10:53:07.490 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:53:07.509 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 10:53:07.511 +02:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.Username.ToLower() == __ToLower_0 && u.Password == __loginRequestDto_Password_1)'
2023-09-25 10:53:07.550 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.Username (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.Username
        FROM LocalUsers AS l
        WHERE (lower(l.Username) == @__ToLower_0) && (l.Password == @__loginRequestDto_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-25 10:53:07.555 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 10:53:07.555 +02:00 [DBG] Creating DbConnection.
2023-09-25 10:53:07.555 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 10:53:07.555 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 10:53:07.555 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 10:53:07.555 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:53:07.555 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:53:07.556 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 10:53:07.556 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 10:53:07.557 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:53:07.557 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 10:53:07.557 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:53:07.557 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 10:53:07.558 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI) in 74.6859ms
2023-09-25 10:53:07.559 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:53:07.559 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at MagicVilla_VillaAPI.Controllers.UsersController.Login(LoginRequestDTO model) in /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI/Controllers/UsersController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-09-25 10:53:07.566 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" completed keep alive response.
2023-09-25 10:53:07.566 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 10:53:07.566 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:53:07.566 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 10:53:07.566 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 49 - 500 - text/plain;+charset=utf-8 92.8710ms
2023-09-25 10:53:29.086 +02:00 [INF] Application is shutting down...
2023-09-25 10:53:29.087 +02:00 [DBG] Hosting stopping
2023-09-25 10:53:29.094 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" disconnecting.
2023-09-25 10:53:29.094 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" stopped.
2023-09-25 10:53:29.094 +02:00 [DBG] Connection id "0HMTTKIC8H7CF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:53:29.098 +02:00 [DBG] Hosting stopped
2023-09-25 10:53:31.017 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 10:53:31.069 +02:00 [DBG] Hosting starting
2023-09-25 10:53:31.234 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 10:53:31.234 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 10:53:31.234 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 10:53:31.234 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 10:53:31.234 +02:00 [INF] Hosting environment: Development
2023-09-25 10:53:31.234 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 10:53:31.234 +02:00 [DBG] Hosting started
2023-09-25 10:53:31.581 +02:00 [DBG] Connection id "0HMTTKJIEHR0P" received FIN.
2023-09-25 10:53:31.583 +02:00 [DBG] Connection id "0HMTTKJIEHR0P" accepted.
2023-09-25 10:53:31.583 +02:00 [DBG] Connection id "0HMTTKJIEHR0P" started.
2023-09-25 10:53:31.589 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 10:53:31.599 +02:00 [DBG] Connection id "0HMTTKJIEHR0P" stopped.
2023-09-25 10:53:31.610 +02:00 [DBG] Connection id "0HMTTKJIEHR0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:53:31.655 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q" accepted.
2023-09-25 10:53:31.655 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q" started.
2023-09-25 10:53:31.655 +02:00 [DBG] Connection id "0HMTTKJIEHR0R" accepted.
2023-09-25 10:53:31.655 +02:00 [DBG] Connection id "0HMTTKJIEHR0R" started.
2023-09-25 10:53:31.706 +02:00 [DBG] Connection 0HMTTKJIEHR0Q established using the following protocol: "Tls12"
2023-09-25 10:53:31.706 +02:00 [DBG] Connection 0HMTTKJIEHR0R established using the following protocol: "Tls12"
2023-09-25 10:53:31.727 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 10:53:31.728 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 10:53:31.742 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 10:53:31.742 +02:00 [DBG] Request did not match any endpoints
2023-09-25 10:53:31.811 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q" completed keep alive response.
2023-09-25 10:53:31.811 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 84.9154ms
2023-09-25 10:53:31.939 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 10:53:31.940 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 10:53:31.940 +02:00 [DBG] Request did not match any endpoints
2023-09-25 10:53:32.059 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q" completed keep alive response.
2023-09-25 10:53:32.059 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.7999ms
2023-09-25 10:53:38.879 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 49
2023-09-25 10:53:38.885 +02:00 [DBG] 1 candidate(s) found for the request path '/login'
2023-09-25 10:53:38.889 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)' with route pattern 'login' is valid for the request path '/login'
2023-09-25 10:53:38.889 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:53:38.893 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 10:53:38.897 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:53:38.915 +02:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 10:53:38.916 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 10:53:38.916 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 10:53:38.916 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 10:53:38.916 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 10:53:38.916 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 10:53:38.917 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:53:38.999 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 10:53:39.011 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:53:39.013 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 10:53:39.014 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-25 10:53:39.014 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:53:39.014 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:53:39.017 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q", Request id "0HMTTKJIEHR0Q:00000003": started reading request body.
2023-09-25 10:53:39.017 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q", Request id "0HMTTKJIEHR0Q:00000003": done reading request body.
2023-09-25 10:53:39.033 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:53:39.033 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:53:39.033 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 10:53:39.035 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:53:39.546 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 10:53:39.570 +02:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.Username.ToLower() == __ToLower_0 && u.Password == __loginRequestDto_Password_1)'
2023-09-25 10:53:39.717 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.Username (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.Username
        FROM LocalUsers AS l
        WHERE (lower(l.Username) == @__ToLower_0) && (l.Password == @__loginRequestDto_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-25 10:53:39.743 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 10:53:39.744 +02:00 [DBG] Creating DbConnection.
2023-09-25 10:53:39.766 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-25 10:53:39.770 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-09-25 10:53:39.773 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-09-25 10:53:39.775 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:53:39.867 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:53:39.875 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 10:53:39.902 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 10:53:39.905 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:53:39.911 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2023-09-25 10:53:39.913 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:53:39.916 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-25 10:53:39.920 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI) in 1001.9202ms
2023-09-25 10:53:39.920 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:53:39.920 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at MagicVilla_VillaAPI.Controllers.UsersController.Login(LoginRequestDTO model) in /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI/Controllers/UsersController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-09-25 10:53:39.924 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q" completed keep alive response.
2023-09-25 10:53:39.925 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 10:53:39.927 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:53:39.928 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (1ms).
2023-09-25 10:53:39.928 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 49 - 500 - text/plain;+charset=utf-8 1049.5236ms
2023-09-25 10:54:36.421 +02:00 [INF] Application is shutting down...
2023-09-25 10:54:36.423 +02:00 [DBG] Hosting stopping
2023-09-25 10:54:36.432 +02:00 [DBG] Connection id "0HMTTKJIEHR0R" disconnecting.
2023-09-25 10:54:36.432 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q" disconnecting.
2023-09-25 10:54:36.433 +02:00 [DBG] Connection id "0HMTTKJIEHR0R" stopped.
2023-09-25 10:54:36.433 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q" stopped.
2023-09-25 10:54:36.433 +02:00 [DBG] Connection id "0HMTTKJIEHR0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:54:36.433 +02:00 [DBG] Connection id "0HMTTKJIEHR0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:54:36.436 +02:00 [DBG] Hosting stopped
2023-09-25 10:54:38.696 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 10:54:38.745 +02:00 [DBG] Hosting starting
2023-09-25 10:54:38.932 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 10:54:38.932 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 10:54:38.933 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 10:54:38.933 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 10:54:38.933 +02:00 [INF] Hosting environment: Development
2023-09-25 10:54:38.933 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 10:54:38.933 +02:00 [DBG] Hosting started
2023-09-25 10:54:39.268 +02:00 [DBG] Connection id "0HMTTKK6K21E5" received FIN.
2023-09-25 10:54:39.275 +02:00 [DBG] Connection id "0HMTTKK6K21E5" accepted.
2023-09-25 10:54:39.276 +02:00 [DBG] Connection id "0HMTTKK6K21E5" started.
2023-09-25 10:54:39.298 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 10:54:39.311 +02:00 [DBG] Connection id "0HMTTKK6K21E5" stopped.
2023-09-25 10:54:39.316 +02:00 [DBG] Connection id "0HMTTKK6K21E5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:54:39.318 +02:00 [DBG] Connection id "0HMTTKK6K21E6" accepted.
2023-09-25 10:54:39.318 +02:00 [DBG] Connection id "0HMTTKK6K21E6" started.
2023-09-25 10:54:39.318 +02:00 [DBG] Connection id "0HMTTKK6K21E7" accepted.
2023-09-25 10:54:39.318 +02:00 [DBG] Connection id "0HMTTKK6K21E7" started.
2023-09-25 10:54:39.370 +02:00 [DBG] Connection 0HMTTKK6K21E6 established using the following protocol: "Tls12"
2023-09-25 10:54:39.370 +02:00 [DBG] Connection 0HMTTKK6K21E7 established using the following protocol: "Tls12"
2023-09-25 10:54:39.396 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 10:54:39.396 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 10:54:39.411 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 10:54:39.411 +02:00 [DBG] Request did not match any endpoints
2023-09-25 10:54:39.478 +02:00 [DBG] Connection id "0HMTTKK6K21E6" completed keep alive response.
2023-09-25 10:54:39.479 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 83.9276ms
2023-09-25 10:54:39.568 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 10:54:39.569 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 10:54:39.569 +02:00 [DBG] Request did not match any endpoints
2023-09-25 10:54:39.685 +02:00 [DBG] Connection id "0HMTTKK6K21E6" completed keep alive response.
2023-09-25 10:54:39.685 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.3042ms
2023-09-25 10:54:51.012 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 49
2023-09-25 10:54:51.023 +02:00 [DBG] 1 candidate(s) found for the request path '/login'
2023-09-25 10:54:51.029 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)' with route pattern 'login' is valid for the request path '/login'
2023-09-25 10:54:51.030 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:54:51.034 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 10:54:51.038 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:54:51.054 +02:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 10:54:51.055 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 10:54:51.055 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 10:54:51.055 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 10:54:51.055 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 10:54:51.055 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 10:54:51.057 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:54:51.137 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 10:54:51.150 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:54:51.151 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 10:54:51.152 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-25 10:54:51.152 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:54:51.153 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:54:51.155 +02:00 [DBG] Connection id "0HMTTKK6K21E6", Request id "0HMTTKK6K21E6:00000003": started reading request body.
2023-09-25 10:54:51.155 +02:00 [DBG] Connection id "0HMTTKK6K21E6", Request id "0HMTTKK6K21E6:00000003": done reading request body.
2023-09-25 10:54:51.170 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:54:51.170 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:54:51.170 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 10:54:51.173 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:54:51.680 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 10:54:51.704 +02:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.Username.ToLower() == __ToLower_0 && u.Password == __loginRequestDto_Password_1)'
2023-09-25 10:54:51.852 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.Username (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.Username
        FROM LocalUsers AS l
        WHERE (lower(l.Username) == @__ToLower_0) && (l.Password == @__loginRequestDto_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-25 10:54:51.878 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 10:54:51.879 +02:00 [DBG] Creating DbConnection.
2023-09-25 10:54:51.901 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-25 10:54:51.905 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-25 10:54:51.909 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-09-25 10:54:51.910 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:54:51.994 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:54:52.002 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 10:54:52.029 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 10:54:52.032 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:54:52.038 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2023-09-25 10:54:52.040 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:54:52.044 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-25 10:54:52.045 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 10:54:52.046 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 10:54:52.046 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 10:54:52.046 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 10:54:52.046 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 10:54:52.047 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 10:54:52.065 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI) in 1007.9123ms
2023-09-25 10:54:52.065 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:54:52.065 +02:00 [DBG] Connection id "0HMTTKK6K21E6" completed keep alive response.
2023-09-25 10:54:52.066 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 10:54:52.068 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:54:52.070 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (1ms).
2023-09-25 10:54:52.070 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 49 - 400 104 application/json;+charset=utf-8 1058.6950ms
2023-09-25 10:55:07.005 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 51
2023-09-25 10:55:07.006 +02:00 [DBG] 1 candidate(s) found for the request path '/login'
2023-09-25 10:55:07.007 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)' with route pattern 'login' is valid for the request path '/login'
2023-09-25 10:55:07.007 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:55:07.007 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 10:55:07.007 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:55:07.007 +02:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 10:55:07.007 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 10:55:07.007 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 10:55:07.007 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 10:55:07.007 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 10:55:07.008 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 10:55:07.008 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:55:07.009 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 10:55:07.010 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 10:55:07.010 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-25 10:55:07.010 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:55:07.010 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 10:55:07.010 +02:00 [DBG] Connection id "0HMTTKK6K21E6", Request id "0HMTTKK6K21E6:00000004": started reading request body.
2023-09-25 10:55:07.010 +02:00 [DBG] Connection id "0HMTTKK6K21E6", Request id "0HMTTKK6K21E6:00000004": done reading request body.
2023-09-25 10:55:07.010 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:55:07.011 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:55:07.011 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 10:55:07.011 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 10:55:07.028 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 10:55:07.031 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 10:55:07.031 +02:00 [DBG] Creating DbConnection.
2023-09-25 10:55:07.031 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 10:55:07.031 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 10:55:07.031 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 10:55:07.031 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:55:07.032 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:55:07.032 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 10:55:07.034 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 10:55:07.051 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 10:55:07.067 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:55:07.068 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 33ms reading results.
2023-09-25 10:55:07.068 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 10:55:07.068 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 10:55:07.138 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 10:55:07.138 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 10:55:07.138 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 10:55:07.138 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 10:55:07.138 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 10:55:07.138 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 10:55:07.140 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI) in 132.3727ms
2023-09-25 10:55:07.140 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 10:55:07.140 +02:00 [DBG] Connection id "0HMTTKK6K21E6" completed keep alive response.
2023-09-25 10:55:07.140 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 10:55:07.140 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 10:55:07.140 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 10:55:07.140 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 51 - 200 361 application/json;+charset=utf-8 134.9986ms
2023-09-25 10:55:48.156 +02:00 [DBG] Connection id "0HMTTKK6K21E7" received FIN.
2023-09-25 10:55:48.161 +02:00 [DBG] Connection id "0HMTTKK6K21E7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 10:55:48.163 +02:00 [DBG] Connection id "0HMTTKK6K21E7" disconnecting.
2023-09-25 10:55:48.165 +02:00 [DBG] Connection id "0HMTTKK6K21E7" stopped.
2023-09-25 10:57:17.949 +02:00 [DBG] Connection id "0HMTTKK6K21E6" disconnecting.
2023-09-25 10:57:17.949 +02:00 [DBG] Connection id "0HMTTKK6K21E6" stopped.
2023-09-25 10:57:17.950 +02:00 [DBG] Connection id "0HMTTKK6K21E6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:00:38.728 +02:00 [INF] Application is shutting down...
2023-09-25 11:00:38.730 +02:00 [DBG] Hosting stopping
2023-09-25 11:00:38.737 +02:00 [DBG] Hosting stopped
2023-09-25 11:00:40.655 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 11:00:40.709 +02:00 [DBG] Hosting starting
2023-09-25 11:00:40.881 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 11:00:40.881 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 11:00:40.881 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 11:00:40.881 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 11:00:40.881 +02:00 [INF] Hosting environment: Development
2023-09-25 11:00:40.881 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 11:00:40.881 +02:00 [DBG] Hosting started
2023-09-25 11:00:41.220 +02:00 [DBG] Connection id "0HMTTKNIFT4FT" received FIN.
2023-09-25 11:00:41.224 +02:00 [DBG] Connection id "0HMTTKNIFT4FT" accepted.
2023-09-25 11:00:41.225 +02:00 [DBG] Connection id "0HMTTKNIFT4FT" started.
2023-09-25 11:00:41.239 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:00:41.249 +02:00 [DBG] Connection id "0HMTTKNIFT4FT" stopped.
2023-09-25 11:00:41.251 +02:00 [DBG] Connection id "0HMTTKNIFT4FT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:00:41.331 +02:00 [DBG] Connection id "0HMTTKNIFT4FU" accepted.
2023-09-25 11:00:41.331 +02:00 [DBG] Connection id "0HMTTKNIFT4FU" started.
2023-09-25 11:00:41.332 +02:00 [DBG] Connection id "0HMTTKNIFT4FV" accepted.
2023-09-25 11:00:41.332 +02:00 [DBG] Connection id "0HMTTKNIFT4FV" started.
2023-09-25 11:00:41.369 +02:00 [DBG] Connection 0HMTTKNIFT4FU established using the following protocol: "Tls12"
2023-09-25 11:00:41.369 +02:00 [DBG] Connection 0HMTTKNIFT4FV established using the following protocol: "Tls12"
2023-09-25 11:00:41.395 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 11:00:41.396 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 11:00:41.410 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 11:00:41.410 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:00:41.479 +02:00 [DBG] Connection id "0HMTTKNIFT4FV" completed keep alive response.
2023-09-25 11:00:41.480 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 85.7282ms
2023-09-25 11:00:41.561 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 11:00:41.561 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 11:00:41.561 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:00:41.671 +02:00 [DBG] Connection id "0HMTTKNIFT4FV" completed keep alive response.
2023-09-25 11:00:41.671 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.2597ms
2023-09-25 11:01:41.546 +02:00 [DBG] Connection id "0HMTTKNIFT4FU" received FIN.
2023-09-25 11:01:41.548 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 51
2023-09-25 11:01:41.552 +02:00 [DBG] Connection id "0HMTTKNIFT4FU" disconnecting.
2023-09-25 11:01:41.554 +02:00 [DBG] Connection id "0HMTTKNIFT4FU" stopped.
2023-09-25 11:01:41.555 +02:00 [DBG] 1 candidate(s) found for the request path '/login'
2023-09-25 11:01:41.556 +02:00 [DBG] Connection id "0HMTTKNIFT4FU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:01:41.562 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)' with route pattern 'login' is valid for the request path '/login'
2023-09-25 11:01:41.563 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:01:41.565 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:01:41.566 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:01:41.581 +02:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 11:01:41.581 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 11:01:41.581 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 11:01:41.581 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 11:01:41.581 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 11:01:41.581 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 11:01:41.582 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 11:01:41.660 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 11:01:41.673 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 11:01:41.675 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 11:01:41.676 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-25 11:01:41.677 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 11:01:41.677 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 11:01:41.680 +02:00 [DBG] Connection id "0HMTTKNIFT4FV", Request id "0HMTTKNIFT4FV:00000003": started reading request body.
2023-09-25 11:01:41.680 +02:00 [DBG] Connection id "0HMTTKNIFT4FV", Request id "0HMTTKNIFT4FV:00000003": done reading request body.
2023-09-25 11:01:41.697 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:01:41.697 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:01:41.697 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 11:01:41.700 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:01:42.220 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 11:01:42.245 +02:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.Username.ToLower() == __ToLower_0 && u.Password == __loginRequestDto_Password_1)'
2023-09-25 11:01:42.396 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.Username (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.Username
        FROM LocalUsers AS l
        WHERE (lower(l.Username) == @__ToLower_0) && (l.Password == @__loginRequestDto_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-25 11:01:42.422 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 11:01:42.423 +02:00 [DBG] Creating DbConnection.
2023-09-25 11:01:42.445 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-25 11:01:42.449 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-09-25 11:01:42.452 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2023-09-25 11:01:42.454 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:01:42.534 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:01:42.543 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 11:01:42.569 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 11:01:42.583 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:01:42.595 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:01:42.601 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 28ms reading results.
2023-09-25 11:01:42.603 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:01:42.607 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-25 11:01:42.666 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 11:01:42.667 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 11:01:42.667 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 11:01:42.667 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 11:01:42.667 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 11:01:42.667 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 11:01:42.686 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI) in 1103.1006ms
2023-09-25 11:01:42.687 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:01:42.687 +02:00 [DBG] Connection id "0HMTTKNIFT4FV" completed keep alive response.
2023-09-25 11:01:42.688 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 11:01:42.690 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:01:42.692 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (1ms).
2023-09-25 11:01:42.692 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 51 - 200 361 application/json;+charset=utf-8 1143.8379ms
2023-09-25 11:03:52.971 +02:00 [DBG] Connection id "0HMTTKNIFT4FV" disconnecting.
2023-09-25 11:03:52.973 +02:00 [DBG] Connection id "0HMTTKNIFT4FV" stopped.
2023-09-25 11:03:52.974 +02:00 [DBG] Connection id "0HMTTKNIFT4FV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:17:06.881 +02:00 [INF] Application is shutting down...
2023-09-25 11:17:06.884 +02:00 [DBG] Hosting stopping
2023-09-25 11:17:06.902 +02:00 [DBG] Hosting stopped
2023-09-25 11:17:53.107 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 11:17:53.168 +02:00 [DBG] Hosting starting
2023-09-25 11:17:53.175 +02:00 [INF] User profile is available. Using '/Users/agostinodefelice/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-25 11:17:53.176 +02:00 [DBG] Reading data from file '/Users/agostinodefelice/.aspnet/DataProtection-Keys/key-d8186e36-3361-4d70-8192-27a2145857c3.xml'.
2023-09-25 11:17:53.180 +02:00 [DBG] Found key {d8186e36-3361-4d70-8192-27a2145857c3}.
2023-09-25 11:17:53.184 +02:00 [DBG] Considering key {d8186e36-3361-4d70-8192-27a2145857c3} with expiration date 2023-12-10 07:49:15Z as default key.
2023-09-25 11:17:53.184 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-25 11:17:53.186 +02:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-09-25 11:17:53.186 +02:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-09-25 11:17:53.187 +02:00 [DBG] Using key {d8186e36-3361-4d70-8192-27a2145857c3} as the default key.
2023-09-25 11:17:53.187 +02:00 [DBG] Key ring with default key {d8186e36-3361-4d70-8192-27a2145857c3} was loaded during application startup.
2023-09-25 11:17:53.365 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 11:17:53.365 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 11:17:53.365 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 11:17:53.365 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 11:17:53.365 +02:00 [INF] Hosting environment: Development
2023-09-25 11:17:53.365 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 11:17:53.365 +02:00 [DBG] Hosting started
2023-09-25 11:17:53.552 +02:00 [DBG] Connection id "0HMTTL164VSQF" received FIN.
2023-09-25 11:17:53.555 +02:00 [DBG] Connection id "0HMTTL164VSQF" accepted.
2023-09-25 11:17:53.555 +02:00 [DBG] Connection id "0HMTTL164VSQF" started.
2023-09-25 11:17:53.564 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:17:53.577 +02:00 [DBG] Connection id "0HMTTL164VSQF" stopped.
2023-09-25 11:17:53.580 +02:00 [DBG] Connection id "0HMTTL164VSQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:17:53.645 +02:00 [DBG] Connection id "0HMTTL164VSQG" accepted.
2023-09-25 11:17:53.645 +02:00 [DBG] Connection id "0HMTTL164VSQG" started.
2023-09-25 11:17:53.645 +02:00 [DBG] Connection id "0HMTTL164VSQH" accepted.
2023-09-25 11:17:53.646 +02:00 [DBG] Connection id "0HMTTL164VSQH" started.
2023-09-25 11:17:53.681 +02:00 [DBG] Connection 0HMTTL164VSQH established using the following protocol: "Tls12"
2023-09-25 11:17:53.681 +02:00 [DBG] Connection 0HMTTL164VSQG established using the following protocol: "Tls12"
2023-09-25 11:17:53.703 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 11:17:53.704 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 11:17:53.716 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 11:17:53.716 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:17:53.783 +02:00 [DBG] Connection id "0HMTTL164VSQG" completed keep alive response.
2023-09-25 11:17:53.784 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 81.4539ms
2023-09-25 11:17:53.871 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 11:17:53.872 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 11:17:53.872 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:17:53.983 +02:00 [DBG] Connection id "0HMTTL164VSQG" completed keep alive response.
2023-09-25 11:17:53.983 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.3224ms
2023-09-25 11:20:04.365 +02:00 [DBG] Connection id "0HMTTL164VSQG" disconnecting.
2023-09-25 11:20:04.365 +02:00 [DBG] Connection id "0HMTTL164VSQH" disconnecting.
2023-09-25 11:20:04.367 +02:00 [DBG] Connection id "0HMTTL164VSQG" stopped.
2023-09-25 11:20:04.367 +02:00 [DBG] Connection id "0HMTTL164VSQH" stopped.
2023-09-25 11:20:04.367 +02:00 [DBG] Connection id "0HMTTL164VSQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:20:04.368 +02:00 [DBG] Connection id "0HMTTL164VSQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:26:59.373 +02:00 [INF] Application is shutting down...
2023-09-25 11:26:59.375 +02:00 [DBG] Hosting stopping
2023-09-25 11:26:59.383 +02:00 [DBG] Hosting stopped
2023-09-25 11:27:01.442 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 11:27:01.498 +02:00 [DBG] Hosting starting
2023-09-25 11:27:01.505 +02:00 [INF] User profile is available. Using '/Users/agostinodefelice/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-25 11:27:01.508 +02:00 [DBG] Reading data from file '/Users/agostinodefelice/.aspnet/DataProtection-Keys/key-d8186e36-3361-4d70-8192-27a2145857c3.xml'.
2023-09-25 11:27:01.512 +02:00 [DBG] Found key {d8186e36-3361-4d70-8192-27a2145857c3}.
2023-09-25 11:27:01.516 +02:00 [DBG] Considering key {d8186e36-3361-4d70-8192-27a2145857c3} with expiration date 2023-12-10 07:49:15Z as default key.
2023-09-25 11:27:01.516 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-25 11:27:01.517 +02:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-09-25 11:27:01.518 +02:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-09-25 11:27:01.519 +02:00 [DBG] Using key {d8186e36-3361-4d70-8192-27a2145857c3} as the default key.
2023-09-25 11:27:01.519 +02:00 [DBG] Key ring with default key {d8186e36-3361-4d70-8192-27a2145857c3} was loaded during application startup.
2023-09-25 11:27:01.684 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 11:27:01.684 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 11:27:01.684 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 11:27:01.684 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 11:27:01.684 +02:00 [INF] Hosting environment: Development
2023-09-25 11:27:01.684 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 11:27:01.684 +02:00 [DBG] Hosting started
2023-09-25 11:27:01.976 +02:00 [DBG] Connection id "0HMTTL69J5PKL" received FIN.
2023-09-25 11:27:01.978 +02:00 [DBG] Connection id "0HMTTL69J5PKL" accepted.
2023-09-25 11:27:01.979 +02:00 [DBG] Connection id "0HMTTL69J5PKL" started.
2023-09-25 11:27:01.984 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:27:01.994 +02:00 [DBG] Connection id "0HMTTL69J5PKL" stopped.
2023-09-25 11:27:01.997 +02:00 [DBG] Connection id "0HMTTL69J5PKL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:27:02.081 +02:00 [DBG] Connection id "0HMTTL69J5PKM" accepted.
2023-09-25 11:27:02.082 +02:00 [DBG] Connection id "0HMTTL69J5PKN" accepted.
2023-09-25 11:27:02.082 +02:00 [DBG] Connection id "0HMTTL69J5PKN" started.
2023-09-25 11:27:02.082 +02:00 [DBG] Connection id "0HMTTL69J5PKM" started.
2023-09-25 11:27:02.125 +02:00 [DBG] Connection 0HMTTL69J5PKM established using the following protocol: "Tls12"
2023-09-25 11:27:02.125 +02:00 [DBG] Connection 0HMTTL69J5PKN established using the following protocol: "Tls12"
2023-09-25 11:27:02.147 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 11:27:02.148 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 11:27:02.162 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 11:27:02.162 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:27:02.236 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:27:02.236 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 90.1298ms
2023-09-25 11:27:02.322 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 11:27:02.323 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 11:27:02.323 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:27:02.444 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:27:02.444 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.3234ms
2023-09-25 11:28:28.977 +02:00 [DBG] Connection id "0HMTTL69J5PKM" received FIN.
2023-09-25 11:28:28.983 +02:00 [DBG] Connection id "0HMTTL69J5PKM" disconnecting.
2023-09-25 11:28:28.986 +02:00 [DBG] Connection id "0HMTTL69J5PKM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:28:28.987 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 136
2023-09-25 11:28:28.987 +02:00 [DBG] Connection id "0HMTTL69J5PKM" stopped.
2023-09-25 11:28:28.992 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:28:28.997 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:28:28.997 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 11:28:28.998 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:28:29.025 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:28:29.029 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-25 11:28:29.033 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 11:28:29.033 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:28:29.033 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 136 - 401 0 - 45.8699ms
2023-09-25 11:28:29.033 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000003": started reading request body.
2023-09-25 11:28:29.034 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000003": done reading request body.
2023-09-25 11:28:52.425 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 51
2023-09-25 11:28:52.425 +02:00 [DBG] 1 candidate(s) found for the request path '/login'
2023-09-25 11:28:52.425 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)' with route pattern 'login' is valid for the request path '/login'
2023-09-25 11:28:52.425 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:28:52.425 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:28:52.428 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:28:52.429 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:28:52.452 +02:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 11:28:52.453 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 11:28:52.453 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 11:28:52.453 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 11:28:52.453 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 11:28:52.453 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 11:28:52.454 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 11:28:52.545 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 11:28:52.557 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 11:28:52.559 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 11:28:52.560 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-25 11:28:52.560 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 11:28:52.560 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 11:28:52.562 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000004": started reading request body.
2023-09-25 11:28:52.562 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000004": done reading request body.
2023-09-25 11:28:52.577 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:28:52.577 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:28:52.577 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 11:28:52.580 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:28:53.097 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 11:28:53.119 +02:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.Username.ToLower() == __ToLower_0 && u.Password == __loginRequestDto_Password_1)'
2023-09-25 11:28:53.262 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.Username (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.Username
        FROM LocalUsers AS l
        WHERE (lower(l.Username) == @__ToLower_0) && (l.Password == @__loginRequestDto_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-25 11:28:53.289 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 11:28:53.290 +02:00 [DBG] Creating DbConnection.
2023-09-25 11:28:53.315 +02:00 [DBG] Created DbConnection. (21ms).
2023-09-25 11:28:53.319 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-25 11:28:53.322 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2023-09-25 11:28:53.324 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:28:53.410 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:28:53.420 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 11:28:53.449 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 11:28:53.464 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:28:53.477 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:28:53.484 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 29ms reading results.
2023-09-25 11:28:53.486 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:28:53.490 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-25 11:28:53.553 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 11:28:53.554 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 11:28:53.554 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 11:28:53.554 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 11:28:53.555 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 11:28:53.555 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 11:28:53.575 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI) in 1119.7467ms
2023-09-25 11:28:53.576 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:28:53.576 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:28:53.577 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 11:28:53.579 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:28:53.580 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (1ms).
2023-09-25 11:28:53.581 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 51 - 200 361 application/json;+charset=utf-8 1156.1942ms
2023-09-25 11:29:10.765 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE application/json-patch+json 136
2023-09-25 11:29:10.768 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:29:10.768 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:29:10.768 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 11:29:10.768 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:29:10.770 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:29:10.774 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-25 11:29:10.774 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 11:29:10.775 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:29:10.775 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE application/json-patch+json 136 - 401 0 - 9.4764ms
2023-09-25 11:29:10.775 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000005": started reading request body.
2023-09-25 11:29:10.775 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000005": done reading request body.
2023-09-25 11:29:18.018 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE application/json-patch+json 136
2023-09-25 11:29:18.019 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:29:18.019 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:29:18.019 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 11:29:18.019 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:29:18.020 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:29:18.022 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-25 11:29:18.023 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 11:29:18.023 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:29:18.023 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE application/json-patch+json 136 - 401 0 - 4.8251ms
2023-09-25 11:29:18.024 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000006": started reading request body.
2023-09-25 11:29:18.024 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000006": done reading request body.
2023-09-25 11:29:42.125 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE application/json-patch+json 136
2023-09-25 11:29:42.125 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:29:42.125 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:29:42.125 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 11:29:42.126 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:29:42.126 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:29:42.126 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-25 11:29:42.126 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 11:29:42.126 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:29:42.127 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE application/json-patch+json 136 - 401 0 - 1.3910ms
2023-09-25 11:29:42.127 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000007": started reading request body.
2023-09-25 11:29:42.127 +02:00 [DBG] Connection id "0HMTTL69J5PKN", Request id "0HMTTL69J5PKN:00000007": done reading request body.
2023-09-25 11:30:16.940 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE - -
2023-09-25 11:30:16.940 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:30:16.940 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:30:16.941 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:30:16.941 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:30:16.941 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:30:16.941 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:30:16.951 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 11:30:16.951 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 11:30:16.952 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 11:30:16.952 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 11:30:16.952 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 11:30:16.952 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 11:30:16.952 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 11:30:16.969 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 11:30:17.040 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 11:30:17.041 +02:00 [INF] Getting all villas
2023-09-25 11:30:17.044 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-25 11:30:17.047 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-25 11:30:17.053 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 11:30:17.053 +02:00 [DBG] Creating DbConnection.
2023-09-25 11:30:17.053 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 11:30:17.053 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 11:30:17.053 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 11:30:17.054 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:30:17.055 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:30:17.055 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 11:30:17.063 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 11:30:17.070 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:30:17.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:30:17.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:30:17.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:30:17.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:30:17.082 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:30:17.082 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 19ms reading results.
2023-09-25 11:30:17.084 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:30:17.084 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 11:30:17.094 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 11:30:17.095 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-25 11:30:17.095 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-25 11:30:17.095 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 11:30:17.095 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 11:30:17.095 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 11:30:17.095 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 11:30:17.100 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 148.007ms
2023-09-25 11:30:17.100 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:30:17.102 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:30:17.102 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 11:30:17.103 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:30:17.103 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 11:30:17.103 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE - - - 200 1695 application/json;+charset=utf-8 162.8690ms
2023-09-25 11:31:32.173 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7001/api/VillaApi/5?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE - -
2023-09-25 11:31:32.175 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi/5'
2023-09-25 11:31:32.175 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/VillaApi/5'
2023-09-25 11:31:32.175 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-25 11:31:32.175 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:31:32.176 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:31:32.180 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-09-25 11:31:32.180 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 11:31:32.181 +02:00 [DBG] Connection id "0HMTTL69J5PKN" completed keep alive response.
2023-09-25 11:31:32.181 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7001/api/VillaApi/5?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQxMzMsImV4cCI6MTY5NjIzODkzMywiaWF0IjoxNjk1NjM0MTMzfQ.LbeOm6WP9CUI-7b4BZSJzWlrxAD7Fis1m12iSQZG_CE - - - 401 0 - 8.3730ms
2023-09-25 11:31:58.308 +02:00 [INF] Application is shutting down...
2023-09-25 11:31:58.310 +02:00 [DBG] Hosting stopping
2023-09-25 11:31:58.317 +02:00 [DBG] Connection id "0HMTTL69J5PKN" disconnecting.
2023-09-25 11:31:58.317 +02:00 [DBG] Connection id "0HMTTL69J5PKN" stopped.
2023-09-25 11:31:58.317 +02:00 [DBG] Connection id "0HMTTL69J5PKN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:31:58.321 +02:00 [DBG] Hosting stopped
2023-09-25 11:32:03.547 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 11:32:03.611 +02:00 [DBG] Hosting starting
2023-09-25 11:32:03.628 +02:00 [INF] User profile is available. Using '/Users/agostinodefelice/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-25 11:32:03.632 +02:00 [DBG] Reading data from file '/Users/agostinodefelice/.aspnet/DataProtection-Keys/key-d8186e36-3361-4d70-8192-27a2145857c3.xml'.
2023-09-25 11:32:03.636 +02:00 [DBG] Found key {d8186e36-3361-4d70-8192-27a2145857c3}.
2023-09-25 11:32:03.641 +02:00 [DBG] Considering key {d8186e36-3361-4d70-8192-27a2145857c3} with expiration date 2023-12-10 07:49:15Z as default key.
2023-09-25 11:32:03.644 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-25 11:32:03.648 +02:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-09-25 11:32:03.648 +02:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-09-25 11:32:03.649 +02:00 [DBG] Using key {d8186e36-3361-4d70-8192-27a2145857c3} as the default key.
2023-09-25 11:32:03.650 +02:00 [DBG] Key ring with default key {d8186e36-3361-4d70-8192-27a2145857c3} was loaded during application startup.
2023-09-25 11:32:03.903 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 11:32:03.905 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 11:32:03.905 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 11:32:03.905 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 11:32:03.905 +02:00 [INF] Hosting environment: Development
2023-09-25 11:32:03.905 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 11:32:03.905 +02:00 [DBG] Hosting started
2023-09-25 11:32:04.320 +02:00 [DBG] Connection id "0HMTTL93MHQ7T" received FIN.
2023-09-25 11:32:04.323 +02:00 [DBG] Connection id "0HMTTL93MHQ7T" accepted.
2023-09-25 11:32:04.324 +02:00 [DBG] Connection id "0HMTTL93MHQ7T" started.
2023-09-25 11:32:04.336 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:32:04.358 +02:00 [DBG] Connection id "0HMTTL93MHQ7T" stopped.
2023-09-25 11:32:04.360 +02:00 [DBG] Connection id "0HMTTL93MHQ7T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:32:04.403 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" accepted.
2023-09-25 11:32:04.403 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" started.
2023-09-25 11:32:04.403 +02:00 [DBG] Connection id "0HMTTL93MHQ7V" accepted.
2023-09-25 11:32:04.403 +02:00 [DBG] Connection id "0HMTTL93MHQ7V" started.
2023-09-25 11:32:04.455 +02:00 [DBG] Connection 0HMTTL93MHQ7U established using the following protocol: "Tls12"
2023-09-25 11:32:04.455 +02:00 [DBG] Connection 0HMTTL93MHQ7V established using the following protocol: "Tls12"
2023-09-25 11:32:04.481 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 11:32:04.481 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 11:32:04.496 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 11:32:04.496 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:32:04.579 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" completed keep alive response.
2023-09-25 11:32:04.581 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 100.9815ms
2023-09-25 11:32:04.677 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 11:32:04.677 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 11:32:04.677 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:32:04.826 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" completed keep alive response.
2023-09-25 11:32:04.826 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.7460ms
2023-09-25 11:32:20.035 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 51
2023-09-25 11:32:20.053 +02:00 [DBG] 1 candidate(s) found for the request path '/login'
2023-09-25 11:32:20.055 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)' with route pattern 'login' is valid for the request path '/login'
2023-09-25 11:32:20.055 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:32:20.056 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:32:20.116 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:32:20.118 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:32:20.132 +02:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 11:32:20.132 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 11:32:20.132 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 11:32:20.132 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 11:32:20.132 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 11:32:20.132 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 11:32:20.133 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 11:32:20.225 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 11:32:20.239 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 11:32:20.241 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 11:32:20.242 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-25 11:32:20.242 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 11:32:20.242 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 11:32:20.245 +02:00 [DBG] Connection id "0HMTTL93MHQ7U", Request id "0HMTTL93MHQ7U:00000003": started reading request body.
2023-09-25 11:32:20.245 +02:00 [DBG] Connection id "0HMTTL93MHQ7U", Request id "0HMTTL93MHQ7U:00000003": done reading request body.
2023-09-25 11:32:20.264 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:32:20.264 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:32:20.264 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 11:32:20.267 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:32:20.934 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 11:32:20.964 +02:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.Username.ToLower() == __ToLower_0 && u.Password == __loginRequestDto_Password_1)'
2023-09-25 11:32:21.140 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.Username (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.Username
        FROM LocalUsers AS l
        WHERE (lower(l.Username) == @__ToLower_0) && (l.Password == @__loginRequestDto_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-25 11:32:21.172 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 11:32:21.173 +02:00 [DBG] Creating DbConnection.
2023-09-25 11:32:21.205 +02:00 [DBG] Created DbConnection. (29ms).
2023-09-25 11:32:21.210 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2023-09-25 11:32:21.214 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (43ms).
2023-09-25 11:32:21.216 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:32:21.317 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:32:21.327 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 11:32:21.359 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 11:32:21.375 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:32:21.388 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:32:21.395 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 31ms reading results.
2023-09-25 11:32:21.398 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:32:21.402 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-25 11:32:21.484 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 11:32:21.485 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 11:32:21.485 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 11:32:21.485 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 11:32:21.485 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 11:32:21.485 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 11:32:21.508 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI) in 1372.9202ms
2023-09-25 11:32:21.508 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:32:21.508 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" completed keep alive response.
2023-09-25 11:32:21.510 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 11:32:21.512 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:32:21.514 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (1ms).
2023-09-25 11:32:21.514 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/login application/json-patch+json 51 - 200 361 application/json;+charset=utf-8 1479.0507ms
2023-09-25 11:32:48.674 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7001/api/VillaApi/5?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQzNDEsImV4cCI6MTY5NjIzOTE0MSwiaWF0IjoxNjk1NjM0MzQxfQ.A3NQ7TCpAn892HtTk-nJ7aP4EPYV4iY7GkidmdnjAXY - -
2023-09-25 11:32:48.676 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi/5'
2023-09-25 11:32:48.677 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/VillaApi/5'
2023-09-25 11:32:48.677 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-25 11:32:48.677 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:32:48.688 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:32:48.703 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-09-25 11:32:48.709 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 11:32:48.709 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" completed keep alive response.
2023-09-25 11:32:48.710 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7001/api/VillaApi/5?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQzNDEsImV4cCI6MTY5NjIzOTE0MSwiaWF0IjoxNjk1NjM0MzQxfQ.A3NQ7TCpAn892HtTk-nJ7aP4EPYV4iY7GkidmdnjAXY - - - 401 0 - 35.7215ms
2023-09-25 11:33:37.716 +02:00 [DBG] Connection id "0HMTTL93MHQ7V" received FIN.
2023-09-25 11:33:37.725 +02:00 [DBG] Connection id "0HMTTL93MHQ7V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:33:37.728 +02:00 [DBG] Connection id "0HMTTL93MHQ7V" disconnecting.
2023-09-25 11:33:37.734 +02:00 [DBG] Connection id "0HMTTL93MHQ7V" stopped.
2023-09-25 11:37:50.509 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" received FIN.
2023-09-25 11:37:50.554 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" disconnecting.
2023-09-25 11:37:50.555 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:37:50.557 +02:00 [DBG] Connection id "0HMTTL93MHQ7U" stopped.
2023-09-25 11:54:27.944 +02:00 [DBG] Connection id "0HMTTL93MHQ80" accepted.
2023-09-25 11:54:27.953 +02:00 [DBG] Connection id "0HMTTL93MHQ80" started.
2023-09-25 11:54:27.981 +02:00 [DBG] Connection 0HMTTL93MHQ80 established using the following protocol: "Tls12"
2023-09-25 11:54:27.988 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/login?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQzNDEsImV4cCI6MTY5NjIzOTE0MSwiaWF0IjoxNjk1NjM0MzQxfQ.A3NQ7TCpAn892HtTk-nJ7aP4EPYV4iY7GkidmdnjAXY application/json-patch+json 51
2023-09-25 11:54:27.989 +02:00 [DBG] 1 candidate(s) found for the request path '/login'
2023-09-25 11:54:27.989 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)' with route pattern 'login' is valid for the request path '/login'
2023-09-25 11:54:27.989 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:54:27.989 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:54:27.991 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:54:27.991 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:54:27.992 +02:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI).
2023-09-25 11:54:27.992 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 11:54:27.992 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 11:54:27.993 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 11:54:27.993 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 11:54:27.993 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 11:54:27.993 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 11:54:27.995 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UsersController (MagicVilla_VillaAPI)
2023-09-25 11:54:28.002 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 11:54:28.003 +02:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-25 11:54:28.003 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 11:54:28.003 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-25 11:54:28.003 +02:00 [DBG] Connection id "0HMTTL93MHQ80", Request id "0HMTTL93MHQ80:00000001": started reading request body.
2023-09-25 11:54:28.003 +02:00 [DBG] Connection id "0HMTTL93MHQ80", Request id "0HMTTL93MHQ80:00000001": done reading request body.
2023-09-25 11:54:28.004 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:54:28.004 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:54:28.004 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-25 11:54:28.004 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-25 11:54:28.024 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 11:54:28.028 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 11:54:28.028 +02:00 [DBG] Creating DbConnection.
2023-09-25 11:54:28.028 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 11:54:28.028 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 11:54:28.028 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 11:54:28.028 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:54:28.048 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:54:28.049 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 11:54:28.053 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?', @__loginRequestDto_Password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."Name", l."Password", l."Role", l."Username"
FROM "LocalUsers" AS l
WHERE lower(l."Username") = @__ToLower_0 AND l."Password" = @__loginRequestDto_Password_1
LIMIT 1
2023-09-25 11:54:28.053 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:54:28.053 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:54:28.053 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 11:54:28.054 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:54:28.054 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 11:54:28.054 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 11:54:28.054 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 11:54:28.054 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 11:54:28.055 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 11:54:28.055 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 11:54:28.055 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 11:54:28.055 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI) in 62.3805ms
2023-09-25 11:54:28.055 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UsersController.Login (MagicVilla_VillaAPI)'
2023-09-25 11:54:28.055 +02:00 [DBG] Connection id "0HMTTL93MHQ80" completed keep alive response.
2023-09-25 11:54:28.055 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 11:54:28.055 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:54:28.055 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 11:54:28.055 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/login?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQzNDEsImV4cCI6MTY5NjIzOTE0MSwiaWF0IjoxNjk1NjM0MzQxfQ.A3NQ7TCpAn892HtTk-nJ7aP4EPYV4iY7GkidmdnjAXY application/json-patch+json 51 - 200 361 application/json;+charset=utf-8 67.3415ms
2023-09-25 11:54:42.156 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 11:54:42.224 +02:00 [DBG] Hosting starting
2023-09-25 11:54:42.244 +02:00 [INF] User profile is available. Using '/Users/agostinodefelice/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-25 11:54:42.246 +02:00 [DBG] Reading data from file '/Users/agostinodefelice/.aspnet/DataProtection-Keys/key-d8186e36-3361-4d70-8192-27a2145857c3.xml'.
2023-09-25 11:54:42.251 +02:00 [DBG] Found key {d8186e36-3361-4d70-8192-27a2145857c3}.
2023-09-25 11:54:42.256 +02:00 [DBG] Considering key {d8186e36-3361-4d70-8192-27a2145857c3} with expiration date 2023-12-10 07:49:15Z as default key.
2023-09-25 11:54:42.257 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-25 11:54:42.262 +02:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-09-25 11:54:42.262 +02:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-09-25 11:54:42.264 +02:00 [DBG] Using key {d8186e36-3361-4d70-8192-27a2145857c3} as the default key.
2023-09-25 11:54:42.264 +02:00 [DBG] Key ring with default key {d8186e36-3361-4d70-8192-27a2145857c3} was loaded during application startup.
2023-09-25 11:54:42.503 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 11:54:42.503 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 11:54:42.504 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 11:54:42.505 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 11:54:42.505 +02:00 [INF] Hosting environment: Development
2023-09-25 11:54:42.505 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 11:54:42.505 +02:00 [DBG] Hosting started
2023-09-25 11:54:42.904 +02:00 [DBG] Connection id "0HMTTLLOJ0K1J" received FIN.
2023-09-25 11:54:42.907 +02:00 [DBG] Connection id "0HMTTLLOJ0K1J" accepted.
2023-09-25 11:54:42.907 +02:00 [DBG] Connection id "0HMTTLLOJ0K1J" started.
2023-09-25 11:54:42.915 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:54:42.930 +02:00 [DBG] Connection id "0HMTTLLOJ0K1J" stopped.
2023-09-25 11:54:42.932 +02:00 [DBG] Connection id "0HMTTLLOJ0K1J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:54:43.038 +02:00 [DBG] Connection id "0HMTTLLOJ0K1K" accepted.
2023-09-25 11:54:43.038 +02:00 [DBG] Connection id "0HMTTLLOJ0K1K" started.
2023-09-25 11:54:43.044 +02:00 [DBG] Connection id "0HMTTLLOJ0K1L" accepted.
2023-09-25 11:54:43.045 +02:00 [DBG] Connection id "0HMTTLLOJ0K1L" started.
2023-09-25 11:54:43.156 +02:00 [DBG] Connection 0HMTTLLOJ0K1L established using the following protocol: "Tls12"
2023-09-25 11:54:43.156 +02:00 [DBG] Connection 0HMTTLLOJ0K1K established using the following protocol: "Tls12"
2023-09-25 11:54:43.183 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 11:54:43.184 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 11:54:43.198 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 11:54:43.198 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:54:43.276 +02:00 [DBG] Connection id "0HMTTLLOJ0K1L" completed keep alive response.
2023-09-25 11:54:43.277 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 95.1802ms
2023-09-25 11:54:43.375 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 11:54:43.375 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 11:54:43.375 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:54:43.513 +02:00 [DBG] Connection id "0HMTTLLOJ0K1L" completed keep alive response.
2023-09-25 11:54:43.513 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.5489ms
2023-09-25 11:58:09.456 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 11:58:09.512 +02:00 [DBG] Hosting starting
2023-09-25 11:58:09.518 +02:00 [INF] User profile is available. Using '/Users/agostinodefelice/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-25 11:58:09.520 +02:00 [DBG] Reading data from file '/Users/agostinodefelice/.aspnet/DataProtection-Keys/key-d8186e36-3361-4d70-8192-27a2145857c3.xml'.
2023-09-25 11:58:09.524 +02:00 [DBG] Found key {d8186e36-3361-4d70-8192-27a2145857c3}.
2023-09-25 11:58:09.528 +02:00 [DBG] Considering key {d8186e36-3361-4d70-8192-27a2145857c3} with expiration date 2023-12-10 07:49:15Z as default key.
2023-09-25 11:58:09.528 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-25 11:58:09.530 +02:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-09-25 11:58:09.530 +02:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-09-25 11:58:09.531 +02:00 [DBG] Using key {d8186e36-3361-4d70-8192-27a2145857c3} as the default key.
2023-09-25 11:58:09.531 +02:00 [DBG] Key ring with default key {d8186e36-3361-4d70-8192-27a2145857c3} was loaded during application startup.
2023-09-25 11:58:09.716 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 11:58:09.716 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 11:58:09.716 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 11:58:09.716 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 11:58:09.716 +02:00 [INF] Hosting environment: Development
2023-09-25 11:58:09.716 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 11:58:09.716 +02:00 [DBG] Hosting started
2023-09-25 11:58:09.989 +02:00 [DBG] Connection id "0HMTTLNM9U451" received FIN.
2023-09-25 11:58:09.992 +02:00 [DBG] Connection id "0HMTTLNM9U451" accepted.
2023-09-25 11:58:09.992 +02:00 [DBG] Connection id "0HMTTLNM9U451" started.
2023-09-25 11:58:09.999 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:58:10.021 +02:00 [DBG] Connection id "0HMTTLNM9U451" stopped.
2023-09-25 11:58:10.022 +02:00 [DBG] Connection id "0HMTTLNM9U451" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:58:10.029 +02:00 [DBG] Connection id "0HMTTLNM9U452" accepted.
2023-09-25 11:58:10.030 +02:00 [DBG] Connection id "0HMTTLNM9U452" started.
2023-09-25 11:58:10.030 +02:00 [DBG] Connection id "0HMTTLNM9U453" accepted.
2023-09-25 11:58:10.030 +02:00 [DBG] Connection id "0HMTTLNM9U453" started.
2023-09-25 11:58:10.114 +02:00 [DBG] Connection 0HMTTLNM9U452 established using the following protocol: "Tls12"
2023-09-25 11:58:10.114 +02:00 [DBG] Connection 0HMTTLNM9U453 established using the following protocol: "Tls12"
2023-09-25 11:58:10.141 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 11:58:10.142 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 11:58:10.158 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 11:58:10.158 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:58:10.247 +02:00 [DBG] Connection id "0HMTTLNM9U452" completed keep alive response.
2023-09-25 11:58:10.248 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 107.9843ms
2023-09-25 11:58:10.346 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 11:58:10.346 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 11:58:10.346 +02:00 [DBG] Request did not match any endpoints
2023-09-25 11:58:10.487 +02:00 [DBG] Connection id "0HMTTLNM9U452" completed keep alive response.
2023-09-25 11:58:10.488 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.9410ms
2023-09-25 11:58:17.466 +02:00 [DBG] Connection id "0HMTTLNM9U454" received FIN.
2023-09-25 11:58:17.466 +02:00 [DBG] Connection id "0HMTTLNM9U454" accepted.
2023-09-25 11:58:17.466 +02:00 [DBG] Connection id "0HMTTLNM9U455" accepted.
2023-09-25 11:58:17.467 +02:00 [DBG] Connection id "0HMTTLNM9U454" started.
2023-09-25 11:58:17.467 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:58:17.470 +02:00 [DBG] Connection id "0HMTTLNM9U454" stopped.
2023-09-25 11:58:17.470 +02:00 [DBG] Connection id "0HMTTLNM9U455" started.
2023-09-25 11:58:17.471 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:58:17.473 +02:00 [DBG] Connection id "0HMTTLNM9U455" stopped.
2023-09-25 11:58:17.473 +02:00 [DBG] Connection id "0HMTTLNM9U454" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:58:17.473 +02:00 [DBG] Connection id "0HMTTLNM9U455" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:58:26.064 +02:00 [DBG] Connection id "0HMTTLNM9U456" received FIN.
2023-09-25 11:58:26.064 +02:00 [DBG] Connection id "0HMTTLNM9U456" accepted.
2023-09-25 11:58:26.064 +02:00 [DBG] Connection id "0HMTTLNM9U456" started.
2023-09-25 11:58:26.064 +02:00 [DBG] Connection id "0HMTTLNM9U457" accepted.
2023-09-25 11:58:26.064 +02:00 [DBG] Connection id "0HMTTLNM9U457" started.
2023-09-25 11:58:26.065 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:58:26.065 +02:00 [DBG] Connection id "0HMTTLNM9U456" stopped.
2023-09-25 11:58:26.065 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:58:26.065 +02:00 [DBG] Connection id "0HMTTLNM9U456" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:58:26.066 +02:00 [DBG] Connection id "0HMTTLNM9U457" stopped.
2023-09-25 11:58:26.066 +02:00 [DBG] Connection id "0HMTTLNM9U457" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:58:42.684 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2023-09-25 11:58:42.709 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:58:42.711 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:58:42.711 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:58:42.712 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:58:42.736 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:58:42.739 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-25 11:58:42.742 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 11:58:42.742 +02:00 [DBG] Connection id "0HMTTLNM9U452" completed keep alive response.
2023-09-25 11:58:42.743 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 401 0 - 58.2650ms
2023-09-25 11:59:03.240 +02:00 [DBG] Connection id "0HMTTLNM9U458" received FIN.
2023-09-25 11:59:03.241 +02:00 [DBG] Connection id "0HMTTLNM9U458" accepted.
2023-09-25 11:59:03.241 +02:00 [DBG] Connection id "0HMTTLNM9U459" accepted.
2023-09-25 11:59:03.241 +02:00 [DBG] Connection id "0HMTTLNM9U458" started.
2023-09-25 11:59:03.243 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:59:03.244 +02:00 [DBG] Connection id "0HMTTLNM9U458" stopped.
2023-09-25 11:59:03.244 +02:00 [DBG] Connection id "0HMTTLNM9U458" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:59:03.246 +02:00 [DBG] Connection id "0HMTTLNM9U459" started.
2023-09-25 11:59:03.246 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:59:03.247 +02:00 [DBG] Connection id "0HMTTLNM9U459" stopped.
2023-09-25 11:59:03.247 +02:00 [DBG] Connection id "0HMTTLNM9U459" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:59:46.452 +02:00 [DBG] Connection id "0HMTTLNM9U45A" received FIN.
2023-09-25 11:59:46.454 +02:00 [DBG] Connection id "0HMTTLNM9U45A" accepted.
2023-09-25 11:59:46.454 +02:00 [DBG] Connection id "0HMTTLNM9U45A" started.
2023-09-25 11:59:46.454 +02:00 [DBG] Connection id "0HMTTLNM9U45B" accepted.
2023-09-25 11:59:46.454 +02:00 [DBG] Connection id "0HMTTLNM9U45B" started.
2023-09-25 11:59:46.454 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 11:59:46.455 +02:00 [DBG] Connection id "0HMTTLNM9U45A" stopped.
2023-09-25 11:59:46.455 +02:00 [DBG] Connection id "0HMTTLNM9U45A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 11:59:46.482 +02:00 [DBG] Connection 0HMTTLNM9U45B established using the following protocol: "Tls12"
2023-09-25 11:59:46.483 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2023-09-25 11:59:46.485 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:59:46.485 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:59:46.485 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:59:46.485 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:59:46.579 +02:00 [DBG] Successfully validated the token.
2023-09-25 11:59:46.579 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-09-25 11:59:46.580 +02:00 [DBG] Authorization was successful.
2023-09-25 11:59:46.580 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:59:46.587 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 11:59:46.587 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 11:59:46.587 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 11:59:46.587 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 11:59:46.587 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 11:59:46.588 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 11:59:46.588 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 11:59:46.657 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 11:59:47.148 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 11:59:47.204 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 11:59:47.205 +02:00 [INF] Getting all villas
2023-09-25 11:59:47.225 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-25 11:59:47.310 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-25 11:59:47.330 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 11:59:47.331 +02:00 [DBG] Creating DbConnection.
2023-09-25 11:59:47.354 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-25 11:59:47.358 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-25 11:59:47.358 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2023-09-25 11:59:47.361 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:59:47.455 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:59:47.464 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 11:59:47.488 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 11:59:47.512 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:47.534 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:47.534 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:47.534 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:47.534 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:47.539 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:59:47.546 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 52ms reading results.
2023-09-25 11:59:47.551 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:59:47.556 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-25 11:59:47.573 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 11:59:47.575 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 11:59:47.575 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 11:59:47.575 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 11:59:47.575 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 11:59:47.575 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 11:59:47.619 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1028.7091ms
2023-09-25 11:59:47.620 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:59:47.624 +02:00 [DBG] Connection id "0HMTTLNM9U45B" completed keep alive response.
2023-09-25 11:59:47.627 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 11:59:47.631 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:59:47.634 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-25 11:59:47.635 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 200 1695 application/json;+charset=utf-8 1151.9630ms
2023-09-25 11:59:54.759 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2023-09-25 11:59:54.761 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:59:54.761 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:59:54.761 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:59:54.762 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:59:54.763 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 11:59:54.764 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-25 11:59:54.768 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 11:59:54.768 +02:00 [DBG] Connection id "0HMTTLNM9U45B" completed keep alive response.
2023-09-25 11:59:54.768 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 401 0 - 8.6693ms
2023-09-25 11:59:58.172 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2023-09-25 11:59:58.172 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 11:59:58.172 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 11:59:58.172 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:59:58.172 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 11:59:58.176 +02:00 [DBG] Successfully validated the token.
2023-09-25 11:59:58.177 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-09-25 11:59:58.177 +02:00 [DBG] Authorization was successful.
2023-09-25 11:59:58.177 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:59:58.177 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 11:59:58.177 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 11:59:58.177 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 11:59:58.177 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 11:59:58.178 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 11:59:58.178 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 11:59:58.178 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 11:59:58.215 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 11:59:58.215 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 11:59:58.215 +02:00 [INF] Getting all villas
2023-09-25 11:59:58.216 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 11:59:58.216 +02:00 [DBG] Creating DbConnection.
2023-09-25 11:59:58.216 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 11:59:58.216 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 11:59:58.216 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 11:59:58.216 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:59:58.216 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:59:58.217 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 11:59:58.228 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 11:59:58.229 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:58.229 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:58.229 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:58.229 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:58.229 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 11:59:58.229 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:59:58.229 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 11:59:58.229 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 11:59:58.229 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 11:59:58.230 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 11:59:58.230 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 11:59:58.230 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 11:59:58.230 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 11:59:58.230 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 11:59:58.230 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 11:59:58.230 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 52.5678ms
2023-09-25 11:59:58.230 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 11:59:58.230 +02:00 [DBG] Connection id "0HMTTLNM9U45B" completed keep alive response.
2023-09-25 11:59:58.230 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 11:59:58.230 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 11:59:58.230 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 11:59:58.230 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 200 1695 application/json;+charset=utf-8 58.5633ms
2023-09-25 12:00:20.710 +02:00 [DBG] Connection id "0HMTTLNM9U453" disconnecting.
2023-09-25 12:00:20.711 +02:00 [DBG] Connection id "0HMTTLNM9U453" stopped.
2023-09-25 12:00:20.711 +02:00 [DBG] Connection id "0HMTTLNM9U453" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 12:00:26.828 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2023-09-25 12:00:26.829 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 12:00:26.829 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 12:00:26.829 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 12:00:26.829 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 12:00:26.830 +02:00 [DBG] Successfully validated the token.
2023-09-25 12:00:26.830 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-09-25 12:00:26.830 +02:00 [DBG] Authorization was successful.
2023-09-25 12:00:26.830 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 12:00:26.830 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 12:00:26.830 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 12:00:26.830 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 12:00:26.830 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 12:00:26.830 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 12:00:26.830 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 12:00:26.830 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 12:00:26.843 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 12:00:26.843 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 12:00:26.843 +02:00 [INF] Getting all villas
2023-09-25 12:00:26.844 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 12:00:26.844 +02:00 [DBG] Creating DbConnection.
2023-09-25 12:00:26.844 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 12:00:26.844 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 12:00:26.844 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 12:00:26.844 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 12:00:26.844 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:00:26.844 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 12:00:26.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 12:00:26.846 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:00:26.846 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:00:26.846 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:00:26.846 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:00:26.846 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:00:26.847 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:00:26.847 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 12:00:26.847 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:00:26.847 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 12:00:26.847 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 12:00:26.847 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 12:00:26.847 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 12:00:26.847 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 12:00:26.847 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 12:00:26.847 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 12:00:26.848 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 17.1871ms
2023-09-25 12:00:26.848 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 12:00:26.848 +02:00 [DBG] Connection id "0HMTTLNM9U45B" completed keep alive response.
2023-09-25 12:00:26.848 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 12:00:26.848 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 12:00:26.848 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 12:00:26.848 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 200 1695 application/json;+charset=utf-8 19.5427ms
2023-09-25 12:00:53.763 +02:00 [DBG] Connection id "0HMTTLNM9U452" disconnecting.
2023-09-25 12:00:53.764 +02:00 [DBG] Connection id "0HMTTLNM9U452" stopped.
2023-09-25 12:00:53.764 +02:00 [DBG] Connection id "0HMTTLNM9U452" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 12:01:11.071 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json 136
2023-09-25 12:01:11.072 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 12:01:11.072 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 12:01:11.072 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 12:01:11.072 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 12:01:11.073 +02:00 [DBG] Successfully validated the token.
2023-09-25 12:01:11.073 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-09-25 12:01:11.073 +02:00 [DBG] Authorization was successful.
2023-09-25 12:01:11.074 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 12:01:11.093 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 12:01:11.093 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 12:01:11.093 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 12:01:11.093 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 12:01:11.093 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 12:01:11.093 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 12:01:11.093 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 12:01:11.094 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 12:01:11.094 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 12:01:11.096 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-25 12:01:11.097 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-25 12:01:11.097 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-25 12:01:11.097 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-25 12:01:11.100 +02:00 [DBG] Connection id "0HMTTLNM9U45B", Request id "0HMTTLNM9U45B:00000005": started reading request body.
2023-09-25 12:01:11.100 +02:00 [DBG] Connection id "0HMTTLNM9U45B", Request id "0HMTTLNM9U45B:00000005": done reading request body.
2023-09-25 12:01:11.122 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 12:01:11.122 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 12:01:11.122 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-25 12:01:11.127 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-25 12:01:11.141 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-25 12:01:11.210 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-25 12:01:11.220 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 12:01:11.220 +02:00 [DBG] Creating DbConnection.
2023-09-25 12:01:11.220 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-25 12:01:11.220 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 12:01:11.222 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-25 12:01:11.222 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 12:01:11.222 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:01:11.224 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-25 12:01:11.231 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-25 12:01:11.231 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:01:11.231 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-25 12:01:11.232 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:01:11.232 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 12:01:11.255 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:01:11.260 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:01:11.263 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-25 12:01:11.265 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-25 12:01:11.275 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-25 12:01:11.321 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 12:01:11.321 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:01:11.323 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 12:01:11.323 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-25 12:01:11.323 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-25 12:01:11.323 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-25 12:01:11.332 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-25 12:01:11.337 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-25 12:01:11.339 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:01:11.339 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2023-09-25 12:01:11.339 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:01:11.339 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 12:01:11.346 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:01:11.347 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-25 12:01:11.349 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 12:01:11.349 +02:00 [DBG] No information found on request to perform content negotiation.
2023-09-25 12:01:11.349 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 12:01:11.349 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 12:01:11.349 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 12:01:11.349 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 12:01:11.359 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[23])
2023-09-25 12:01:11.364 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/23 and 
2023-09-25 12:01:11.364 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/23
2023-09-25 12:01:11.364 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 270.6664ms
2023-09-25 12:01:11.364 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-25 12:01:11.364 +02:00 [DBG] Connection id "0HMTTLNM9U45B" completed keep alive response.
2023-09-25 12:01:11.364 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 12:01:11.364 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 12:01:11.364 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-25 12:01:11.364 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json 136 - 201 181 application/json;+charset=utf-8 293.2762ms
2023-09-25 12:03:21.936 +02:00 [DBG] Connection id "0HMTTLNM9U45B" disconnecting.
2023-09-25 12:03:21.937 +02:00 [DBG] Connection id "0HMTTLNM9U45B" stopped.
2023-09-25 12:03:21.938 +02:00 [DBG] Connection id "0HMTTLNM9U45B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 12:04:29.348 +02:00 [DBG] Connection id "0HMTTLNM9U45C" accepted.
2023-09-25 12:04:29.349 +02:00 [DBG] Connection id "0HMTTLNM9U45C" started.
2023-09-25 12:04:29.390 +02:00 [DBG] Connection 0HMTTLNM9U45C established using the following protocol: "Tls12"
2023-09-25 12:04:29.391 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQzNDEsImV4cCI6MTY5NjIzOTE0MSwiaWF0IjoxNjk1NjM0MzQxfQ.A3NQ7TCpAn892HtTk-nJ7aP4EPYV4iY7GkidmdnjAXY - -
2023-09-25 12:04:29.391 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 12:04:29.391 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 12:04:29.392 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 12:04:29.392 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 12:04:29.392 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-25 12:04:29.392 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-25 12:04:29.392 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-25 12:04:29.392 +02:00 [DBG] Connection id "0HMTTLNM9U45C" completed keep alive response.
2023-09-25 12:04:29.392 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi?Authorization=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjEiLCJyb2xlIjoiYWRtaW4iLCJuYmYiOjE2OTU2MzQzNDEsImV4cCI6MTY5NjIzOTE0MSwiaWF0IjoxNjk1NjM0MzQxfQ.A3NQ7TCpAn892HtTk-nJ7aP4EPYV4iY7GkidmdnjAXY - - - 401 0 - 1.3439ms
2023-09-25 12:06:40.187 +02:00 [DBG] Connection id "0HMTTLNM9U45C" disconnecting.
2023-09-25 12:06:40.188 +02:00 [DBG] Connection id "0HMTTLNM9U45C" stopped.
2023-09-25 12:06:40.189 +02:00 [DBG] Connection id "0HMTTLNM9U45C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 12:09:22.073 +02:00 [INF] Application is shutting down...
2023-09-25 12:09:22.076 +02:00 [DBG] Hosting stopping
2023-09-25 12:09:22.087 +02:00 [DBG] Hosting stopped
2023-09-25 12:09:25.001 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-25 12:09:25.058 +02:00 [DBG] Hosting starting
2023-09-25 12:09:25.065 +02:00 [INF] User profile is available. Using '/Users/agostinodefelice/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-25 12:09:25.066 +02:00 [DBG] Reading data from file '/Users/agostinodefelice/.aspnet/DataProtection-Keys/key-d8186e36-3361-4d70-8192-27a2145857c3.xml'.
2023-09-25 12:09:25.069 +02:00 [DBG] Found key {d8186e36-3361-4d70-8192-27a2145857c3}.
2023-09-25 12:09:25.073 +02:00 [DBG] Considering key {d8186e36-3361-4d70-8192-27a2145857c3} with expiration date 2023-12-10 07:49:15Z as default key.
2023-09-25 12:09:25.073 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-25 12:09:25.075 +02:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-09-25 12:09:25.075 +02:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-09-25 12:09:25.076 +02:00 [DBG] Using key {d8186e36-3361-4d70-8192-27a2145857c3} as the default key.
2023-09-25 12:09:25.076 +02:00 [DBG] Key ring with default key {d8186e36-3361-4d70-8192-27a2145857c3} was loaded during application startup.
2023-09-25 12:09:25.261 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-25 12:09:25.261 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-25 12:09:25.261 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-25 12:09:25.261 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-25 12:09:25.261 +02:00 [INF] Hosting environment: Development
2023-09-25 12:09:25.261 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-25 12:09:25.261 +02:00 [DBG] Hosting started
2023-09-25 12:09:25.566 +02:00 [DBG] Connection id "0HMTTLTVKNQUV" received FIN.
2023-09-25 12:09:25.570 +02:00 [DBG] Connection id "0HMTTLTVKNQUV" accepted.
2023-09-25 12:09:25.571 +02:00 [DBG] Connection id "0HMTTLTVKNQUV" started.
2023-09-25 12:09:25.581 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-25 12:09:25.592 +02:00 [DBG] Connection id "0HMTTLTVKNQUV" stopped.
2023-09-25 12:09:25.595 +02:00 [DBG] Connection id "0HMTTLTVKNQUV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-25 12:09:25.719 +02:00 [DBG] Connection id "0HMTTLTVKNQV0" accepted.
2023-09-25 12:09:25.719 +02:00 [DBG] Connection id "0HMTTLTVKNQV1" accepted.
2023-09-25 12:09:25.719 +02:00 [DBG] Connection id "0HMTTLTVKNQV1" started.
2023-09-25 12:09:25.720 +02:00 [DBG] Connection id "0HMTTLTVKNQV0" started.
2023-09-25 12:09:25.758 +02:00 [DBG] Connection 0HMTTLTVKNQV1 established using the following protocol: "Tls12"
2023-09-25 12:09:25.758 +02:00 [DBG] Connection 0HMTTLTVKNQV0 established using the following protocol: "Tls12"
2023-09-25 12:09:25.780 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-25 12:09:25.781 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-25 12:09:25.793 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-25 12:09:25.794 +02:00 [DBG] Request did not match any endpoints
2023-09-25 12:09:25.862 +02:00 [DBG] Connection id "0HMTTLTVKNQV1" completed keep alive response.
2023-09-25 12:09:25.863 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 83.7486ms
2023-09-25 12:09:25.953 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-25 12:09:25.953 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-25 12:09:25.954 +02:00 [DBG] Request did not match any endpoints
2023-09-25 12:09:26.067 +02:00 [DBG] Connection id "0HMTTLTVKNQV1" completed keep alive response.
2023-09-25 12:09:26.067 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.9252ms
2023-09-25 12:09:41.715 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2023-09-25 12:09:41.724 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-25 12:09:41.729 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-25 12:09:41.730 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 12:09:41.731 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-25 12:09:41.839 +02:00 [DBG] Successfully validated the token.
2023-09-25 12:09:41.840 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-09-25 12:09:41.842 +02:00 [DBG] Authorization was successful.
2023-09-25 12:09:41.842 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 12:09:41.849 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-25 12:09:41.849 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-25 12:09:41.849 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-25 12:09:41.849 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-25 12:09:41.849 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-25 12:09:41.849 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-25 12:09:41.850 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 12:09:41.913 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-25 12:09:42.414 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-25 12:09:42.471 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-25 12:09:42.472 +02:00 [INF] Getting all villas
2023-09-25 12:09:42.490 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-25 12:09:42.575 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-25 12:09:42.594 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-25 12:09:42.595 +02:00 [DBG] Creating DbConnection.
2023-09-25 12:09:42.616 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-25 12:09:42.620 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-09-25 12:09:42.621 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2023-09-25 12:09:42.624 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-25 12:09:42.701 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:09:42.710 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 12:09:42.734 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-25 12:09:42.758 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:09:42.780 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:09:42.781 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:09:42.781 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:09:42.781 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:09:42.781 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-25 12:09:42.786 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:09:42.793 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 54ms reading results.
2023-09-25 12:09:42.798 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-25 12:09:42.803 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-25 12:09:42.822 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-25 12:09:42.825 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-25 12:09:42.825 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-25 12:09:42.825 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-25 12:09:42.825 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-25 12:09:42.826 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-25 12:09:42.826 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-25 12:09:42.870 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1018.0882ms
2023-09-25 12:09:42.871 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-25 12:09:42.875 +02:00 [DBG] Connection id "0HMTTLTVKNQV1" completed keep alive response.
2023-09-25 12:09:42.878 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-25 12:09:42.882 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-25 12:09:42.885 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-25 12:09:42.885 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 200 1813 application/json;+charset=utf-8 1170.2627ms
