2023-09-20 08:52:35.586 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 08:52:35.638 +02:00 [DBG] Hosting starting
2023-09-20 08:52:35.662 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 08:52:35.662 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 08:52:35.662 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 08:52:35.662 +02:00 [INF] Hosting environment: Development
2023-09-20 08:52:35.662 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 08:52:35.662 +02:00 [DBG] Hosting started
2023-09-20 08:52:36.082 +02:00 [DBG] Connection id "0HMTPKOM3LN3F" received FIN.
2023-09-20 08:52:36.087 +02:00 [DBG] Connection id "0HMTPKOM3LN3F" accepted.
2023-09-20 08:52:36.088 +02:00 [DBG] Connection id "0HMTPKOM3LN3F" started.
2023-09-20 08:52:36.095 +02:00 [DBG] Connection id "0HMTPKOM3LN3F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:52:36.096 +02:00 [DBG] Connection id "0HMTPKOM3LN3F" disconnecting.
2023-09-20 08:52:36.098 +02:00 [DBG] Connection id "0HMTPKOM3LN3F" stopped.
2023-09-20 08:52:36.177 +02:00 [DBG] Connection id "0HMTPKOM3LN3G" accepted.
2023-09-20 08:52:36.177 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" accepted.
2023-09-20 08:52:36.177 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" started.
2023-09-20 08:52:36.177 +02:00 [DBG] Connection id "0HMTPKOM3LN3G" started.
2023-09-20 08:52:36.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-20 08:52:36.194 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 08:52:36.205 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 08:52:36.205 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:52:36.269 +02:00 [DBG] Connection id "0HMTPKOM3LN3G" completed keep alive response.
2023-09-20 08:52:36.269 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 76.8596ms
2023-09-20 08:52:36.279 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui.css - -
2023-09-20 08:52:36.279 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-20 08:52:36.280 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:52:36.280 +02:00 [DBG] Connection id "0HMTPKOM3LN3I" accepted.
2023-09-20 08:52:36.280 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui-bundle.js - -
2023-09-20 08:52:36.280 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-20 08:52:36.280 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:52:36.281 +02:00 [DBG] Connection id "0HMTPKOM3LN3I" started.
2023-09-20 08:52:36.281 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui-standalone-preset.js - -
2023-09-20 08:52:36.281 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-20 08:52:36.281 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:52:36.289 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-20 08:52:36.289 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-20 08:52:36.290 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-20 08:52:36.291 +02:00 [DBG] Connection id "0HMTPKOM3LN3G" completed keep alive response.
2023-09-20 08:52:36.291 +02:00 [DBG] Connection id "0HMTPKOM3LN3I" completed keep alive response.
2023-09-20 08:52:36.291 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" completed keep alive response.
2023-09-20 08:52:36.291 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 10.1079ms
2023-09-20 08:52:36.291 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 10.5690ms
2023-09-20 08:52:36.291 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui.css - - - 200 144929 text/css 11.6913ms
2023-09-20 08:52:36.388 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-20 08:52:36.388 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 08:52:36.388 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:52:36.502 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" completed keep alive response.
2023-09-20 08:52:36.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.1113ms
2023-09-20 08:52:55.238 +02:00 [DBG] Connection id "0HMTPKOM3LN3J" received FIN.
2023-09-20 08:52:55.239 +02:00 [DBG] Connection id "0HMTPKOM3LN3J" accepted.
2023-09-20 08:52:55.239 +02:00 [DBG] Connection id "0HMTPKOM3LN3J" started.
2023-09-20 08:52:55.239 +02:00 [DBG] Connection id "0HMTPKOM3LN3J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:52:55.239 +02:00 [DBG] Connection id "0HMTPKOM3LN3J" disconnecting.
2023-09-20 08:52:55.239 +02:00 [DBG] Connection id "0HMTPKOM3LN3J" stopped.
2023-09-20 08:52:55.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-20 08:52:55.270 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 08:52:55.270 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:52:55.271 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" completed keep alive response.
2023-09-20 08:52:55.271 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 1.1326ms
2023-09-20 08:52:55.421 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-20 08:52:55.421 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 08:52:55.421 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:52:55.424 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" completed keep alive response.
2023-09-20 08:52:55.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.9127ms
2023-09-20 08:53:11.334 +02:00 [INF] Application is shutting down...
2023-09-20 08:53:11.336 +02:00 [DBG] Hosting stopping
2023-09-20 08:53:11.343 +02:00 [DBG] Connection id "0HMTPKOM3LN3I" disconnecting.
2023-09-20 08:53:11.343 +02:00 [DBG] Connection id "0HMTPKOM3LN3G" disconnecting.
2023-09-20 08:53:11.343 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" disconnecting.
2023-09-20 08:53:11.345 +02:00 [DBG] Connection id "0HMTPKOM3LN3G" stopped.
2023-09-20 08:53:11.345 +02:00 [DBG] Connection id "0HMTPKOM3LN3I" stopped.
2023-09-20 08:53:11.345 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" stopped.
2023-09-20 08:53:11.345 +02:00 [DBG] Connection id "0HMTPKOM3LN3G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:53:11.345 +02:00 [DBG] Connection id "0HMTPKOM3LN3I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:53:11.345 +02:00 [DBG] Connection id "0HMTPKOM3LN3H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:53:11.348 +02:00 [DBG] Hosting stopped
2023-09-20 08:53:27.358 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 08:53:27.407 +02:00 [DBG] Hosting starting
2023-09-20 08:53:27.423 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 08:53:27.423 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 08:53:27.423 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 08:53:27.423 +02:00 [INF] Hosting environment: Development
2023-09-20 08:53:27.423 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 08:53:27.423 +02:00 [DBG] Hosting started
2023-09-20 08:53:27.919 +02:00 [DBG] Connection id "0HMTPKP5I13UL" received FIN.
2023-09-20 08:53:27.921 +02:00 [DBG] Connection id "0HMTPKP5I13UL" accepted.
2023-09-20 08:53:27.922 +02:00 [DBG] Connection id "0HMTPKP5I13UL" started.
2023-09-20 08:53:27.926 +02:00 [DBG] Connection id "0HMTPKP5I13UL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:53:27.933 +02:00 [DBG] Connection id "0HMTPKP5I13UL" disconnecting.
2023-09-20 08:53:27.936 +02:00 [DBG] Connection id "0HMTPKP5I13UL" stopped.
2023-09-20 08:53:27.950 +02:00 [DBG] Connection id "0HMTPKP5I13UM" accepted.
2023-09-20 08:53:27.951 +02:00 [DBG] Connection id "0HMTPKP5I13UM" started.
2023-09-20 08:53:27.951 +02:00 [DBG] Connection id "0HMTPKP5I13UN" accepted.
2023-09-20 08:53:27.952 +02:00 [DBG] Connection id "0HMTPKP5I13UN" started.
2023-09-20 08:53:27.968 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-20 08:53:27.969 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 08:53:27.979 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 08:53:27.979 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:53:28.034 +02:00 [DBG] Connection id "0HMTPKP5I13UM" completed keep alive response.
2023-09-20 08:53:28.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 67.8067ms
2023-09-20 08:53:28.112 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-20 08:53:28.112 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 08:53:28.113 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:53:28.218 +02:00 [DBG] Connection id "0HMTPKP5I13UM" completed keep alive response.
2023-09-20 08:53:28.218 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.7903ms
2023-09-20 08:54:44.261 +02:00 [INF] Application is shutting down...
2023-09-20 08:54:44.262 +02:00 [DBG] Hosting stopping
2023-09-20 08:54:44.270 +02:00 [DBG] Connection id "0HMTPKP5I13UM" disconnecting.
2023-09-20 08:54:44.270 +02:00 [DBG] Connection id "0HMTPKP5I13UN" disconnecting.
2023-09-20 08:54:44.271 +02:00 [DBG] Connection id "0HMTPKP5I13UN" stopped.
2023-09-20 08:54:44.271 +02:00 [DBG] Connection id "0HMTPKP5I13UM" stopped.
2023-09-20 08:54:44.271 +02:00 [DBG] Connection id "0HMTPKP5I13UN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:54:44.271 +02:00 [DBG] Connection id "0HMTPKP5I13UM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:54:44.274 +02:00 [DBG] Hosting stopped
2023-09-20 08:55:21.247 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 08:55:21.297 +02:00 [DBG] Hosting starting
2023-09-20 08:55:21.460 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 08:55:21.460 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 08:55:21.460 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 08:55:21.461 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 08:55:21.461 +02:00 [INF] Hosting environment: Development
2023-09-20 08:55:21.461 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 08:55:21.461 +02:00 [DBG] Hosting started
2023-09-20 08:55:21.831 +02:00 [DBG] Connection id "0HMTPKQ7GCBH1" received FIN.
2023-09-20 08:55:21.836 +02:00 [DBG] Connection id "0HMTPKQ7GCBH1" accepted.
2023-09-20 08:55:21.837 +02:00 [DBG] Connection id "0HMTPKQ7GCBH1" started.
2023-09-20 08:55:21.868 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 08:55:21.872 +02:00 [DBG] Connection id "0HMTPKQ7GCBH2" accepted.
2023-09-20 08:55:21.877 +02:00 [DBG] Connection id "0HMTPKQ7GCBH2" started.
2023-09-20 08:55:21.877 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" accepted.
2023-09-20 08:55:21.877 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" started.
2023-09-20 08:55:21.880 +02:00 [DBG] Connection id "0HMTPKQ7GCBH1" stopped.
2023-09-20 08:55:21.883 +02:00 [DBG] Connection id "0HMTPKQ7GCBH1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:55:21.931 +02:00 [DBG] Connection 0HMTPKQ7GCBH2 established using the following protocol: "Tls12"
2023-09-20 08:55:21.931 +02:00 [DBG] Connection 0HMTPKQ7GCBH3 established using the following protocol: "Tls12"
2023-09-20 08:55:21.953 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 08:55:21.953 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 08:55:21.966 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 08:55:21.966 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:55:22.037 +02:00 [DBG] Connection id "0HMTPKQ7GCBH2" completed keep alive response.
2023-09-20 08:55:22.037 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 85.4616ms
2023-09-20 08:55:22.049 +02:00 [DBG] Connection id "0HMTPKQ7GCBH4" accepted.
2023-09-20 08:55:22.049 +02:00 [DBG] Connection id "0HMTPKQ7GCBH4" started.
2023-09-20 08:55:22.050 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - -
2023-09-20 08:55:22.050 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui.css - -
2023-09-20 08:55:22.050 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-20 08:55:22.050 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-20 08:55:22.050 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:55:22.050 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:55:22.057 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-20 08:55:22.057 +02:00 [DBG] Connection id "0HMTPKQ7GCBH2" completed keep alive response.
2023-09-20 08:55:22.057 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui.css - - - 200 144929 text/css 7.6876ms
2023-09-20 08:55:22.058 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js - -
2023-09-20 08:55:22.058 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-20 08:55:22.058 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:55:22.066 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-20 08:55:22.067 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-20 08:55:22.070 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" completed keep alive response.
2023-09-20 08:55:22.070 +02:00 [DBG] Connection id "0HMTPKQ7GCBH2" completed keep alive response.
2023-09-20 08:55:22.070 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 12.0317ms
2023-09-20 08:55:22.070 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 20.2000ms
2023-09-20 08:55:22.074 +02:00 [DBG] Connection 0HMTPKQ7GCBH4 established using the following protocol: "Tls12"
2023-09-20 08:55:22.162 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 08:55:22.162 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 08:55:22.162 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:55:22.276 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" completed keep alive response.
2023-09-20 08:55:22.276 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.5290ms
2023-09-20 08:55:54.723 +02:00 [DBG] Connection id "0HMTPKQ7GCBH5" received FIN.
2023-09-20 08:55:54.723 +02:00 [DBG] Connection id "0HMTPKQ7GCBH5" accepted.
2023-09-20 08:55:54.723 +02:00 [DBG] Connection id "0HMTPKQ7GCBH5" started.
2023-09-20 08:55:54.723 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 08:55:54.724 +02:00 [DBG] Connection id "0HMTPKQ7GCBH5" stopped.
2023-09-20 08:55:54.724 +02:00 [DBG] Connection id "0HMTPKQ7GCBH5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:55:54.756 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 08:55:54.756 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 08:55:54.756 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:55:54.757 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" completed keep alive response.
2023-09-20 08:55:54.757 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 0.6927ms
2023-09-20 08:55:54.898 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 08:55:54.898 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 08:55:54.898 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:55:54.901 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" completed keep alive response.
2023-09-20 08:55:54.901 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.4002ms
2023-09-20 08:56:09.437 +02:00 [INF] Application is shutting down...
2023-09-20 08:56:09.437 +02:00 [DBG] Hosting stopping
2023-09-20 08:56:09.442 +02:00 [DBG] Connection id "0HMTPKQ7GCBH2" disconnecting.
2023-09-20 08:56:09.442 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" disconnecting.
2023-09-20 08:56:09.442 +02:00 [DBG] Connection id "0HMTPKQ7GCBH4" disconnecting.
2023-09-20 08:56:09.443 +02:00 [DBG] Connection id "0HMTPKQ7GCBH2" stopped.
2023-09-20 08:56:09.443 +02:00 [DBG] Connection id "0HMTPKQ7GCBH4" stopped.
2023-09-20 08:56:09.443 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" stopped.
2023-09-20 08:56:09.443 +02:00 [DBG] Connection id "0HMTPKQ7GCBH2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:56:09.443 +02:00 [DBG] Connection id "0HMTPKQ7GCBH3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:56:09.443 +02:00 [DBG] Connection id "0HMTPKQ7GCBH4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:56:09.445 +02:00 [DBG] Hosting stopped
2023-09-20 08:56:28.240 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 08:56:28.289 +02:00 [DBG] Hosting starting
2023-09-20 08:56:28.445 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 08:56:28.445 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 08:56:28.445 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 08:56:28.446 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 08:56:28.446 +02:00 [INF] Hosting environment: Development
2023-09-20 08:56:28.446 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 08:56:28.446 +02:00 [DBG] Hosting started
2023-09-20 08:56:28.821 +02:00 [DBG] Connection id "0HMTPKQRF83UF" received FIN.
2023-09-20 08:56:28.826 +02:00 [DBG] Connection id "0HMTPKQRF83UF" accepted.
2023-09-20 08:56:28.827 +02:00 [DBG] Connection id "0HMTPKQRF83UF" started.
2023-09-20 08:56:28.844 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 08:56:28.864 +02:00 [DBG] Connection id "0HMTPKQRF83UG" accepted.
2023-09-20 08:56:28.866 +02:00 [DBG] Connection id "0HMTPKQRF83UH" accepted.
2023-09-20 08:56:28.866 +02:00 [DBG] Connection id "0HMTPKQRF83UH" started.
2023-09-20 08:56:28.866 +02:00 [DBG] Connection id "0HMTPKQRF83UG" started.
2023-09-20 08:56:28.868 +02:00 [DBG] Connection id "0HMTPKQRF83UF" stopped.
2023-09-20 08:56:28.871 +02:00 [DBG] Connection id "0HMTPKQRF83UF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:56:28.916 +02:00 [DBG] Connection 0HMTPKQRF83UH established using the following protocol: "Tls12"
2023-09-20 08:56:28.916 +02:00 [DBG] Connection 0HMTPKQRF83UG established using the following protocol: "Tls12"
2023-09-20 08:56:28.937 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 08:56:28.937 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 08:56:28.949 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 08:56:28.949 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:56:29.014 +02:00 [DBG] Connection id "0HMTPKQRF83UH" completed keep alive response.
2023-09-20 08:56:29.015 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 78.9999ms
2023-09-20 08:56:29.095 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 08:56:29.095 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 08:56:29.095 +02:00 [DBG] Request did not match any endpoints
2023-09-20 08:56:29.206 +02:00 [DBG] Connection id "0HMTPKQRF83UH" completed keep alive response.
2023-09-20 08:56:29.206 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.7939ms
2023-09-20 08:56:52.796 +02:00 [DBG] Connection id "0HMTPKQRF83UI" accepted.
2023-09-20 08:56:52.796 +02:00 [DBG] Connection id "0HMTPKQRF83UI" started.
2023-09-20 08:56:52.824 +02:00 [DBG] Connection 0HMTPKQRF83UI established using the following protocol: "Tls12"
2023-09-20 08:56:52.830 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 08:56:52.833 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 08:56:52.834 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 08:56:52.834 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:56:52.835 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:56:52.836 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:56:52.843 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:56:52.844 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:56:52.844 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:56:52.844 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:56:52.844 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:56:52.844 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:56:52.845 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:56:52.917 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 08:56:53.408 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:56:53.465 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:56:53.466 +02:00 [INF] Getting all villas
2023-09-20 08:56:53.486 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 08:56:53.572 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 08:56:53.591 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:56:53.592 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:56:53.615 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-20 08:56:53.619 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-20 08:56:53.620 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2023-09-20 08:56:53.623 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:56:53.699 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:56:53.707 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:56:53.732 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:56:53.758 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:56:53.777 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:56:53.777 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:56:53.777 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:56:53.777 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:56:53.777 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:56:53.782 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:56:53.790 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 51ms reading results.
2023-09-20 08:56:53.794 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:56:53.799 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 08:56:53.818 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:56:53.821 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 08:56:53.821 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:56:53.821 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 08:56:53.866 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1018.7742ms
2023-09-20 08:56:53.867 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:56:53.871 +02:00 [DBG] Connection id "0HMTPKQRF83UI" completed keep alive response.
2023-09-20 08:56:53.873 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:56:53.878 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:56:53.880 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 08:56:53.881 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1819 application/json;+charset=utf-8 1050.8383ms
2023-09-20 08:57:05.662 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 136
2023-09-20 08:57:05.663 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-20 08:57:05.663 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-20 08:57:05.663 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:05.664 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:57:05.664 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:05.684 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:57:05.684 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:57:05.684 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:57:05.684 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:57:05.684 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:57:05.684 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:57:05.684 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:57:05.719 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:57:05.719 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:57:05.722 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:57:05.723 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 08:57:05.724 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-20 08:57:05.724 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-20 08:57:05.728 +02:00 [DBG] Connection id "0HMTPKQRF83UH", Request id "0HMTPKQRF83UH:00000003": started reading request body.
2023-09-20 08:57:05.728 +02:00 [DBG] Connection id "0HMTPKQRF83UH", Request id "0HMTPKQRF83UH:00000003": done reading request body.
2023-09-20 08:57:05.751 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:05.752 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:05.752 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:57:05.756 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:05.767 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 08:57:05.831 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 08:57:05.841 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:57:05.841 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:57:05.841 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 08:57:05.841 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:57:05.843 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 08:57:05.843 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:57:05.844 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:05.845 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 08:57:05.854 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 08:57:05.855 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:05.855 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:57:05.855 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:05.855 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:57:05.872 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:57:05.877 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:57:05.879 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 08:57:05.880 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 08:57:05.887 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 08:57:05.920 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:57:05.920 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:05.921 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:57:05.922 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:57:05.922 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:57:05.922 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 08:57:05.931 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 08:57:05.936 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 08:57:05.938 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:05.938 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2023-09-20 08:57:05.939 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:05.939 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:57:05.945 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:57:05.947 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 08:57:05.948 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:57:05.948 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-20 08:57:05.948 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-20 08:57:05.948 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-20 08:57:05.948 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-20 08:57:05.948 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:57:05.948 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 08:57:05.960 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[9])
2023-09-20 08:57:05.965 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/9 and 
2023-09-20 08:57:05.965 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/9
2023-09-20 08:57:05.966 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 281.1883ms
2023-09-20 08:57:05.966 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:05.966 +02:00 [DBG] Connection id "0HMTPKQRF83UH" completed keep alive response.
2023-09-20 08:57:05.966 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:57:05.966 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:57:05.966 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:57:05.966 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 136 - 201 182 application/json;+charset=utf-8 304.3327ms
2023-09-20 08:57:18.775 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 45
2023-09-20 08:57:18.775 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-20 08:57:18.775 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-20 08:57:18.776 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:18.776 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:57:18.776 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:18.776 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:57:18.776 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:57:18.776 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:57:18.776 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:57:18.777 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:57:18.777 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:57:18.777 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:57:18.798 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:57:18.798 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:57:18.799 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:57:18.799 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 08:57:18.799 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-20 08:57:18.799 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-20 08:57:18.799 +02:00 [DBG] Connection id "0HMTPKQRF83UH", Request id "0HMTPKQRF83UH:00000004": started reading request body.
2023-09-20 08:57:18.799 +02:00 [DBG] Connection id "0HMTPKQRF83UH", Request id "0HMTPKQRF83UH:00000004": done reading request body.
2023-09-20 08:57:18.799 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:18.799 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:18.799 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:57:18.800 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:18.800 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 08:57:18.800 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 08:57:18.800 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:57:18.800 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 08:57:18.800 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-20 08:57:18.801 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-09-20 08:57:18.801 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 08:57:18.801 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 08:57:18.816 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 39.1215ms
2023-09-20 08:57:18.816 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:18.816 +02:00 [DBG] Connection id "0HMTPKQRF83UH" completed keep alive response.
2023-09-20 08:57:18.816 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:57:18.816 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 45 - 400 339 application/problem+json;+charset=utf-8 41.0359ms
2023-09-20 08:57:46.680 +02:00 [DBG] Connection id "0HMTPKQRF83UG" received FIN.
2023-09-20 08:57:46.681 +02:00 [DBG] Connection id "0HMTPKQRF83UG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:57:46.682 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 118
2023-09-20 08:57:46.683 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-20 08:57:46.683 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-20 08:57:46.683 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:46.683 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:57:46.683 +02:00 [DBG] Connection id "0HMTPKQRF83UG" disconnecting.
2023-09-20 08:57:46.683 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:46.683 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:57:46.683 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:57:46.683 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:57:46.683 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:57:46.683 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:57:46.683 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:57:46.683 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:57:46.684 +02:00 [DBG] Connection id "0HMTPKQRF83UG" stopped.
2023-09-20 08:57:46.685 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:57:46.685 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:57:46.685 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:57:46.685 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 08:57:46.685 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-20 08:57:46.685 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-20 08:57:46.685 +02:00 [DBG] Connection id "0HMTPKQRF83UH", Request id "0HMTPKQRF83UH:00000005": started reading request body.
2023-09-20 08:57:46.685 +02:00 [DBG] Connection id "0HMTPKQRF83UH", Request id "0HMTPKQRF83UH:00000005": done reading request body.
2023-09-20 08:57:46.685 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:46.685 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:46.685 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:57:46.685 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:46.696 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:57:46.697 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:57:46.697 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 08:57:46.697 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:57:46.697 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:57:46.697 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:57:46.697 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:46.698 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 08:57:46.699 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 08:57:46.699 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:57:46.700 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:46.700 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:57:46.700 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:46.700 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:57:46.700 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:57:46.700 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-20 08:57:46.700 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-20 08:57:46.700 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-20 08:57:46.700 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-20 08:57:46.700 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:57:46.700 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-09-20 08:57:46.701 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 18.0505ms
2023-09-20 08:57:46.701 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:46.701 +02:00 [DBG] Connection id "0HMTPKQRF83UH" completed keep alive response.
2023-09-20 08:57:46.701 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:57:46.701 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:57:46.701 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:57:46.701 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 118 - 400 39 application/json;+charset=utf-8 19.0817ms
2023-09-20 08:57:56.890 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 121
2023-09-20 08:57:56.890 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-20 08:57:56.890 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-20 08:57:56.890 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:56.890 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:57:56.890 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:56.890 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:57:56.890 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:57:56.890 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:57:56.890 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:57:56.890 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:57:56.890 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:57:56.891 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:57:56.892 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:57:56.892 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:57:56.892 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:57:56.892 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 08:57:56.892 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-20 08:57:56.892 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-20 08:57:56.892 +02:00 [DBG] Connection id "0HMTPKQRF83UH", Request id "0HMTPKQRF83UH:00000006": started reading request body.
2023-09-20 08:57:56.892 +02:00 [DBG] Connection id "0HMTPKQRF83UH", Request id "0HMTPKQRF83UH:00000006": done reading request body.
2023-09-20 08:57:56.892 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:56.893 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:56.893 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:57:56.893 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:57:56.895 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:57:56.895 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:57:56.896 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 08:57:56.896 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:57:56.896 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-09-20 08:57:56.896 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:57:56.897 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:56.897 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 08:57:56.899 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 08:57:56.899 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:56.899 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:57:56.900 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:56.900 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:57:56.902 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:57:56.902 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:57:56.902 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 08:57:56.902 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 08:57:56.902 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 08:57:56.902 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:57:56.902 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:56.903 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:57:56.903 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:57:56.903 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:57:56.903 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 08:57:56.904 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 08:57:56.905 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 08:57:56.905 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:56.905 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:57:56.905 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:57:56.905 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:57:56.905 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:57:56.905 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 08:57:56.905 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:57:56.905 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-20 08:57:56.905 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-20 08:57:56.905 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-20 08:57:56.905 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-20 08:57:56.905 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:57:56.905 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 08:57:56.905 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[10])
2023-09-20 08:57:56.906 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/10 and 
2023-09-20 08:57:56.906 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/10
2023-09-20 08:57:56.906 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 15.2943ms
2023-09-20 08:57:56.906 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:57:56.906 +02:00 [DBG] Connection id "0HMTPKQRF83UH" completed keep alive response.
2023-09-20 08:57:56.906 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:57:56.906 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:57:56.906 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:57:56.906 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/VillaApi application/json-patch+json 121 - 201 168 application/json;+charset=utf-8 16.4966ms
2023-09-20 08:58:07.808 +02:00 [DBG] Connection id "0HMTPKQRF83UI" received FIN.
2023-09-20 08:58:07.809 +02:00 [DBG] Connection id "0HMTPKQRF83UI" disconnecting.
2023-09-20 08:58:07.809 +02:00 [DBG] Connection id "0HMTPKQRF83UI" stopped.
2023-09-20 08:58:07.810 +02:00 [DBG] Connection id "0HMTPKQRF83UI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:58:09.832 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" accepted.
2023-09-20 08:58:09.833 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" started.
2023-09-20 08:58:09.855 +02:00 [DBG] Connection 0HMTPKQRF83UJ established using the following protocol: "Tls12"
2023-09-20 08:58:09.867 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 08:58:09.867 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 08:58:09.867 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 08:58:09.868 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:09.868 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:58:09.868 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:09.868 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:58:09.868 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:58:09.868 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:58:09.868 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:58:09.868 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:58:09.869 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:58:09.869 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:09.870 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:58:09.870 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:09.871 +02:00 [INF] Getting all villas
2023-09-20 08:58:09.871 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:58:09.872 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:58:09.872 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 08:58:09.872 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:09.872 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:09.872 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:09.872 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:09.873 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:58:09.875 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:58:09.876 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:09.876 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:09.876 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:09.876 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:09.876 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:09.876 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:09.876 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:09.877 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:09.877 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:09.877 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 08:58:09.877 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:09.877 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:09.878 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:58:09.878 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 08:58:09.878 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:58:09.878 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 08:58:09.879 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 10.1668ms
2023-09-20 08:58:09.879 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:09.879 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" completed keep alive response.
2023-09-20 08:58:09.879 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:58:09.879 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:09.879 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:09.879 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2039 application/json;+charset=utf-8 12.1601ms
2023-09-20 08:58:35.153 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 124
2023-09-20 08:58:35.153 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 08:58:35.153 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 08:58:35.153 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:58:35.153 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:58:35.153 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:58:35.153 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:58:35.153 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:58:35.153 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:58:35.153 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:58:35.153 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:58:35.153 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:58:35.153 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:35.154 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:58:35.154 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:35.155 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:58:35.155 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 08:58:35.155 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 08:58:35.155 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 08:58:35.155 +02:00 [DBG] Connection id "0HMTPKQRF83UJ", Request id "0HMTPKQRF83UJ:00000002": started reading request body.
2023-09-20 08:58:35.155 +02:00 [DBG] Connection id "0HMTPKQRF83UJ", Request id "0HMTPKQRF83UJ:00000002": done reading request body.
2023-09-20 08:58:35.156 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:58:35.156 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:58:35.156 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:58:35.156 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:58:35.157 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:58:35.157 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:58:35.157 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 08:58:35.157 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:35.157 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:35.157 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:35.157 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.157 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 08:58:35.159 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 08:58:35.159 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.159 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:58:35.160 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.160 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:35.160 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.160 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.160 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 08:58:35.160 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 08:58:35.160 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 08:58:35.160 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:35.160 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.160 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:58:35.160 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:35.160 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:35.160 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 08:58:35.162 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 08:58:35.162 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 08:58:35.162 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.162 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:58:35.162 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.162 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:35.162 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.162 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 08:58:35.162 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:58:35.162 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 08:58:35.162 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:58:35.162 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 08:58:35.162 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[11])
2023-09-20 08:58:35.163 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/11 and 
2023-09-20 08:58:35.163 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/11
2023-09-20 08:58:35.163 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 9.4944ms
2023-09-20 08:58:35.163 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:58:35.163 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" completed keep alive response.
2023-09-20 08:58:35.163 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:58:35.163 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:35.163 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:35.163 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 124 - 201 198 application/json;+charset=utf-8 10.3476ms
2023-09-20 08:58:35.167 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 08:58:35.168 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 08:58:35.168 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 08:58:35.168 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:35.168 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:58:35.168 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:35.168 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:58:35.168 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:58:35.168 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:58:35.168 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:58:35.168 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:58:35.168 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:58:35.168 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:35.168 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:58:35.168 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:35.168 +02:00 [INF] Getting all villas
2023-09-20 08:58:35.169 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:58:35.169 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:58:35.169 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 08:58:35.169 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:35.169 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:35.169 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:35.169 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.169 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:58:35.169 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:35.170 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.170 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:58:35.170 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:35.170 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:35.170 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:58:35.170 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 08:58:35.170 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:58:35.170 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 08:58:35.170 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.3384ms
2023-09-20 08:58:35.170 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:35.170 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" completed keep alive response.
2023-09-20 08:58:35.171 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:58:35.171 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:35.171 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:35.171 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 3.1700ms
2023-09-20 08:58:49.887 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113
2023-09-20 08:58:49.887 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 08:58:49.888 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 08:58:49.888 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:58:49.888 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:58:49.888 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:58:49.889 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:58:49.889 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:58:49.889 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:58:49.889 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:58:49.889 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:58:49.889 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:58:49.889 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:49.890 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:58:49.891 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:49.891 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:58:49.891 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 08:58:49.891 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 08:58:49.891 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 08:58:49.892 +02:00 [DBG] Connection id "0HMTPKQRF83UJ", Request id "0HMTPKQRF83UJ:00000004": started reading request body.
2023-09-20 08:58:49.892 +02:00 [DBG] Connection id "0HMTPKQRF83UJ", Request id "0HMTPKQRF83UJ:00000004": done reading request body.
2023-09-20 08:58:49.904 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 53.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 08:58:49.906 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:58:49.906 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:58:49.906 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:58:49.906 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:58:49.906 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 08:58:49.906 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 08:58:49.906 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:58:49.906 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 08:58:49.907 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 08:58:49.907 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 08:58:49.907 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 17.7751ms
2023-09-20 08:58:49.907 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:58:49.907 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" completed keep alive response.
2023-09-20 08:58:49.907 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:58:49.907 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113 - 400 360 application/problem+json;+charset=utf-8 20.4009ms
2023-09-20 08:58:49.913 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 08:58:49.913 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 08:58:49.913 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 08:58:49.913 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:49.914 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:58:49.914 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:49.914 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:58:49.914 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:58:49.914 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:58:49.914 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:58:49.914 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:58:49.914 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:58:49.914 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:49.915 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:58:49.915 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:58:49.915 +02:00 [INF] Getting all villas
2023-09-20 08:58:49.915 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:58:49.915 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:58:49.915 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 08:58:49.915 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:49.915 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:58:49.915 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:49.915 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:49.915 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:58:49.916 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:58:49.917 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:49.917 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:58:49.917 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:58:49.917 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:49.917 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:58:49.917 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 08:58:49.917 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:58:49.917 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 08:58:49.918 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.868ms
2023-09-20 08:58:49.918 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:58:49.918 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" completed keep alive response.
2023-09-20 08:58:49.918 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:58:49.918 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:58:49.918 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:58:49.918 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 4.7710ms
2023-09-20 08:59:09.802 +02:00 [DBG] Connection id "0HMTPKQRF83UK" accepted.
2023-09-20 08:59:09.803 +02:00 [DBG] Connection id "0HMTPKQRF83UK" started.
2023-09-20 08:59:09.849 +02:00 [DBG] Connection 0HMTPKQRF83UK established using the following protocol: "Tls12"
2023-09-20 08:59:09.853 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 115
2023-09-20 08:59:09.853 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 08:59:09.853 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 08:59:09.853 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:59:09.853 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:59:09.853 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:59:09.853 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:59:09.853 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:59:09.853 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:59:09.853 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:59:09.853 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:59:09.853 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:59:09.853 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:59:09.854 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:59:09.855 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:59:09.855 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:59:09.855 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 08:59:09.855 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 08:59:09.855 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 08:59:09.855 +02:00 [DBG] Connection id "0HMTPKQRF83UK", Request id "0HMTPKQRF83UK:00000001": started reading request body.
2023-09-20 08:59:09.855 +02:00 [DBG] Connection id "0HMTPKQRF83UK", Request id "0HMTPKQRF83UK:00000001": done reading request body.
2023-09-20 08:59:09.855 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 55.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 08:59:09.856 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:59:09.856 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:59:09.856 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 08:59:09.856 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 08:59:09.856 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 08:59:09.856 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 08:59:09.856 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:59:09.856 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 08:59:09.856 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 08:59:09.856 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 08:59:09.856 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 2.881ms
2023-09-20 08:59:09.856 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 08:59:09.856 +02:00 [DBG] Connection id "0HMTPKQRF83UK" completed keep alive response.
2023-09-20 08:59:09.856 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:59:09.856 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 115 - 400 360 application/problem+json;+charset=utf-8 3.7699ms
2023-09-20 08:59:09.860 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 08:59:09.860 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 08:59:09.860 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 08:59:09.860 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:59:09.860 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 08:59:09.861 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:59:09.861 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 08:59:09.861 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 08:59:09.861 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 08:59:09.861 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 08:59:09.861 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 08:59:09.861 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 08:59:09.861 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:59:09.861 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 08:59:09.861 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 08:59:09.861 +02:00 [INF] Getting all villas
2023-09-20 08:59:09.861 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 08:59:09.861 +02:00 [DBG] Creating DbConnection.
2023-09-20 08:59:09.861 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 08:59:09.862 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:59:09.862 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 08:59:09.862 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:59:09.862 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:59:09.862 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:59:09.863 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 08:59:09.863 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 08:59:09.864 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:59:09.864 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 08:59:09.864 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 08:59:09.864 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:59:09.864 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 08:59:09.864 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 08:59:09.864 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 08:59:09.864 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 08:59:09.864 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.6737ms
2023-09-20 08:59:09.864 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 08:59:09.864 +02:00 [DBG] Connection id "0HMTPKQRF83UK" completed keep alive response.
2023-09-20 08:59:09.864 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 08:59:09.864 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 08:59:09.865 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 08:59:09.865 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 4.4503ms
2023-09-20 08:59:30.081 +02:00 [DBG] Connection id "0HMTPKQRF83UK" received FIN.
2023-09-20 08:59:30.082 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" received FIN.
2023-09-20 08:59:30.082 +02:00 [DBG] Connection id "0HMTPKQRF83UK" disconnecting.
2023-09-20 08:59:30.082 +02:00 [DBG] Connection id "0HMTPKQRF83UK" stopped.
2023-09-20 08:59:30.082 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" disconnecting.
2023-09-20 08:59:30.082 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" stopped.
2023-09-20 08:59:30.082 +02:00 [DBG] Connection id "0HMTPKQRF83UJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:59:30.082 +02:00 [DBG] Connection id "0HMTPKQRF83UK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:59:32.960 +02:00 [INF] Application is shutting down...
2023-09-20 08:59:32.962 +02:00 [DBG] Hosting stopping
2023-09-20 08:59:32.972 +02:00 [DBG] Connection id "0HMTPKQRF83UH" disconnecting.
2023-09-20 08:59:32.973 +02:00 [DBG] Connection id "0HMTPKQRF83UH" stopped.
2023-09-20 08:59:32.973 +02:00 [DBG] Connection id "0HMTPKQRF83UH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 08:59:32.975 +02:00 [DBG] Hosting stopped
2023-09-20 09:00:16.825 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:00:16.876 +02:00 [DBG] Hosting starting
2023-09-20 09:00:17.029 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:00:17.029 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:00:17.029 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:00:17.029 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:00:17.029 +02:00 [INF] Hosting environment: Development
2023-09-20 09:00:17.029 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:00:17.029 +02:00 [DBG] Hosting started
2023-09-20 09:00:17.367 +02:00 [DBG] Connection id "0HMTPKSVIQLPF" received FIN.
2023-09-20 09:00:17.369 +02:00 [DBG] Connection id "0HMTPKSVIQLPF" accepted.
2023-09-20 09:00:17.369 +02:00 [DBG] Connection id "0HMTPKSVIQLPF" started.
2023-09-20 09:00:17.377 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:00:17.395 +02:00 [DBG] Connection id "0HMTPKSVIQLPF" stopped.
2023-09-20 09:00:17.395 +02:00 [DBG] Connection id "0HMTPKSVIQLPG" accepted.
2023-09-20 09:00:17.396 +02:00 [DBG] Connection id "0HMTPKSVIQLPH" accepted.
2023-09-20 09:00:17.396 +02:00 [DBG] Connection id "0HMTPKSVIQLPG" started.
2023-09-20 09:00:17.396 +02:00 [DBG] Connection id "0HMTPKSVIQLPH" started.
2023-09-20 09:00:17.398 +02:00 [DBG] Connection id "0HMTPKSVIQLPF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:00:17.447 +02:00 [DBG] Connection 0HMTPKSVIQLPG established using the following protocol: "Tls12"
2023-09-20 09:00:17.447 +02:00 [DBG] Connection 0HMTPKSVIQLPH established using the following protocol: "Tls12"
2023-09-20 09:00:17.468 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:00:17.469 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:00:17.480 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:00:17.480 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:00:17.550 +02:00 [DBG] Connection id "0HMTPKSVIQLPG" completed keep alive response.
2023-09-20 09:00:17.550 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 82.8441ms
2023-09-20 09:00:17.629 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:00:17.630 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:00:17.630 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:00:17.757 +02:00 [DBG] Connection id "0HMTPKSVIQLPG" completed keep alive response.
2023-09-20 09:00:17.757 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.5497ms
2023-09-20 09:00:26.004 +02:00 [DBG] Connection id "0HMTPKSVIQLPI" accepted.
2023-09-20 09:00:26.004 +02:00 [DBG] Connection id "0HMTPKSVIQLPI" started.
2023-09-20 09:00:26.056 +02:00 [DBG] Connection 0HMTPKSVIQLPI established using the following protocol: "Tls12"
2023-09-20 09:00:26.087 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:00:26.089 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:00:26.091 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:00:26.091 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:00:26.092 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:00:26.093 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:00:26.100 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:00:26.101 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:00:26.101 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:00:26.101 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:00:26.101 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:00:26.101 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:00:26.102 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:00:26.175 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 09:00:26.680 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:00:26.736 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:00:26.737 +02:00 [INF] Getting all villas
2023-09-20 09:00:26.755 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 09:00:26.840 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 09:00:26.861 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:00:26.862 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:00:26.885 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-20 09:00:26.889 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-20 09:00:26.890 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2023-09-20 09:00:26.892 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:00:26.966 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:00:26.975 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:00:27.001 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:00:27.026 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:00:27.050 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:00:27.058 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 51ms reading results.
2023-09-20 09:00:27.062 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:00:27.067 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 09:00:27.085 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:00:27.089 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:00:27.089 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:00:27.089 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:00:27.134 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1030.2711ms
2023-09-20 09:00:27.135 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:00:27.139 +02:00 [DBG] Connection id "0HMTPKSVIQLPI" completed keep alive response.
2023-09-20 09:00:27.142 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:00:27.147 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:00:27.149 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 09:00:27.150 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 1062.8863ms
2023-09-20 09:02:21.331 +02:00 [INF] Application is shutting down...
2023-09-20 09:02:21.333 +02:00 [DBG] Hosting stopping
2023-09-20 09:02:21.341 +02:00 [DBG] Connection id "0HMTPKSVIQLPH" disconnecting.
2023-09-20 09:02:21.341 +02:00 [DBG] Connection id "0HMTPKSVIQLPI" disconnecting.
2023-09-20 09:02:21.341 +02:00 [DBG] Connection id "0HMTPKSVIQLPG" disconnecting.
2023-09-20 09:02:21.343 +02:00 [DBG] Connection id "0HMTPKSVIQLPH" stopped.
2023-09-20 09:02:21.343 +02:00 [DBG] Connection id "0HMTPKSVIQLPG" stopped.
2023-09-20 09:02:21.343 +02:00 [DBG] Connection id "0HMTPKSVIQLPI" stopped.
2023-09-20 09:02:21.343 +02:00 [DBG] Connection id "0HMTPKSVIQLPG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:02:21.343 +02:00 [DBG] Connection id "0HMTPKSVIQLPH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:02:21.343 +02:00 [DBG] Connection id "0HMTPKSVIQLPI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:02:21.346 +02:00 [DBG] Hosting stopped
2023-09-20 09:02:22.235 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:02:22.285 +02:00 [DBG] Hosting starting
2023-09-20 09:02:22.426 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:02:22.426 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:02:22.426 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:02:22.426 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:02:22.426 +02:00 [INF] Hosting environment: Development
2023-09-20 09:02:22.426 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:02:22.426 +02:00 [DBG] Hosting started
2023-09-20 09:02:22.822 +02:00 [DBG] Connection id "0HMTPKU4V8FOD" received FIN.
2023-09-20 09:02:22.827 +02:00 [DBG] Connection id "0HMTPKU4V8FOD" accepted.
2023-09-20 09:02:22.828 +02:00 [DBG] Connection id "0HMTPKU4V8FOD" started.
2023-09-20 09:02:22.846 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:02:22.862 +02:00 [DBG] Connection id "0HMTPKU4V8FOE" accepted.
2023-09-20 09:02:22.862 +02:00 [DBG] Connection id "0HMTPKU4V8FOE" started.
2023-09-20 09:02:22.862 +02:00 [DBG] Connection id "0HMTPKU4V8FOF" accepted.
2023-09-20 09:02:22.862 +02:00 [DBG] Connection id "0HMTPKU4V8FOF" started.
2023-09-20 09:02:22.864 +02:00 [DBG] Connection id "0HMTPKU4V8FOD" stopped.
2023-09-20 09:02:22.868 +02:00 [DBG] Connection id "0HMTPKU4V8FOD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:02:22.911 +02:00 [DBG] Connection 0HMTPKU4V8FOE established using the following protocol: "Tls12"
2023-09-20 09:02:22.911 +02:00 [DBG] Connection 0HMTPKU4V8FOF established using the following protocol: "Tls12"
2023-09-20 09:02:22.933 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:02:22.933 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:02:22.944 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:02:22.944 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:02:23.010 +02:00 [DBG] Connection id "0HMTPKU4V8FOF" completed keep alive response.
2023-09-20 09:02:23.010 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 78.2866ms
2023-09-20 09:02:23.091 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:02:23.092 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:02:23.092 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:02:23.205 +02:00 [DBG] Connection id "0HMTPKU4V8FOF" completed keep alive response.
2023-09-20 09:02:23.206 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.1231ms
2023-09-20 09:02:34.221 +02:00 [INF] Application is shutting down...
2023-09-20 09:02:34.222 +02:00 [DBG] Hosting stopping
2023-09-20 09:02:34.229 +02:00 [DBG] Connection id "0HMTPKU4V8FOE" disconnecting.
2023-09-20 09:02:34.229 +02:00 [DBG] Connection id "0HMTPKU4V8FOF" disconnecting.
2023-09-20 09:02:34.229 +02:00 [DBG] Connection id "0HMTPKU4V8FOF" stopped.
2023-09-20 09:02:34.229 +02:00 [DBG] Connection id "0HMTPKU4V8FOE" stopped.
2023-09-20 09:02:34.229 +02:00 [DBG] Connection id "0HMTPKU4V8FOE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:02:34.229 +02:00 [DBG] Connection id "0HMTPKU4V8FOF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:02:34.231 +02:00 [DBG] Hosting stopped
2023-09-20 09:02:35.110 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:02:35.161 +02:00 [DBG] Hosting starting
2023-09-20 09:02:35.308 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:02:35.308 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:02:35.308 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:02:35.308 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:02:35.308 +02:00 [INF] Hosting environment: Development
2023-09-20 09:02:35.308 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:02:35.308 +02:00 [DBG] Hosting started
2023-09-20 09:02:35.688 +02:00 [DBG] Connection id "0HMTPKU8PUUL1" received FIN.
2023-09-20 09:02:35.693 +02:00 [DBG] Connection id "0HMTPKU8PUUL1" accepted.
2023-09-20 09:02:35.693 +02:00 [DBG] Connection id "0HMTPKU8PUUL1" started.
2023-09-20 09:02:35.706 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:02:35.722 +02:00 [DBG] Connection id "0HMTPKU8PUUL2" accepted.
2023-09-20 09:02:35.724 +02:00 [DBG] Connection id "0HMTPKU8PUUL3" accepted.
2023-09-20 09:02:35.724 +02:00 [DBG] Connection id "0HMTPKU8PUUL2" started.
2023-09-20 09:02:35.725 +02:00 [DBG] Connection id "0HMTPKU8PUUL3" started.
2023-09-20 09:02:35.727 +02:00 [DBG] Connection id "0HMTPKU8PUUL1" stopped.
2023-09-20 09:02:35.730 +02:00 [DBG] Connection id "0HMTPKU8PUUL1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:02:35.773 +02:00 [DBG] Connection 0HMTPKU8PUUL3 established using the following protocol: "Tls12"
2023-09-20 09:02:35.773 +02:00 [DBG] Connection 0HMTPKU8PUUL2 established using the following protocol: "Tls12"
2023-09-20 09:02:35.794 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:02:35.794 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:02:35.806 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:02:35.806 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:02:35.871 +02:00 [DBG] Connection id "0HMTPKU8PUUL2" completed keep alive response.
2023-09-20 09:02:35.872 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 78.9230ms
2023-09-20 09:02:35.951 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:02:35.951 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:02:35.951 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:02:36.063 +02:00 [DBG] Connection id "0HMTPKU8PUUL2" completed keep alive response.
2023-09-20 09:02:36.063 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.3854ms
2023-09-20 09:03:00.573 +02:00 [DBG] Connection id "0HMTPKU8PUUL4" accepted.
2023-09-20 09:03:00.573 +02:00 [DBG] Connection id "0HMTPKU8PUUL4" started.
2023-09-20 09:03:00.598 +02:00 [DBG] Connection 0HMTPKU8PUUL4 established using the following protocol: "Tls12"
2023-09-20 09:03:00.605 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:03:00.608 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:03:00.609 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:03:00.610 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:03:00.611 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:03:00.612 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:03:00.619 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:03:00.619 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:03:00.620 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:03:00.620 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:03:00.620 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:03:00.620 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:03:00.620 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:03:00.692 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 09:03:01.186 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:03:01.243 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:03:01.244 +02:00 [INF] Getting all villas
2023-09-20 09:03:01.263 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 09:03:01.350 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 09:03:01.370 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:03:01.371 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:03:01.394 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-20 09:03:01.399 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-09-20 09:03:01.400 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2023-09-20 09:03:01.402 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:03:01.485 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:03:01.494 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:03:01.520 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:03:01.546 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.565 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.565 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.565 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.565 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.565 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.566 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.566 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.566 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:03:01.571 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:03:01.578 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 52ms reading results.
2023-09-20 09:03:01.582 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:03:01.587 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 09:03:01.607 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:03:01.610 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:03:01.610 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:03:01.610 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:03:01.657 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1034.1261ms
2023-09-20 09:03:01.658 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:03:01.662 +02:00 [DBG] Connection id "0HMTPKU8PUUL4" completed keep alive response.
2023-09-20 09:03:01.665 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:03:01.670 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:03:01.672 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 09:03:01.673 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 1067.5385ms
2023-09-20 09:03:54.534 +02:00 [DBG] Connection id "0HMTPKU8PUUL3" received FIN.
2023-09-20 09:03:54.539 +02:00 [DBG] Connection id "0HMTPKU8PUUL3" disconnecting.
2023-09-20 09:03:54.546 +02:00 [DBG] Connection id "0HMTPKU8PUUL3" stopped.
2023-09-20 09:03:54.546 +02:00 [DBG] Connection id "0HMTPKU8PUUL3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:04:46.332 +02:00 [DBG] Connection id "0HMTPKU8PUUL2" disconnecting.
2023-09-20 09:04:46.333 +02:00 [DBG] Connection id "0HMTPKU8PUUL2" stopped.
2023-09-20 09:04:46.333 +02:00 [DBG] Connection id "0HMTPKU8PUUL2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:05:12.355 +02:00 [DBG] Connection id "0HMTPKU8PUUL4" disconnecting.
2023-09-20 09:05:12.356 +02:00 [DBG] Connection id "0HMTPKU8PUUL4" stopped.
2023-09-20 09:05:12.356 +02:00 [DBG] Connection id "0HMTPKU8PUUL4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:08:58.862 +02:00 [DBG] Connection id "0HMTPKU8PUUL5" accepted.
2023-09-20 09:08:58.863 +02:00 [DBG] Connection id "0HMTPKU8PUUL5" started.
2023-09-20 09:08:59.029 +02:00 [DBG] Connection 0HMTPKU8PUUL5 established using the following protocol: "Tls12"
2023-09-20 09:08:59.033 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116
2023-09-20 09:08:59.034 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:08:59.034 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:08:59.034 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:08:59.034 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:08:59.034 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:08:59.039 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:08:59.039 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:08:59.039 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:08:59.039 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:08:59.039 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:08:59.039 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:08:59.039 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:08:59.060 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:08:59.060 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:08:59.062 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 09:08:59.063 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 09:08:59.063 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 09:08:59.063 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 09:08:59.066 +02:00 [DBG] Connection id "0HMTPKU8PUUL5", Request id "0HMTPKU8PUUL5:00000001": started reading request body.
2023-09-20 09:08:59.066 +02:00 [DBG] Connection id "0HMTPKU8PUUL5", Request id "0HMTPKU8PUUL5:00000001": done reading request body.
2023-09-20 09:08:59.085 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 39.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 09:08:59.086 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 56.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 09:08:59.090 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:08:59.090 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:08:59.090 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 09:08:59.092 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:08:59.094 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 09:08:59.094 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 09:08:59.094 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:08:59.094 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 09:08:59.094 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 09:08:59.094 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 09:08:59.105 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 65.9022ms
2023-09-20 09:08:59.105 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:08:59.105 +02:00 [DBG] Connection id "0HMTPKU8PUUL5" completed keep alive response.
2023-09-20 09:08:59.105 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:08:59.105 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116 - 400 459 application/problem+json;+charset=utf-8 72.3090ms
2023-09-20 09:11:09.688 +02:00 [DBG] Connection id "0HMTPKU8PUUL5" disconnecting.
2023-09-20 09:11:09.689 +02:00 [DBG] Connection id "0HMTPKU8PUUL5" stopped.
2023-09-20 09:11:09.690 +02:00 [DBG] Connection id "0HMTPKU8PUUL5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:17:43.027 +02:00 [INF] Application is shutting down...
2023-09-20 09:17:43.028 +02:00 [DBG] Hosting stopping
2023-09-20 09:17:43.031 +02:00 [DBG] Hosting stopped
2023-09-20 09:18:32.296 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:18:32.345 +02:00 [DBG] Hosting starting
2023-09-20 09:18:32.495 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:18:32.495 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:18:32.495 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:18:32.495 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:18:32.495 +02:00 [INF] Hosting environment: Development
2023-09-20 09:18:32.495 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:18:32.495 +02:00 [DBG] Hosting started
2023-09-20 09:18:32.873 +02:00 [DBG] Connection id "0HMTPL762CMH1" received FIN.
2023-09-20 09:18:32.875 +02:00 [DBG] Connection id "0HMTPL762CMH1" accepted.
2023-09-20 09:18:32.876 +02:00 [DBG] Connection id "0HMTPL762CMH1" started.
2023-09-20 09:18:32.885 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:18:32.904 +02:00 [DBG] Connection id "0HMTPL762CMH1" stopped.
2023-09-20 09:18:32.906 +02:00 [DBG] Connection id "0HMTPL762CMH2" accepted.
2023-09-20 09:18:32.906 +02:00 [DBG] Connection id "0HMTPL762CMH3" accepted.
2023-09-20 09:18:32.906 +02:00 [DBG] Connection id "0HMTPL762CMH2" started.
2023-09-20 09:18:32.907 +02:00 [DBG] Connection id "0HMTPL762CMH1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:18:32.912 +02:00 [DBG] Connection id "0HMTPL762CMH3" started.
2023-09-20 09:18:32.952 +02:00 [DBG] Connection 0HMTPL762CMH2 established using the following protocol: "Tls12"
2023-09-20 09:18:32.952 +02:00 [DBG] Connection 0HMTPL762CMH3 established using the following protocol: "Tls12"
2023-09-20 09:18:32.973 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:18:32.973 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:18:32.986 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:18:32.986 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:18:33.051 +02:00 [DBG] Connection id "0HMTPL762CMH2" completed keep alive response.
2023-09-20 09:18:33.052 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 79.8927ms
2023-09-20 09:18:33.133 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:18:33.133 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:18:33.133 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:18:33.244 +02:00 [DBG] Connection id "0HMTPL762CMH2" completed keep alive response.
2023-09-20 09:18:33.244 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.3025ms
2023-09-20 09:18:48.022 +02:00 [INF] Application is shutting down...
2023-09-20 09:18:48.023 +02:00 [DBG] Hosting stopping
2023-09-20 09:18:48.031 +02:00 [DBG] Connection id "0HMTPL762CMH3" disconnecting.
2023-09-20 09:18:48.031 +02:00 [DBG] Connection id "0HMTPL762CMH2" disconnecting.
2023-09-20 09:18:48.032 +02:00 [DBG] Connection id "0HMTPL762CMH3" stopped.
2023-09-20 09:18:48.032 +02:00 [DBG] Connection id "0HMTPL762CMH2" stopped.
2023-09-20 09:18:48.032 +02:00 [DBG] Connection id "0HMTPL762CMH2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:18:48.032 +02:00 [DBG] Connection id "0HMTPL762CMH3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:18:48.034 +02:00 [DBG] Hosting stopped
2023-09-20 09:18:53.369 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:18:53.419 +02:00 [DBG] Hosting starting
2023-09-20 09:18:53.435 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:18:53.435 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:18:53.435 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:18:53.435 +02:00 [INF] Hosting environment: Development
2023-09-20 09:18:53.435 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:18:53.435 +02:00 [DBG] Hosting started
2023-09-20 09:18:53.931 +02:00 [DBG] Connection id "0HMTPL7CB73LN" received FIN.
2023-09-20 09:18:53.934 +02:00 [DBG] Connection id "0HMTPL7CB73LN" accepted.
2023-09-20 09:18:53.934 +02:00 [DBG] Connection id "0HMTPL7CB73LN" started.
2023-09-20 09:18:53.942 +02:00 [DBG] Connection id "0HMTPL7CB73LN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:18:53.951 +02:00 [DBG] Connection id "0HMTPL7CB73LN" disconnecting.
2023-09-20 09:18:53.956 +02:00 [DBG] Connection id "0HMTPL7CB73LN" stopped.
2023-09-20 09:18:53.976 +02:00 [DBG] Connection id "0HMTPL7CB73LO" accepted.
2023-09-20 09:18:53.977 +02:00 [DBG] Connection id "0HMTPL7CB73LP" accepted.
2023-09-20 09:18:53.977 +02:00 [DBG] Connection id "0HMTPL7CB73LO" started.
2023-09-20 09:18:53.977 +02:00 [DBG] Connection id "0HMTPL7CB73LP" started.
2023-09-20 09:18:53.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-20 09:18:53.995 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:18:54.007 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:18:54.007 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:18:54.064 +02:00 [DBG] Connection id "0HMTPL7CB73LO" completed keep alive response.
2023-09-20 09:18:54.064 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 70.7222ms
2023-09-20 09:18:54.142 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-20 09:18:54.142 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:18:54.142 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:18:54.246 +02:00 [DBG] Connection id "0HMTPL7CB73LO" completed keep alive response.
2023-09-20 09:18:54.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.4737ms
2023-09-20 09:21:04.598 +02:00 [DBG] Connection id "0HMTPL7CB73LP" disconnecting.
2023-09-20 09:21:04.598 +02:00 [DBG] Connection id "0HMTPL7CB73LO" disconnecting.
2023-09-20 09:21:04.601 +02:00 [DBG] Connection id "0HMTPL7CB73LP" stopped.
2023-09-20 09:21:04.601 +02:00 [DBG] Connection id "0HMTPL7CB73LO" stopped.
2023-09-20 09:21:04.601 +02:00 [DBG] Connection id "0HMTPL7CB73LP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:21:04.602 +02:00 [DBG] Connection id "0HMTPL7CB73LO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:21:34.142 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" accepted.
2023-09-20 09:21:34.142 +02:00 [DBG] Connection id "0HMTPL7CB73LR" accepted.
2023-09-20 09:21:34.142 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" started.
2023-09-20 09:21:34.144 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-20 09:21:34.144 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:21:34.144 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:21:34.147 +02:00 [DBG] Connection id "0HMTPL7CB73LR" started.
2023-09-20 09:21:34.148 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" completed keep alive response.
2023-09-20 09:21:34.148 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 4.0872ms
2023-09-20 09:21:34.263 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-20 09:21:34.263 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:21:34.263 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:21:34.272 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" completed keep alive response.
2023-09-20 09:21:34.272 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.9165ms
2023-09-20 09:21:35.493 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-20 09:21:35.494 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:21:35.494 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:21:35.495 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" completed keep alive response.
2023-09-20 09:21:35.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 1.8223ms
2023-09-20 09:21:35.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-20 09:21:35.558 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:21:35.558 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:21:35.563 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" completed keep alive response.
2023-09-20 09:21:35.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.0529ms
2023-09-20 09:21:41.003 +02:00 [INF] Application is shutting down...
2023-09-20 09:21:41.004 +02:00 [DBG] Hosting stopping
2023-09-20 09:21:41.011 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" disconnecting.
2023-09-20 09:21:41.011 +02:00 [DBG] Connection id "0HMTPL7CB73LR" disconnecting.
2023-09-20 09:21:41.011 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" stopped.
2023-09-20 09:21:41.011 +02:00 [DBG] Connection id "0HMTPL7CB73LR" stopped.
2023-09-20 09:21:41.011 +02:00 [DBG] Connection id "0HMTPL7CB73LR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:21:41.011 +02:00 [DBG] Connection id "0HMTPL7CB73LQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:21:41.015 +02:00 [DBG] Hosting stopped
2023-09-20 09:22:16.685 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:22:16.736 +02:00 [DBG] Hosting starting
2023-09-20 09:22:16.899 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:22:16.899 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:22:16.899 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:22:16.899 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:22:16.899 +02:00 [INF] Hosting environment: Development
2023-09-20 09:22:16.899 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:22:16.899 +02:00 [DBG] Hosting started
2023-09-20 09:22:17.272 +02:00 [DBG] Connection id "0HMTPL98UDSDH" received FIN.
2023-09-20 09:22:17.278 +02:00 [DBG] Connection id "0HMTPL98UDSDH" accepted.
2023-09-20 09:22:17.278 +02:00 [DBG] Connection id "0HMTPL98UDSDH" started.
2023-09-20 09:22:17.298 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:22:17.308 +02:00 [DBG] Connection id "0HMTPL98UDSDI" accepted.
2023-09-20 09:22:17.314 +02:00 [DBG] Connection id "0HMTPL98UDSDI" started.
2023-09-20 09:22:17.314 +02:00 [DBG] Connection id "0HMTPL98UDSDJ" accepted.
2023-09-20 09:22:17.314 +02:00 [DBG] Connection id "0HMTPL98UDSDJ" started.
2023-09-20 09:22:17.317 +02:00 [DBG] Connection id "0HMTPL98UDSDH" stopped.
2023-09-20 09:22:17.319 +02:00 [DBG] Connection id "0HMTPL98UDSDH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:22:17.360 +02:00 [DBG] Connection 0HMTPL98UDSDJ established using the following protocol: "Tls12"
2023-09-20 09:22:17.360 +02:00 [DBG] Connection 0HMTPL98UDSDI established using the following protocol: "Tls12"
2023-09-20 09:22:17.381 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:22:17.382 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:22:17.393 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:22:17.393 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:22:17.458 +02:00 [DBG] Connection id "0HMTPL98UDSDJ" completed keep alive response.
2023-09-20 09:22:17.459 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 78.8587ms
2023-09-20 09:22:17.537 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:22:17.537 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:22:17.537 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:22:17.649 +02:00 [DBG] Connection id "0HMTPL98UDSDJ" completed keep alive response.
2023-09-20 09:22:17.649 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.0132ms
2023-09-20 09:22:21.434 +02:00 [DBG] Connection id "0HMTPL98UDSDK" accepted.
2023-09-20 09:22:21.434 +02:00 [DBG] Connection id "0HMTPL98UDSDK" started.
2023-09-20 09:22:21.460 +02:00 [DBG] Connection 0HMTPL98UDSDK established using the following protocol: "Tls12"
2023-09-20 09:22:21.467 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:22:21.469 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:22:21.470 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:22:21.470 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:22:21.471 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:22:21.472 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:22:21.478 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:22:21.479 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:22:21.479 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:22:21.479 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:22:21.479 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:22:21.479 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:22:21.479 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:22:21.545 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 09:22:22.036 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:22:22.091 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:22:22.092 +02:00 [INF] Getting all villas
2023-09-20 09:22:22.111 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 09:22:22.198 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 09:22:22.218 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:22:22.219 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:22:22.241 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-20 09:22:22.245 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-20 09:22:22.246 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2023-09-20 09:22:22.249 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:22:22.319 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:22:22.328 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:22:22.352 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:22:22.376 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.395 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.395 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:22:22.399 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:22:22.407 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 49ms reading results.
2023-09-20 09:22:22.411 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:22:22.416 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 09:22:22.434 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:22:22.437 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:22:22.438 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:22:22.438 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:22:22.484 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1001.7887ms
2023-09-20 09:22:22.485 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:22:22.489 +02:00 [DBG] Connection id "0HMTPL98UDSDK" completed keep alive response.
2023-09-20 09:22:22.491 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:22:22.495 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:22:22.498 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 09:22:22.498 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 1031.7046ms
2023-09-20 09:23:36.447 +02:00 [DBG] Connection id "0HMTPL98UDSDK" received FIN.
2023-09-20 09:23:36.453 +02:00 [DBG] Connection id "0HMTPL98UDSDK" disconnecting.
2023-09-20 09:23:36.455 +02:00 [DBG] Connection id "0HMTPL98UDSDK" stopped.
2023-09-20 09:23:36.456 +02:00 [DBG] Connection id "0HMTPL98UDSDK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:24:27.885 +02:00 [DBG] Connection id "0HMTPL98UDSDJ" disconnecting.
2023-09-20 09:24:27.885 +02:00 [DBG] Connection id "0HMTPL98UDSDI" disconnecting.
2023-09-20 09:24:27.886 +02:00 [DBG] Connection id "0HMTPL98UDSDJ" stopped.
2023-09-20 09:24:27.886 +02:00 [DBG] Connection id "0HMTPL98UDSDI" stopped.
2023-09-20 09:24:27.886 +02:00 [DBG] Connection id "0HMTPL98UDSDJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:24:27.886 +02:00 [DBG] Connection id "0HMTPL98UDSDI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:27:52.326 +02:00 [DBG] Connection id "0HMTPL98UDSDL" accepted.
2023-09-20 09:27:52.326 +02:00 [DBG] Connection id "0HMTPL98UDSDL" started.
2023-09-20 09:27:52.387 +02:00 [DBG] Connection 0HMTPL98UDSDL established using the following protocol: "Tls12"
2023-09-20 09:27:52.393 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:27:52.394 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:27:52.394 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:27:52.394 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:27:52.394 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:27:52.394 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:27:52.394 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:27:52.394 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:27:52.394 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:27:52.394 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:27:52.394 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:27:52.394 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:27:52.394 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:27:52.416 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:27:52.417 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:27:52.417 +02:00 [INF] Getting all villas
2023-09-20 09:27:52.417 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:27:52.417 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:27:52.417 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 09:27:52.417 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:27:52.417 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:27:52.417 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:27:52.421 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:27:52.422 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:27:52.426 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:27:52.427 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:27:52.427 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 09:27:52.427 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:27:52.427 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:27:52.427 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:27:52.427 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:27:52.428 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:27:52.428 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:27:52.428 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 33.5553ms
2023-09-20 09:27:52.428 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:27:52.428 +02:00 [DBG] Connection id "0HMTPL98UDSDL" completed keep alive response.
2023-09-20 09:27:52.428 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:27:52.428 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:27:52.428 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:27:52.428 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 34.7671ms
2023-09-20 09:29:07.336 +02:00 [DBG] Connection id "0HMTPL98UDSDL" received FIN.
2023-09-20 09:29:07.338 +02:00 [DBG] Connection id "0HMTPL98UDSDL" disconnecting.
2023-09-20 09:29:07.338 +02:00 [DBG] Connection id "0HMTPL98UDSDL" stopped.
2023-09-20 09:29:07.338 +02:00 [DBG] Connection id "0HMTPL98UDSDL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:36:35.307 +02:00 [INF] Application is shutting down...
2023-09-20 09:36:35.309 +02:00 [DBG] Hosting stopping
2023-09-20 09:36:35.318 +02:00 [DBG] Hosting stopped
2023-09-20 09:36:37.141 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:36:37.192 +02:00 [DBG] Hosting starting
2023-09-20 09:36:37.343 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:36:37.343 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:36:37.343 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:36:37.343 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:36:37.343 +02:00 [INF] Hosting environment: Development
2023-09-20 09:36:37.343 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:36:37.343 +02:00 [DBG] Hosting started
2023-09-20 09:36:37.716 +02:00 [DBG] Connection id "0HMTPLH9C8C69" received FIN.
2023-09-20 09:36:37.718 +02:00 [DBG] Connection id "0HMTPLH9C8C69" accepted.
2023-09-20 09:36:37.718 +02:00 [DBG] Connection id "0HMTPLH9C8C69" started.
2023-09-20 09:36:37.726 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:36:37.740 +02:00 [DBG] Connection id "0HMTPLH9C8C69" stopped.
2023-09-20 09:36:37.743 +02:00 [DBG] Connection id "0HMTPLH9C8C69" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:36:37.748 +02:00 [DBG] Connection id "0HMTPLH9C8C6A" accepted.
2023-09-20 09:36:37.749 +02:00 [DBG] Connection id "0HMTPLH9C8C6B" accepted.
2023-09-20 09:36:37.749 +02:00 [DBG] Connection id "0HMTPLH9C8C6A" started.
2023-09-20 09:36:37.749 +02:00 [DBG] Connection id "0HMTPLH9C8C6B" started.
2023-09-20 09:36:37.798 +02:00 [DBG] Connection 0HMTPLH9C8C6A established using the following protocol: "Tls12"
2023-09-20 09:36:37.798 +02:00 [DBG] Connection 0HMTPLH9C8C6B established using the following protocol: "Tls12"
2023-09-20 09:36:37.819 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:36:37.820 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:36:37.832 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:36:37.832 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:36:37.899 +02:00 [DBG] Connection id "0HMTPLH9C8C6A" completed keep alive response.
2023-09-20 09:36:37.899 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 80.9032ms
2023-09-20 09:36:37.981 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:36:37.981 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:36:37.981 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:36:38.089 +02:00 [DBG] Connection id "0HMTPLH9C8C6A" completed keep alive response.
2023-09-20 09:36:38.089 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 107.8200ms
2023-09-20 09:36:51.446 +02:00 [DBG] Connection id "0HMTPLH9C8C6C" accepted.
2023-09-20 09:36:51.446 +02:00 [DBG] Connection id "0HMTPLH9C8C6C" started.
2023-09-20 09:36:51.471 +02:00 [DBG] Connection 0HMTPLH9C8C6C established using the following protocol: "Tls12"
2023-09-20 09:36:51.477 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:36:51.480 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:36:51.481 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:36:51.481 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:36:51.482 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:36:51.483 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:36:51.490 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:36:51.490 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:36:51.491 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:36:51.491 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:36:51.491 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:36:51.491 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:36:51.491 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:36:51.555 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 09:36:52.038 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:36:52.094 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:36:52.095 +02:00 [INF] Getting all villas
2023-09-20 09:36:52.113 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 09:36:52.198 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 09:36:52.218 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:36:52.219 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:36:52.240 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-20 09:36:52.244 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-09-20 09:36:52.245 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2023-09-20 09:36:52.248 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:36:52.321 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:36:52.330 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:36:52.356 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:36:52.381 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.404 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.405 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.405 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.405 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.405 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.405 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.405 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.405 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:52.410 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:36:52.417 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 56ms reading results.
2023-09-20 09:36:52.422 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:36:52.427 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 09:36:52.445 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:36:52.449 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:36:52.449 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:36:52.449 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:36:52.496 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1001.9427ms
2023-09-20 09:36:52.497 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:36:52.501 +02:00 [DBG] Connection id "0HMTPLH9C8C6C" completed keep alive response.
2023-09-20 09:36:52.503 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:36:52.507 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:36:52.510 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 09:36:52.510 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 1033.7720ms
2023-09-20 09:36:57.894 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107
2023-09-20 09:36:57.895 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:36:57.895 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:36:57.895 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:36:57.895 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:36:57.896 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:36:57.902 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:36:57.902 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:36:57.902 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:36:57.902 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:36:57.902 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:36:57.902 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:36:57.902 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:36:57.927 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:36:57.927 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:36:57.929 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 09:36:57.930 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 09:36:57.930 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 09:36:57.931 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 09:36:57.933 +02:00 [DBG] Connection id "0HMTPLH9C8C6C", Request id "0HMTPLH9C8C6C:00000002": started reading request body.
2023-09-20 09:36:57.933 +02:00 [DBG] Connection id "0HMTPLH9C8C6C", Request id "0HMTPLH9C8C6C:00000002": done reading request body.
2023-09-20 09:36:57.952 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:36:57.952 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:36:57.952 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 09:36:57.956 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:36:57.966 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 09:36:58.031 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 09:36:58.040 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:36:58.040 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:36:58.040 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 09:36:58.040 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:36:58.042 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 09:36:58.042 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:36:58.043 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:36:58.044 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 09:36:58.054 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 09:36:58.055 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:36:58.055 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 09:36:58.055 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:36:58.055 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:36:58.073 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:58.078 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:36:58.080 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 09:36:58.081 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 09:36:58.089 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 09:36:58.123 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:36:58.123 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:36:58.124 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:36:58.124 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:36:58.124 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:36:58.124 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 09:36:58.135 +02:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 09:36:58.138 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:36:58.138 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:36:58.144 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Details" of relation "Villas" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Details" of relation "Villas" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Villas
    ColumnName: Details
    File: execMain.c
    Line: 1889
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Details" of relation "Villas" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Details" of relation "Villas" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Villas
    ColumnName: Details
    File: execMain.c
    Line: 1889
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 09:36:58.147 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:36:58.147 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:36:58.148 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:36:58.148 +02:00 [INF] Executing ObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:36:58.148 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 245.8524ms
2023-09-20 09:36:58.148 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:36:58.148 +02:00 [DBG] Connection id "0HMTPLH9C8C6C" completed keep alive response.
2023-09-20 09:36:58.148 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:36:58.148 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:36:58.148 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:36:58.148 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107 - 200 4355 application/json;+charset=utf-8 254.0379ms
2023-09-20 09:37:23.451 +02:00 [DBG] Connection id "0HMTPLH9C8C6C" received FIN.
2023-09-20 09:37:23.452 +02:00 [DBG] Connection id "0HMTPLH9C8C6C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:37:23.452 +02:00 [DBG] Connection id "0HMTPLH9C8C6C" disconnecting.
2023-09-20 09:37:23.453 +02:00 [DBG] Connection id "0HMTPLH9C8C6C" stopped.
2023-09-20 09:37:49.561 +02:00 [DBG] Connection id "0HMTPLH9C8C6B" received FIN.
2023-09-20 09:37:49.561 +02:00 [DBG] Connection id "0HMTPLH9C8C6B" disconnecting.
2023-09-20 09:37:49.561 +02:00 [DBG] Connection id "0HMTPLH9C8C6B" stopped.
2023-09-20 09:37:49.561 +02:00 [DBG] Connection id "0HMTPLH9C8C6B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:37:52.296 +02:00 [DBG] Connection id "0HMTPLH9C8C6D" accepted.
2023-09-20 09:37:52.296 +02:00 [DBG] Connection id "0HMTPLH9C8C6D" started.
2023-09-20 09:37:52.349 +02:00 [DBG] Connection 0HMTPLH9C8C6D established using the following protocol: "Tls12"
2023-09-20 09:37:52.356 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:37:52.356 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:37:52.356 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:37:52.356 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:37:52.356 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:37:52.356 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:37:52.356 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:37:52.356 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:37:52.356 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:37:52.356 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:37:52.356 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:37:52.356 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:37:52.356 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:37:52.362 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:37:52.362 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:37:52.362 +02:00 [INF] Getting all villas
2023-09-20 09:37:52.362 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:37:52.362 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:37:52.362 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 09:37:52.362 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:37:52.363 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:37:52.363 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:37:52.363 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:37:52.363 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:37:52.363 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:37:52.364 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:37:52.364 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 09:37:52.364 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:37:52.364 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:37:52.365 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:37:52.365 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:37:52.365 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:37:52.365 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:37:52.365 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 8.7742ms
2023-09-20 09:37:52.365 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:37:52.365 +02:00 [DBG] Connection id "0HMTPLH9C8C6D" completed keep alive response.
2023-09-20 09:37:52.365 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:37:52.365 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:37:52.365 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:37:52.365 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 9.3897ms
2023-09-20 09:38:03.619 +02:00 [INF] Application is shutting down...
2023-09-20 09:38:03.621 +02:00 [DBG] Hosting stopping
2023-09-20 09:38:03.632 +02:00 [DBG] Connection id "0HMTPLH9C8C6A" disconnecting.
2023-09-20 09:38:03.632 +02:00 [DBG] Connection id "0HMTPLH9C8C6D" disconnecting.
2023-09-20 09:38:03.632 +02:00 [DBG] Connection id "0HMTPLH9C8C6A" stopped.
2023-09-20 09:38:03.632 +02:00 [DBG] Connection id "0HMTPLH9C8C6D" stopped.
2023-09-20 09:38:03.632 +02:00 [DBG] Connection id "0HMTPLH9C8C6A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:38:03.632 +02:00 [DBG] Connection id "0HMTPLH9C8C6D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:38:03.635 +02:00 [DBG] Hosting stopped
2023-09-20 09:38:10.487 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:38:10.546 +02:00 [DBG] Hosting starting
2023-09-20 09:38:10.751 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:38:10.751 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:38:10.751 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:38:10.751 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:38:10.752 +02:00 [INF] Hosting environment: Development
2023-09-20 09:38:10.752 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:38:10.752 +02:00 [DBG] Hosting started
2023-09-20 09:38:10.792 +02:00 [DBG] Connection id "0HMTPLI53T03D" received FIN.
2023-09-20 09:38:10.796 +02:00 [DBG] Connection id "0HMTPLI53T03D" accepted.
2023-09-20 09:38:10.796 +02:00 [DBG] Connection id "0HMTPLI53T03D" started.
2023-09-20 09:38:10.812 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:38:10.831 +02:00 [DBG] Connection id "0HMTPLI53T03E" accepted.
2023-09-20 09:38:10.836 +02:00 [DBG] Connection id "0HMTPLI53T03E" started.
2023-09-20 09:38:10.837 +02:00 [DBG] Connection id "0HMTPLI53T03F" accepted.
2023-09-20 09:38:10.837 +02:00 [DBG] Connection id "0HMTPLI53T03F" started.
2023-09-20 09:38:10.841 +02:00 [DBG] Connection id "0HMTPLI53T03D" stopped.
2023-09-20 09:38:10.843 +02:00 [DBG] Connection id "0HMTPLI53T03D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:38:10.897 +02:00 [DBG] Connection 0HMTPLI53T03F established using the following protocol: "Tls12"
2023-09-20 09:38:10.897 +02:00 [DBG] Connection 0HMTPLI53T03E established using the following protocol: "Tls12"
2023-09-20 09:38:10.925 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:38:10.925 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:38:10.941 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:38:10.941 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:38:11.035 +02:00 [DBG] Connection id "0HMTPLI53T03E" completed keep alive response.
2023-09-20 09:38:11.036 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 112.6132ms
2023-09-20 09:38:11.125 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:38:11.125 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:38:11.125 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:38:11.300 +02:00 [DBG] Connection id "0HMTPLI53T03E" completed keep alive response.
2023-09-20 09:38:11.300 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.6136ms
2023-09-20 09:38:38.423 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:38:38.483 +02:00 [DBG] Hosting starting
2023-09-20 09:38:38.697 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:38:38.698 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:38:38.698 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:38:38.698 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:38:38.698 +02:00 [INF] Hosting environment: Development
2023-09-20 09:38:38.698 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:38:38.699 +02:00 [DBG] Hosting started
2023-09-20 09:38:39.170 +02:00 [DBG] Connection id "0HMTPLIDIHBIJ" received FIN.
2023-09-20 09:38:39.174 +02:00 [DBG] Connection id "0HMTPLIDIHBIJ" accepted.
2023-09-20 09:38:39.175 +02:00 [DBG] Connection id "0HMTPLIDIHBIJ" started.
2023-09-20 09:38:39.195 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:38:39.213 +02:00 [DBG] Connection id "0HMTPLIDIHBIK" accepted.
2023-09-20 09:38:39.216 +02:00 [DBG] Connection id "0HMTPLIDIHBIK" started.
2023-09-20 09:38:39.217 +02:00 [DBG] Connection id "0HMTPLIDIHBIL" accepted.
2023-09-20 09:38:39.217 +02:00 [DBG] Connection id "0HMTPLIDIHBIL" started.
2023-09-20 09:38:39.247 +02:00 [DBG] Connection id "0HMTPLIDIHBIJ" stopped.
2023-09-20 09:38:39.249 +02:00 [DBG] Connection id "0HMTPLIDIHBIJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:38:39.294 +02:00 [DBG] Connection 0HMTPLIDIHBIK established using the following protocol: "Tls12"
2023-09-20 09:38:39.294 +02:00 [DBG] Connection 0HMTPLIDIHBIL established using the following protocol: "Tls12"
2023-09-20 09:38:39.320 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:38:39.321 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:38:39.334 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:38:39.334 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:38:39.414 +02:00 [DBG] Connection id "0HMTPLIDIHBIL" completed keep alive response.
2023-09-20 09:38:39.415 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 95.5621ms
2023-09-20 09:38:39.495 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:38:39.495 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:38:39.495 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:38:39.646 +02:00 [DBG] Connection id "0HMTPLIDIHBIL" completed keep alive response.
2023-09-20 09:38:39.646 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.6094ms
2023-09-20 09:38:53.708 +02:00 [DBG] Connection id "0HMTPLIDIHBIM" accepted.
2023-09-20 09:38:53.708 +02:00 [DBG] Connection id "0HMTPLIDIHBIM" started.
2023-09-20 09:38:53.837 +02:00 [DBG] Connection 0HMTPLIDIHBIM established using the following protocol: "Tls12"
2023-09-20 09:38:53.841 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:38:53.846 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:38:53.847 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:38:53.847 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:38:53.848 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:38:53.850 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:38:53.863 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:38:53.864 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:38:53.864 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:38:53.864 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:38:53.864 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:38:53.865 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:38:53.866 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:38:53.970 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 09:38:54.577 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:38:54.641 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:38:54.643 +02:00 [INF] Getting all villas
2023-09-20 09:38:54.668 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 09:38:54.771 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 09:38:54.796 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:38:54.797 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:38:54.828 +02:00 [DBG] Created DbConnection. (28ms).
2023-09-20 09:38:54.833 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (35ms).
2023-09-20 09:38:54.834 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (39ms).
2023-09-20 09:38:54.837 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:38:54.977 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:38:54.989 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:38:55.022 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:38:55.054 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:38:55.089 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:38:55.098 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 68ms reading results.
2023-09-20 09:38:55.104 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:38:55.110 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 09:38:55.134 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:38:55.138 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:38:55.138 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:38:55.138 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:38:55.194 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1325.4886ms
2023-09-20 09:38:55.196 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:38:55.205 +02:00 [DBG] Connection id "0HMTPLIDIHBIM" completed keep alive response.
2023-09-20 09:38:55.210 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:38:55.222 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:38:55.227 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-20 09:38:55.229 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 1387.5183ms
2023-09-20 09:39:14.492 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107
2023-09-20 09:39:14.493 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:39:14.493 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:39:14.493 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:39:14.493 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:39:14.493 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:39:14.499 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:39:14.499 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:39:14.499 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:39:14.500 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:39:14.500 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:39:14.500 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:39:14.500 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:39:14.515 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:39:14.515 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:39:14.518 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 09:39:14.520 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 09:39:14.520 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 09:39:14.520 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 09:39:14.524 +02:00 [DBG] Connection id "0HMTPLIDIHBIM", Request id "0HMTPLIDIHBIM:00000002": started reading request body.
2023-09-20 09:39:14.524 +02:00 [DBG] Connection id "0HMTPLIDIHBIM", Request id "0HMTPLIDIHBIM:00000002": done reading request body.
2023-09-20 09:39:14.547 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:39:14.548 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:39:14.548 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 09:39:14.552 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:39:31.484 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 09:39:31.563 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 09:39:31.575 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:39:31.575 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:39:31.575 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 09:39:31.575 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:39:31.577 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 09:39:31.578 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:39:31.578 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:39:31.580 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 09:39:31.590 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 09:39:31.598 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:39:31.598 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2023-09-20 09:39:31.598 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:39:31.639 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (40ms).
2023-09-20 09:40:06.400 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:40:06.407 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:40:06.409 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 09:40:06.411 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 09:40:06.422 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 09:40:06.469 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:40:06.469 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:40:06.470 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:40:06.470 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:40:06.471 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:40:06.471 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 09:40:06.517 +02:00 [ERR] Failed executing DbCommand (44ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 09:40:06.521 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:40:06.521 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:40:06.528 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Details" of relation "Villas" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Details" of relation "Villas" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Villas
    ColumnName: Details
    File: execMain.c
    Line: 1889
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Details" of relation "Villas" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Details" of relation "Villas" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Villas
    ColumnName: Details
    File: execMain.c
    Line: 1889
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 09:44:21.368 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 09:44:21.629 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:44:21.711 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:44:54.970 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 09:44:55.228 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:44:55.234 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:44:55.249 +02:00 [DBG] Created DbConnection. (13ms).
2023-09-20 09:44:55.250 +02:00 [DBG] Migrating using database 'Magic_Villa_API' on server ''.
2023-09-20 09:44:55.253 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:44:55.304 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.305 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.308 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 09:44:55.310 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-09-20 09:44:55.312 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-09-20 09:44:55.313 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-09-20 09:44:55.313 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:44:55.334 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.336 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-09-20 09:44:55.351 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-09-20 09:44:55.352 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.352 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:44:55.353 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:44:55.358 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.358 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.358 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:44:55.358 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-09-20 09:44:55.358 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-09-20 09:44:55.358 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-09-20 09:44:55.358 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:44:55.358 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.358 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-09-20 09:44:55.360 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-09-20 09:44:55.360 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.360 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:44:55.367 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:44:55.367 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:44:55.367 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:44:55.367 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:44:55.367 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.368 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-09-20 09:44:55.371 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-09-20 09:44:55.372 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.373 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 09:44:55.373 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.373 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:44:55.376 +02:00 [INF] Applying migration '20230920074421_SetNullableToVilla'.
2023-09-20 09:44:55.393 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:44:55.393 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.394 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-20 09:44:55.395 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-20 09:44:55.395 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.395 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.395 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.396 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "UpdatedDate" DROP NOT NULL;
2023-09-20 09:44:55.400 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "UpdatedDate" DROP NOT NULL;
2023-09-20 09:44:55.400 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.400 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.400 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.400 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "Sqft" DROP NOT NULL;
2023-09-20 09:44:55.400 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "Sqft" DROP NOT NULL;
2023-09-20 09:44:55.400 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.400 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.400 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.400 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "Occupancy" DROP NOT NULL;
2023-09-20 09:44:55.401 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "Occupancy" DROP NOT NULL;
2023-09-20 09:44:55.401 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.401 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.401 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.401 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "ImageUrl" DROP NOT NULL;
2023-09-20 09:44:55.401 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "ImageUrl" DROP NOT NULL;
2023-09-20 09:44:55.401 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.401 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.401 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.401 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "Details" DROP NOT NULL;
2023-09-20 09:44:55.401 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "Details" DROP NOT NULL;
2023-09-20 09:44:55.401 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.401 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.401 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.401 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "Amenity" DROP NOT NULL;
2023-09-20 09:44:55.401 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Villas" ALTER COLUMN "Amenity" DROP NOT NULL;
2023-09-20 09:44:55.401 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.401 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.401 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.401 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 1;
2023-09-20 09:44:55.403 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 1;
2023-09-20 09:44:55.403 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.403 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.403 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.403 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 2;
2023-09-20 09:44:55.403 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 2;
2023-09-20 09:44:55.403 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.403 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.403 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.403 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 3;
2023-09-20 09:44:55.403 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 3;
2023-09-20 09:44:55.403 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.403 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.403 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.403 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 4;
2023-09-20 09:44:55.403 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 4;
2023-09-20 09:44:55.403 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.403 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.403 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.403 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 5;
2023-09-20 09:44:55.404 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "CreatedDate" = TIMESTAMPTZ '2023-09-20 07:44:21.636981Z', "UpdatedDate" = NULL
WHERE "Id" = 5;
2023-09-20 09:44:55.404 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-09-20 09:44:55.404 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.404 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-09-20 09:44:55.404 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230920074421_SetNullableToVilla', '7.0.11');
2023-09-20 09:44:55.404 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230920074421_SetNullableToVilla', '7.0.11');
2023-09-20 09:44:55.405 +02:00 [DBG] Committing transaction.
2023-09-20 09:44:55.406 +02:00 [DBG] Committed transaction.
2023-09-20 09:44:55.407 +02:00 [DBG] Disposing transaction.
2023-09-20 09:44:55.407 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:44:55.407 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:44:55.407 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:44:55.407 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:44:55.408 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:46:39.018 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:46:39.084 +02:00 [DBG] Hosting starting
2023-09-20 09:46:39.341 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:46:39.341 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:46:39.341 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:46:39.342 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:46:39.342 +02:00 [INF] Hosting environment: Development
2023-09-20 09:46:39.342 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:46:39.342 +02:00 [DBG] Hosting started
2023-09-20 09:46:39.771 +02:00 [DBG] Connection id "0HMTPLMSPSVMF" received FIN.
2023-09-20 09:46:39.775 +02:00 [DBG] Connection id "0HMTPLMSPSVMF" accepted.
2023-09-20 09:46:39.775 +02:00 [DBG] Connection id "0HMTPLMSPSVMF" started.
2023-09-20 09:46:39.793 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:46:39.830 +02:00 [DBG] Connection id "0HMTPLMSPSVMF" stopped.
2023-09-20 09:46:39.833 +02:00 [DBG] Connection id "0HMTPLMSPSVMF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:46:39.865 +02:00 [DBG] Connection id "0HMTPLMSPSVMG" accepted.
2023-09-20 09:46:39.866 +02:00 [DBG] Connection id "0HMTPLMSPSVMG" started.
2023-09-20 09:46:39.866 +02:00 [DBG] Connection id "0HMTPLMSPSVMH" accepted.
2023-09-20 09:46:39.866 +02:00 [DBG] Connection id "0HMTPLMSPSVMH" started.
2023-09-20 09:46:39.930 +02:00 [DBG] Connection 0HMTPLMSPSVMH established using the following protocol: "Tls12"
2023-09-20 09:46:39.930 +02:00 [DBG] Connection 0HMTPLMSPSVMG established using the following protocol: "Tls12"
2023-09-20 09:46:39.981 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:46:39.982 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:46:39.996 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:46:39.996 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:46:40.081 +02:00 [DBG] Connection id "0HMTPLMSPSVMH" completed keep alive response.
2023-09-20 09:46:40.082 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 101.7850ms
2023-09-20 09:46:40.173 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:46:40.173 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:46:40.173 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:46:40.321 +02:00 [DBG] Connection id "0HMTPLMSPSVMH" completed keep alive response.
2023-09-20 09:46:40.321 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.4047ms
2023-09-20 09:47:45.909 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 09:47:45.959 +02:00 [DBG] Hosting starting
2023-09-20 09:47:46.100 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 09:47:46.100 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 09:47:46.101 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 09:47:46.101 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 09:47:46.101 +02:00 [INF] Hosting environment: Development
2023-09-20 09:47:46.101 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 09:47:46.101 +02:00 [DBG] Hosting started
2023-09-20 09:47:46.441 +02:00 [DBG] Connection id "0HMTPLNGLN03B" received FIN.
2023-09-20 09:47:46.446 +02:00 [DBG] Connection id "0HMTPLNGLN03B" accepted.
2023-09-20 09:47:46.446 +02:00 [DBG] Connection id "0HMTPLNGLN03B" started.
2023-09-20 09:47:46.461 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 09:47:46.481 +02:00 [DBG] Connection id "0HMTPLNGLN03B" stopped.
2023-09-20 09:47:46.482 +02:00 [DBG] Connection id "0HMTPLNGLN03C" accepted.
2023-09-20 09:47:46.482 +02:00 [DBG] Connection id "0HMTPLNGLN03D" accepted.
2023-09-20 09:47:46.483 +02:00 [DBG] Connection id "0HMTPLNGLN03C" started.
2023-09-20 09:47:46.484 +02:00 [DBG] Connection id "0HMTPLNGLN03B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:47:46.485 +02:00 [DBG] Connection id "0HMTPLNGLN03D" started.
2023-09-20 09:47:46.531 +02:00 [DBG] Connection 0HMTPLNGLN03C established using the following protocol: "Tls12"
2023-09-20 09:47:46.531 +02:00 [DBG] Connection 0HMTPLNGLN03D established using the following protocol: "Tls12"
2023-09-20 09:47:46.553 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 09:47:46.554 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 09:47:46.565 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 09:47:46.565 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:47:46.630 +02:00 [DBG] Connection id "0HMTPLNGLN03C" completed keep alive response.
2023-09-20 09:47:46.631 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 78.6564ms
2023-09-20 09:47:46.710 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 09:47:46.710 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 09:47:46.710 +02:00 [DBG] Request did not match any endpoints
2023-09-20 09:47:46.821 +02:00 [DBG] Connection id "0HMTPLNGLN03C" completed keep alive response.
2023-09-20 09:47:46.821 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.0463ms
2023-09-20 09:47:48.946 +02:00 [DBG] Connection id "0HMTPLNGLN03E" accepted.
2023-09-20 09:47:48.946 +02:00 [DBG] Connection id "0HMTPLNGLN03E" started.
2023-09-20 09:47:48.978 +02:00 [DBG] Connection 0HMTPLNGLN03E established using the following protocol: "Tls12"
2023-09-20 09:47:48.986 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:47:48.989 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:47:48.991 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:47:48.991 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:47:48.993 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:47:48.994 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:47:49.006 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:47:49.007 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:47:49.007 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:47:49.007 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:47:49.007 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:47:49.007 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:47:49.008 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:47:49.089 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 09:47:49.587 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:47:49.644 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:47:49.645 +02:00 [INF] Getting all villas
2023-09-20 09:47:49.664 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 09:47:49.750 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 09:47:49.770 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:47:49.771 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:47:49.795 +02:00 [DBG] Created DbConnection. (21ms).
2023-09-20 09:47:49.799 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-09-20 09:47:49.800 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2023-09-20 09:47:49.803 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:47:49.876 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:47:49.885 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:47:49.909 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:47:49.933 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.957 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.957 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.957 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.957 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.957 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.957 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.957 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.957 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:47:49.962 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:47:49.969 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 55ms reading results.
2023-09-20 09:47:49.974 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:47:49.978 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 09:47:49.996 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:47:49.999 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:47:50.000 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:47:50.000 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:47:50.044 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1034.3462ms
2023-09-20 09:47:50.045 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:47:50.049 +02:00 [DBG] Connection id "0HMTPLNGLN03E" completed keep alive response.
2023-09-20 09:47:50.052 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:47:50.056 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:47:50.058 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 09:47:50.059 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2172 application/json;+charset=utf-8 1073.5077ms
2023-09-20 09:48:04.107 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107
2023-09-20 09:48:04.108 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:48:04.108 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:48:04.108 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:48:04.108 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:48:04.108 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:48:04.113 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:48:04.113 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:48:04.113 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:48:04.113 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:48:04.113 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:48:04.113 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:48:04.113 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:48:04.137 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:48:04.138 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:48:04.140 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 09:48:04.141 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 09:48:04.142 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 09:48:04.142 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 09:48:04.145 +02:00 [DBG] Connection id "0HMTPLNGLN03E", Request id "0HMTPLNGLN03E:00000002": started reading request body.
2023-09-20 09:48:04.145 +02:00 [DBG] Connection id "0HMTPLNGLN03E", Request id "0HMTPLNGLN03E:00000002": done reading request body.
2023-09-20 09:48:04.166 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:48:04.166 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:48:04.166 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 09:48:04.171 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 09:48:04.182 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 09:48:04.251 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 09:48:04.262 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:48:04.262 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:48:04.262 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 09:48:04.262 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:48:04.264 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 09:48:04.264 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:48:04.264 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:04.266 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 09:48:04.274 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 09:48:04.275 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:04.275 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 09:48:04.275 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:04.275 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:48:04.293 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:04.297 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:04.299 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 09:48:04.300 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 09:48:04.308 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 09:48:04.343 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:48:04.343 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:04.344 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:48:04.344 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:48:04.344 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:48:04.344 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 09:48:04.350 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 09:48:04.357 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 09:48:04.358 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:04.358 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2023-09-20 09:48:04.359 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:04.359 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:48:04.366 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:04.368 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 09:48:04.369 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:48:04.369 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:48:04.369 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:48:04.369 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:48:04.381 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[14])
2023-09-20 09:48:04.386 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/14 and 
2023-09-20 09:48:04.386 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/14
2023-09-20 09:48:04.387 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 273.3022ms
2023-09-20 09:48:04.387 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 09:48:04.387 +02:00 [DBG] Connection id "0HMTPLNGLN03E" completed keep alive response.
2023-09-20 09:48:04.387 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:48:04.387 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:48:04.387 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:48:04.387 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107 - 201 181 application/json;+charset=utf-8 280.3449ms
2023-09-20 09:48:27.990 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 09:48:27.990 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 09:48:27.990 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 09:48:27.990 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:48:27.990 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 09:48:27.990 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:48:27.990 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 09:48:27.990 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 09:48:27.990 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 09:48:27.990 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 09:48:27.990 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 09:48:27.990 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 09:48:27.990 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:48:28.000 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 09:48:28.000 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 09:48:28.000 +02:00 [INF] Getting all villas
2023-09-20 09:48:28.001 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 09:48:28.001 +02:00 [DBG] Creating DbConnection.
2023-09-20 09:48:28.002 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 09:48:28.002 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:48:28.002 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 09:48:28.002 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:48:28.002 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:28.002 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:48:28.003 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 09:48:28.004 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:28.004 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 09:48:28.004 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 09:48:28.004 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:48:28.005 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 09:48:28.005 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 09:48:28.005 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 09:48:28.005 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 09:48:28.005 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 14.6385ms
2023-09-20 09:48:28.005 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 09:48:28.005 +02:00 [DBG] Connection id "0HMTPLNGLN03E" completed keep alive response.
2023-09-20 09:48:28.005 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 09:48:28.005 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 09:48:28.005 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 09:48:28.005 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 15.6434ms
2023-09-20 09:49:18.896 +02:00 [DBG] Connection id "0HMTPLNGLN03D" received FIN.
2023-09-20 09:49:18.897 +02:00 [DBG] Connection id "0HMTPLNGLN03D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:49:18.898 +02:00 [DBG] Connection id "0HMTPLNGLN03D" disconnecting.
2023-09-20 09:49:18.899 +02:00 [DBG] Connection id "0HMTPLNGLN03D" stopped.
2023-09-20 09:49:35.321 +02:00 [DBG] Connection id "0HMTPLNGLN03E" received FIN.
2023-09-20 09:49:35.322 +02:00 [DBG] Connection id "0HMTPLNGLN03E" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:49:35.322 +02:00 [DBG] Connection id "0HMTPLNGLN03E" disconnecting.
2023-09-20 09:49:35.322 +02:00 [DBG] Connection id "0HMTPLNGLN03E" stopped.
2023-09-20 09:49:57.117 +02:00 [DBG] Connection id "0HMTPLNGLN03C" disconnecting.
2023-09-20 09:49:57.118 +02:00 [DBG] Connection id "0HMTPLNGLN03C" stopped.
2023-09-20 09:49:57.118 +02:00 [DBG] Connection id "0HMTPLNGLN03C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 09:52:24.257 +02:00 [INF] Application is shutting down...
2023-09-20 09:52:24.258 +02:00 [DBG] Hosting stopping
2023-09-20 09:52:24.262 +02:00 [DBG] Hosting stopped
2023-09-20 11:47:16.932 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 11:47:16.988 +02:00 [DBG] Hosting starting
2023-09-20 11:47:17.380 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 11:47:17.380 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 11:47:17.380 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 11:47:17.380 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 11:47:17.380 +02:00 [INF] Hosting environment: Development
2023-09-20 11:47:17.380 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 11:47:17.380 +02:00 [DBG] Hosting started
2023-09-20 11:47:17.443 +02:00 [DBG] Connection id "0HMTPNQ9PNEGL" received FIN.
2023-09-20 11:47:17.446 +02:00 [DBG] Connection id "0HMTPNQ9PNEGL" accepted.
2023-09-20 11:47:17.446 +02:00 [DBG] Connection id "0HMTPNQ9PNEGL" started.
2023-09-20 11:47:17.453 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 11:47:17.461 +02:00 [DBG] Connection id "0HMTPNQ9PNEGL" stopped.
2023-09-20 11:47:17.463 +02:00 [DBG] Connection id "0HMTPNQ9PNEGL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:47:17.553 +02:00 [DBG] Connection id "0HMTPNQ9PNEGM" accepted.
2023-09-20 11:47:17.553 +02:00 [DBG] Connection id "0HMTPNQ9PNEGN" accepted.
2023-09-20 11:47:17.553 +02:00 [DBG] Connection id "0HMTPNQ9PNEGM" started.
2023-09-20 11:47:17.554 +02:00 [DBG] Connection id "0HMTPNQ9PNEGN" started.
2023-09-20 11:47:17.597 +02:00 [DBG] Connection 0HMTPNQ9PNEGM established using the following protocol: "Tls12"
2023-09-20 11:47:17.597 +02:00 [DBG] Connection 0HMTPNQ9PNEGN established using the following protocol: "Tls12"
2023-09-20 11:47:17.620 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 11:47:17.620 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 11:47:17.633 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 11:47:17.633 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:47:17.707 +02:00 [DBG] Connection id "0HMTPNQ9PNEGN" completed keep alive response.
2023-09-20 11:47:17.708 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 88.5487ms
2023-09-20 11:47:17.717 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - -
2023-09-20 11:47:17.717 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-20 11:47:17.717 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:47:17.725 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-20 11:47:17.725 +02:00 [DBG] Connection id "0HMTPNQ9PNEGN" completed keep alive response.
2023-09-20 11:47:17.725 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 8.1185ms
2023-09-20 11:47:17.824 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 11:47:17.824 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 11:47:17.824 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:47:17.947 +02:00 [DBG] Connection id "0HMTPNQ9PNEGN" completed keep alive response.
2023-09-20 11:47:17.948 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.7028ms
2023-09-20 11:47:25.794 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" accepted.
2023-09-20 11:47:25.794 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" started.
2023-09-20 11:47:25.821 +02:00 [DBG] Connection 0HMTPNQ9PNEGO established using the following protocol: "Tls12"
2023-09-20 11:47:25.827 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:47:25.830 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:47:25.831 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:47:25.831 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:47:25.831 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:47:25.832 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:47:25.839 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:47:25.839 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:47:25.839 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:47:25.840 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:47:25.840 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:47:25.840 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:47:25.840 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:47:25.915 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 11:47:26.435 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:47:26.496 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:47:26.497 +02:00 [INF] Getting all villas
2023-09-20 11:47:26.517 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 11:47:26.606 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 11:47:26.627 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:47:26.628 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:47:26.652 +02:00 [DBG] Created DbConnection. (21ms).
2023-09-20 11:47:26.657 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-20 11:47:26.658 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-09-20 11:47:26.660 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:47:26.737 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:47:26.747 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:47:26.773 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:47:26.801 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.827 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.827 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.827 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.828 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.828 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.828 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.828 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.828 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.828 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:47:26.833 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:47:26.841 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 61ms reading results.
2023-09-20 11:47:26.845 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:47:26.851 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 11:47:26.870 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:47:26.874 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:47:26.874 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:47:26.874 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:47:26.925 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1082.2083ms
2023-09-20 11:47:26.926 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:47:26.930 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" completed keep alive response.
2023-09-20 11:47:26.934 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:47:26.938 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:47:26.941 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 11:47:26.941 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 1114.5365ms
2023-09-20 11:47:29.856 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi/14 - 0
2023-09-20 11:47:29.857 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:47:29.857 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:29.857 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:47:29.857 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:29.857 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:29.857 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" completed keep alive response.
2023-09-20 11:47:29.858 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi/14 - 0 - 405 0 - 1.9030ms
2023-09-20 11:47:36.556 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi/11 - 0
2023-09-20 11:47:36.557 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/11'
2023-09-20 11:47:36.557 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:36.557 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:47:36.557 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:36.557 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:36.557 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" completed keep alive response.
2023-09-20 11:47:36.557 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi/11 - 0 - 405 0 - 0.6839ms
2023-09-20 11:47:52.879 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi/8 - 0
2023-09-20 11:47:52.879 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/8'
2023-09-20 11:47:52.879 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:52.879 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:47:52.880 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:52.880 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-20 11:47:52.880 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" completed keep alive response.
2023-09-20 11:47:52.880 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi/8 - 0 - 405 0 - 1.6544ms
2023-09-20 11:48:09.097 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi/1 - 0
2023-09-20 11:48:09.097 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 11:48:09.097 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-09-20 11:48:09.097 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:48:09.098 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-20 11:48:09.098 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-20 11:48:09.098 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" completed keep alive response.
2023-09-20 11:48:09.098 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi/1 - 0 - 405 0 - 1.2960ms
2023-09-20 11:48:22.310 +02:00 [DBG] Connection id "0HMTPNQ9PNEGM" received FIN.
2023-09-20 11:48:22.312 +02:00 [DBG] Connection id "0HMTPNQ9PNEGM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:48:22.314 +02:00 [DBG] Connection id "0HMTPNQ9PNEGM" disconnecting.
2023-09-20 11:48:22.320 +02:00 [DBG] Connection id "0HMTPNQ9PNEGM" stopped.
2023-09-20 11:48:49.107 +02:00 [INF] Application is shutting down...
2023-09-20 11:48:49.109 +02:00 [DBG] Hosting stopping
2023-09-20 11:48:49.121 +02:00 [DBG] Connection id "0HMTPNQ9PNEGN" disconnecting.
2023-09-20 11:48:49.121 +02:00 [DBG] Connection id "0HMTPNQ9PNEGN" stopped.
2023-09-20 11:48:49.121 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" disconnecting.
2023-09-20 11:48:49.121 +02:00 [DBG] Connection id "0HMTPNQ9PNEGN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:48:49.122 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" stopped.
2023-09-20 11:48:49.122 +02:00 [DBG] Connection id "0HMTPNQ9PNEGO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:48:49.125 +02:00 [DBG] Hosting stopped
2023-09-20 11:48:51.762 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 11:48:51.809 +02:00 [DBG] Hosting starting
2023-09-20 11:48:51.966 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 11:48:51.966 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 11:48:51.966 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 11:48:51.966 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 11:48:51.966 +02:00 [INF] Hosting environment: Development
2023-09-20 11:48:51.966 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 11:48:51.966 +02:00 [DBG] Hosting started
2023-09-20 11:48:52.321 +02:00 [DBG] Connection id "0HMTPNR62HR91" received FIN.
2023-09-20 11:48:52.325 +02:00 [DBG] Connection id "0HMTPNR62HR91" accepted.
2023-09-20 11:48:52.326 +02:00 [DBG] Connection id "0HMTPNR62HR91" started.
2023-09-20 11:48:52.346 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 11:48:52.356 +02:00 [DBG] Connection id "0HMTPNR62HR91" stopped.
2023-09-20 11:48:52.356 +02:00 [DBG] Connection id "0HMTPNR62HR92" accepted.
2023-09-20 11:48:52.357 +02:00 [DBG] Connection id "0HMTPNR62HR93" accepted.
2023-09-20 11:48:52.357 +02:00 [DBG] Connection id "0HMTPNR62HR93" started.
2023-09-20 11:48:52.358 +02:00 [DBG] Connection id "0HMTPNR62HR91" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:48:52.361 +02:00 [DBG] Connection id "0HMTPNR62HR92" started.
2023-09-20 11:48:52.407 +02:00 [DBG] Connection 0HMTPNR62HR92 established using the following protocol: "Tls12"
2023-09-20 11:48:52.407 +02:00 [DBG] Connection 0HMTPNR62HR93 established using the following protocol: "Tls12"
2023-09-20 11:48:52.429 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 11:48:52.430 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 11:48:52.442 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 11:48:52.442 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:48:52.509 +02:00 [DBG] Connection id "0HMTPNR62HR93" completed keep alive response.
2023-09-20 11:48:52.509 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 80.9020ms
2023-09-20 11:48:52.639 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 11:48:52.639 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 11:48:52.639 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:48:52.754 +02:00 [DBG] Connection id "0HMTPNR62HR93" completed keep alive response.
2023-09-20 11:48:52.754 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.7497ms
2023-09-20 11:49:28.267 +02:00 [DBG] Connection id "0HMTPNR62HR94" accepted.
2023-09-20 11:49:28.267 +02:00 [DBG] Connection id "0HMTPNR62HR94" started.
2023-09-20 11:49:28.292 +02:00 [DBG] Connection 0HMTPNR62HR94 established using the following protocol: "Tls12"
2023-09-20 11:49:28.298 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:49:28.301 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:49:28.302 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:49:28.302 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:49:28.303 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:49:28.304 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:49:28.312 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:49:28.312 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:49:28.312 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:49:28.312 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:49:28.312 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:49:28.312 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:49:28.313 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:49:28.378 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 11:49:28.873 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:49:28.932 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:49:28.933 +02:00 [INF] Getting all villas
2023-09-20 11:49:28.951 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 11:49:29.037 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 11:49:29.056 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:49:29.057 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:49:29.079 +02:00 [DBG] Created DbConnection. (18ms).
2023-09-20 11:49:29.082 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-09-20 11:49:29.083 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2023-09-20 11:49:29.086 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:49:29.159 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:49:29.168 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:49:29.192 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:49:29.216 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.239 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:49:29.244 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:49:29.252 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 54ms reading results.
2023-09-20 11:49:29.257 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:49:29.262 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 11:49:29.280 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:49:29.283 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:49:29.283 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:49:29.283 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:49:29.329 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1013.7227ms
2023-09-20 11:49:29.330 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:49:29.334 +02:00 [DBG] Connection id "0HMTPNR62HR94" completed keep alive response.
2023-09-20 11:49:29.337 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:49:29.341 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:49:29.343 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 11:49:29.344 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 1045.8299ms
2023-09-20 11:49:30.856 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi/8 - 0
2023-09-20 11:49:30.857 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/8'
2023-09-20 11:49:30.857 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-09-20 11:49:30.857 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:49:30.857 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-20 11:49:30.857 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-20 11:49:30.857 +02:00 [DBG] Connection id "0HMTPNR62HR94" completed keep alive response.
2023-09-20 11:49:30.857 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi/8 - 0 - 405 0 - 1.8483ms
2023-09-20 11:50:39.945 +02:00 [DBG] Connection id "0HMTPNR62HR94" received FIN.
2023-09-20 11:50:39.945 +02:00 [DBG] Connection id "0HMTPNR62HR94" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:50:39.946 +02:00 [DBG] Connection id "0HMTPNR62HR94" disconnecting.
2023-09-20 11:50:39.947 +02:00 [DBG] Connection id "0HMTPNR62HR94" stopped.
2023-09-20 11:50:47.634 +02:00 [DBG] Connection id "0HMTPNR62HR92" received FIN.
2023-09-20 11:50:47.634 +02:00 [DBG] Connection id "0HMTPNR62HR92" disconnecting.
2023-09-20 11:50:47.634 +02:00 [DBG] Connection id "0HMTPNR62HR92" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:50:47.634 +02:00 [DBG] Connection id "0HMTPNR62HR92" stopped.
2023-09-20 11:50:49.303 +02:00 [DBG] Connection id "0HMTPNR62HR95" accepted.
2023-09-20 11:50:49.303 +02:00 [DBG] Connection id "0HMTPNR62HR95" started.
2023-09-20 11:50:49.331 +02:00 [DBG] Connection 0HMTPNR62HR95 established using the following protocol: "Tls12"
2023-09-20 11:50:49.338 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:50:49.338 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:50:49.338 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:50:49.338 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:50:49.338 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:50:49.338 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:50:49.338 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:50:49.338 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:50:49.338 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:50:49.338 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:50:49.338 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:50:49.338 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:50:49.338 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:50:49.362 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:50:49.362 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:50:49.362 +02:00 [INF] Getting all villas
2023-09-20 11:50:49.363 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:50:49.363 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:50:49.363 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:50:49.363 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:50:49.363 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:50:49.363 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:50:49.363 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:50:49.363 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:50:49.366 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:50:49.367 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:50:49.367 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:50:49.367 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:50:49.367 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:50:49.368 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:50:49.368 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:50:49.368 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:50:49.368 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:50:49.368 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 30.0495ms
2023-09-20 11:50:49.368 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:50:49.368 +02:00 [DBG] Connection id "0HMTPNR62HR95" completed keep alive response.
2023-09-20 11:50:49.368 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:50:49.368 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:50:49.368 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:50:49.368 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 30.8033ms
2023-09-20 11:50:56.553 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi/8 - 0
2023-09-20 11:50:56.554 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/8'
2023-09-20 11:50:56.554 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-09-20 11:50:56.554 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:50:56.554 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-20 11:50:56.554 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-20 11:50:56.554 +02:00 [DBG] Connection id "0HMTPNR62HR95" completed keep alive response.
2023-09-20 11:50:56.554 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi/8 - 0 - 405 0 - 0.7454ms
2023-09-20 11:51:02.969 +02:00 [DBG] Connection id "0HMTPNR62HR93" disconnecting.
2023-09-20 11:51:02.969 +02:00 [DBG] Connection id "0HMTPNR62HR93" stopped.
2023-09-20 11:51:02.970 +02:00 [DBG] Connection id "0HMTPNR62HR93" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:53:07.102 +02:00 [DBG] Connection id "0HMTPNR62HR95" disconnecting.
2023-09-20 11:53:07.104 +02:00 [DBG] Connection id "0HMTPNR62HR95" stopped.
2023-09-20 11:53:07.104 +02:00 [DBG] Connection id "0HMTPNR62HR95" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:53:23.965 +02:00 [DBG] Connection id "0HMTPNR62HR96" accepted.
2023-09-20 11:53:23.965 +02:00 [DBG] Connection id "0HMTPNR62HR96" started.
2023-09-20 11:53:23.991 +02:00 [DBG] Connection 0HMTPNR62HR96 established using the following protocol: "Tls12"
2023-09-20 11:53:23.996 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:53:23.996 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:53:23.996 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:53:23.996 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:23.997 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:53:23.997 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:23.997 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:53:23.997 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:53:23.997 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:53:23.997 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:53:23.997 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:53:23.997 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:53:23.997 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:24.003 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:53:24.003 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:24.003 +02:00 [INF] Getting all villas
2023-09-20 11:53:24.004 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:53:24.004 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:53:24.004 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:53:24.004 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:24.004 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:24.004 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:24.004 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:24.004 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:53:24.006 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:24.006 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:24.006 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:53:24.006 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:24.006 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:24.006 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:53:24.006 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:53:24.006 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:53:24.006 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:53:24.007 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 9.8424ms
2023-09-20 11:53:24.007 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:24.007 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:53:24.007 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:53:24.007 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:24.007 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:24.007 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 10.4510ms
2023-09-20 11:53:25.878 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/8 - -
2023-09-20 11:53:25.878 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/8'
2023-09-20 11:53:25.878 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/8'
2023-09-20 11:53:25.878 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:25.878 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:53:25.878 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:25.888 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:53:25.888 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:53:25.888 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:53:25.888 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:53:25.888 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:53:25.888 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:53:25.888 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:25.889 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:53:25.889 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:25.893 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:53:25.894 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:53:25.894 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:53:25.894 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:53:25.894 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:53:25.895 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:53:25.909 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 11:53:25.954 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 11:53:25.961 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:53:25.961 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:53:25.961 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:53:25.961 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:25.964 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 11:53:25.964 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:25.964 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:25.966 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:53:25.972 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:53:25.972 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:25.972 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:25.972 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:53:25.972 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:25.972 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:25.974 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:53:25.974 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:53:25.974 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:53:25.974 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:53:25.974 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 85.6869ms
2023-09-20 11:53:25.974 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:25.974 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:53:25.974 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:53:25.974 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:25.974 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:25.974 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/8 - - - 200 189 application/json;+charset=utf-8 96.6360ms
2023-09-20 11:53:39.460 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 106
2023-09-20 11:53:39.460 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:53:39.460 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:53:39.460 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:39.460 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:53:39.460 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:39.464 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:53:39.464 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:53:39.464 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:53:39.464 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:53:39.464 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:53:39.464 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:53:39.464 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:39.465 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:53:39.465 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:39.465 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:53:39.466 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 11:53:39.467 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:53:39.467 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:53:39.471 +02:00 [DBG] Connection id "0HMTPNR62HR96", Request id "0HMTPNR62HR96:00000003": started reading request body.
2023-09-20 11:53:39.471 +02:00 [DBG] Connection id "0HMTPNR62HR96", Request id "0HMTPNR62HR96:00000003": done reading request body.
2023-09-20 11:53:39.496 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:53:39.496 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:53:39.496 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:53:39.500 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:53:39.501 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 11:53:39.527 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 11:53:39.531 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:53:39.531 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:53:39.531 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:53:39.531 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:39.531 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:39.531 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:39.531 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:39.531 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:53:39.536 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:53:39.536 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.536 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:39.536 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:53:39.536 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:39.536 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:39.537 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:53:39.537 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:53:39.537 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:53:39.537 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-09-20 11:53:39.540 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 76.6451ms
2023-09-20 11:53:39.541 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:39.541 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:53:39.541 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:53:39.541 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:39.541 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:39.541 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 106 - 400 39 application/json;+charset=utf-8 80.8412ms
2023-09-20 11:53:39.545 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:53:39.545 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:53:39.545 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:53:39.545 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:39.545 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:53:39.545 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:39.545 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:53:39.545 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:53:39.545 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:53:39.545 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:53:39.545 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:53:39.545 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:53:39.545 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:39.545 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:53:39.545 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:39.545 +02:00 [INF] Getting all villas
2023-09-20 11:53:39.545 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:53:39.546 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:53:39.546 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:53:39.546 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:39.546 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:39.546 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:39.546 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:39.546 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:53:39.546 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:53:39.546 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.546 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.546 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.546 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.547 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.547 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.547 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.547 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.547 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.547 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:39.547 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:39.547 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:53:39.547 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:39.547 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:39.547 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:53:39.547 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:53:39.547 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:53:39.547 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:53:39.547 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.0983ms
2023-09-20 11:53:39.547 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:39.547 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:53:39.547 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:53:39.547 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:39.547 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:39.547 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 2.4744ms
2023-09-20 11:53:50.497 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:53:50.498 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:53:50.498 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:53:50.499 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:50.499 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:53:50.499 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:50.499 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:53:50.500 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:53:50.500 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:53:50.500 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:53:50.500 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:53:50.500 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:53:50.500 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:50.501 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:53:50.502 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:50.502 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:53:50.502 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:53:50.502 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:53:50.502 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:53:50.502 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:53:50.502 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:53:50.505 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:53:50.505 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:53:50.506 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:53:50.506 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:50.506 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:50.506 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:50.506 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:50.506 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:53:50.508 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:53:50.508 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:50.508 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:50.508 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:53:50.508 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:50.508 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:50.509 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:53:50.509 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:53:50.509 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:53:50.509 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:53:50.509 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 9.069ms
2023-09-20 11:53:50.509 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:50.509 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:53:50.509 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:53:50.509 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:50.509 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:50.509 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 13.0701ms
2023-09-20 11:53:57.473 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 104
2023-09-20 11:53:57.474 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:53:57.474 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:53:57.474 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:57.475 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:53:57.475 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:57.475 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:53:57.475 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:53:57.475 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:53:57.476 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:53:57.476 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:53:57.476 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:53:57.476 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:57.478 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:53:57.478 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:57.478 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:53:57.479 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 11:53:57.479 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:53:57.483 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:53:57.485 +02:00 [DBG] Connection id "0HMTPNR62HR96", Request id "0HMTPNR62HR96:00000006": started reading request body.
2023-09-20 11:53:57.485 +02:00 [DBG] Connection id "0HMTPNR62HR96", Request id "0HMTPNR62HR96:00000006": done reading request body.
2023-09-20 11:53:57.486 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:53:57.486 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:53:57.486 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:53:57.486 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:53:57.489 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:53:57.489 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:53:57.489 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:53:57.491 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:57.491 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-09-20 11:53:57.491 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:57.491 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:57.491 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:53:57.493 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:53:57.493 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.493 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:57.493 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:53:57.493 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:57.493 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:57.493 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:53:57.493 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:53:57.493 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:53:57.494 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-09-20 11:53:57.494 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 18.0562ms
2023-09-20 11:53:57.494 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:53:57.494 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:53:57.494 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:53:57.494 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:57.494 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:57.494 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 104 - 400 39 application/json;+charset=utf-8 21.7020ms
2023-09-20 11:53:57.499 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:53:57.499 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:53:57.499 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:53:57.499 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:57.499 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:53:57.499 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:57.499 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:53:57.499 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:53:57.499 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:53:57.499 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:53:57.499 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:53:57.499 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:53:57.499 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:57.500 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:53:57.500 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:53:57.500 +02:00 [INF] Getting all villas
2023-09-20 11:53:57.500 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:53:57.500 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:53:57.500 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:53:57.500 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:57.500 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:53:57.500 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:57.500 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:57.500 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:53:57.501 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:53:57.501 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:57.501 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:53:57.501 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:53:57.501 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:57.501 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:53:57.502 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:53:57.502 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:53:57.502 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:53:57.502 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.5593ms
2023-09-20 11:53:57.502 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:53:57.502 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:53:57.502 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:53:57.502 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:53:57.502 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:53:57.502 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 3.2360ms
2023-09-20 11:54:41.454 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:54:41.454 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:54:41.454 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:54:41.457 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:41.457 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:54:41.457 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:41.457 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:54:41.457 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:54:41.458 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:54:41.458 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:54:41.458 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:54:41.458 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:54:41.458 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:54:41.479 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:54:41.479 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:54:41.479 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:54:41.479 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:54:41.479 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:54:41.479 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:54:41.479 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:54:41.479 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:54:41.480 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:54:41.480 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:54:41.480 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:54:41.480 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:54:41.480 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:54:41.480 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:54:41.488 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:41.489 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:54:41.490 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:54:41.491 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:41.491 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:41.491 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:54:41.491 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:41.491 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:54:41.491 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:54:41.491 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:54:41.491 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:54:41.491 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:54:41.491 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 33.3427ms
2023-09-20 11:54:41.491 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:41.491 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:54:41.491 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:54:41.491 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:54:41.491 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:54:41.491 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 37.2909ms
2023-09-20 11:54:52.185 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 115
2023-09-20 11:54:52.185 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:54:52.185 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:54:52.186 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:52.186 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:54:52.186 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:52.186 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:54:52.186 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:54:52.186 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:54:52.186 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:54:52.186 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:54:52.186 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:54:52.186 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:54:52.189 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:54:52.189 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:54:52.189 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:54:52.190 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 11:54:52.190 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:54:52.190 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:54:52.190 +02:00 [DBG] Connection id "0HMTPNR62HR96", Request id "0HMTPNR62HR96:00000009": started reading request body.
2023-09-20 11:54:52.190 +02:00 [DBG] Connection id "0HMTPNR62HR96", Request id "0HMTPNR62HR96:00000009": done reading request body.
2023-09-20 11:54:52.190 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:54:52.190 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:54:52.190 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:54:52.190 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:54:52.191 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:54:52.191 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:54:52.191 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:54:52.191 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:54:52.191 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:54:52.191 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:54:52.191 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:52.191 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:54:52.193 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:54:52.193 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.194 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:52.194 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:54:52.194 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:52.194 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:54:52.194 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:54:52.194 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:54:52.194 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:54:52.194 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-09-20 11:54:52.194 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 7.845ms
2023-09-20 11:54:52.194 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:52.194 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:54:52.194 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:54:52.194 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:54:52.195 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:54:52.195 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 115 - 400 39 application/json;+charset=utf-8 9.8030ms
2023-09-20 11:54:52.199 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:54:52.199 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:54:52.199 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:54:52.199 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:54:52.199 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:54:52.199 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:54:52.199 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:54:52.199 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:54:52.199 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:54:52.199 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:54:52.199 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:54:52.199 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:54:52.199 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:54:52.200 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:54:52.200 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:54:52.200 +02:00 [INF] Getting all villas
2023-09-20 11:54:52.200 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:54:52.200 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:54:52.200 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:54:52.200 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:54:52.200 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:54:52.200 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:54:52.200 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:52.200 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:54:52.201 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:52.201 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:52.201 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:54:52.201 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:52.201 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:54:52.201 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:54:52.201 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:54:52.202 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:54:52.202 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:54:52.202 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.6567ms
2023-09-20 11:54:52.202 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:54:52.202 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:54:52.202 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:54:52.202 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:54:52.202 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:54:52.202 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 3.3602ms
2023-09-20 11:54:54.009 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:54:54.009 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:54:54.009 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:54:54.010 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:54.010 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:54:54.010 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:54.012 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:54:54.013 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:54:54.013 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:54:54.013 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:54:54.013 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:54:54.013 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:54:54.013 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:54:54.017 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:54:54.017 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:54:54.018 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:54:54.018 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:54:54.018 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:54:54.018 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:54:54.018 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:54:54.018 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:54:54.019 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:54:54.019 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:54:54.019 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:54:54.020 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:54:54.020 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:54:54.020 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:54:54.020 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:54.020 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:54:54.023 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:54:54.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:54:54.023 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:54.023 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:54:54.023 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:54:54.023 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:54:54.023 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:54:54.023 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:54:54.024 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:54:54.024 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:54:54.024 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 10.9023ms
2023-09-20 11:54:54.024 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:54:54.024 +02:00 [DBG] Connection id "0HMTPNR62HR96" completed keep alive response.
2023-09-20 11:54:54.024 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:54:54.024 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:54:54.024 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:54:54.024 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 15.2806ms
2023-09-20 11:55:23.284 +02:00 [INF] Application is shutting down...
2023-09-20 11:55:23.285 +02:00 [DBG] Hosting stopping
2023-09-20 11:55:23.292 +02:00 [DBG] Connection id "0HMTPNR62HR96" disconnecting.
2023-09-20 11:55:23.292 +02:00 [DBG] Connection id "0HMTPNR62HR96" stopped.
2023-09-20 11:55:23.292 +02:00 [DBG] Connection id "0HMTPNR62HR96" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:55:23.295 +02:00 [DBG] Hosting stopped
2023-09-20 11:55:24.181 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 11:55:24.235 +02:00 [DBG] Hosting starting
2023-09-20 11:55:24.393 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 11:55:24.393 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 11:55:24.393 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 11:55:24.393 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 11:55:24.393 +02:00 [INF] Hosting environment: Development
2023-09-20 11:55:24.393 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 11:55:24.393 +02:00 [DBG] Hosting started
2023-09-20 11:55:24.753 +02:00 [DBG] Connection id "0HMTPNUR12H8P" received FIN.
2023-09-20 11:55:24.759 +02:00 [DBG] Connection id "0HMTPNUR12H8P" accepted.
2023-09-20 11:55:24.762 +02:00 [DBG] Connection id "0HMTPNUR12H8P" started.
2023-09-20 11:55:24.793 +02:00 [DBG] Connection id "0HMTPNUR12H8Q" accepted.
2023-09-20 11:55:24.793 +02:00 [DBG] Connection id "0HMTPNUR12H8R" accepted.
2023-09-20 11:55:24.793 +02:00 [DBG] Connection id "0HMTPNUR12H8R" started.
2023-09-20 11:55:24.793 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 11:55:24.793 +02:00 [DBG] Connection id "0HMTPNUR12H8Q" started.
2023-09-20 11:55:24.802 +02:00 [DBG] Connection id "0HMTPNUR12H8P" stopped.
2023-09-20 11:55:24.805 +02:00 [DBG] Connection id "0HMTPNUR12H8P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:55:24.848 +02:00 [DBG] Connection 0HMTPNUR12H8Q established using the following protocol: "Tls12"
2023-09-20 11:55:24.848 +02:00 [DBG] Connection 0HMTPNUR12H8R established using the following protocol: "Tls12"
2023-09-20 11:55:24.871 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 11:55:24.871 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 11:55:24.883 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 11:55:24.883 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:55:24.951 +02:00 [DBG] Connection id "0HMTPNUR12H8R" completed keep alive response.
2023-09-20 11:55:24.951 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 81.4513ms
2023-09-20 11:55:25.032 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 11:55:25.032 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 11:55:25.033 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:55:25.145 +02:00 [DBG] Connection id "0HMTPNUR12H8R" completed keep alive response.
2023-09-20 11:55:25.146 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.3769ms
2023-09-20 11:55:26.706 +02:00 [INF] Application is shutting down...
2023-09-20 11:55:26.707 +02:00 [DBG] Hosting stopping
2023-09-20 11:55:26.718 +02:00 [DBG] Connection id "0HMTPNUR12H8R" disconnecting.
2023-09-20 11:55:26.718 +02:00 [DBG] Connection id "0HMTPNUR12H8Q" disconnecting.
2023-09-20 11:55:26.719 +02:00 [DBG] Connection id "0HMTPNUR12H8Q" stopped.
2023-09-20 11:55:26.719 +02:00 [DBG] Connection id "0HMTPNUR12H8R" stopped.
2023-09-20 11:55:26.719 +02:00 [DBG] Connection id "0HMTPNUR12H8R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:55:26.719 +02:00 [DBG] Connection id "0HMTPNUR12H8Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:55:26.722 +02:00 [DBG] Hosting stopped
2023-09-20 11:55:33.653 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 11:55:33.711 +02:00 [DBG] Hosting starting
2023-09-20 11:55:33.925 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 11:55:33.925 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 11:55:33.925 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 11:55:33.925 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 11:55:33.926 +02:00 [INF] Hosting environment: Development
2023-09-20 11:55:33.926 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 11:55:33.926 +02:00 [DBG] Hosting started
2023-09-20 11:55:34.395 +02:00 [DBG] Connection id "0HMTPNUTT0U9P" received FIN.
2023-09-20 11:55:34.400 +02:00 [DBG] Connection id "0HMTPNUTT0U9P" accepted.
2023-09-20 11:55:34.401 +02:00 [DBG] Connection id "0HMTPNUTT0U9P" started.
2023-09-20 11:55:34.413 +02:00 [DBG] Connection id "0HMTPNUTT0U9Q" accepted.
2023-09-20 11:55:34.413 +02:00 [DBG] Connection id "0HMTPNUTT0U9Q" started.
2023-09-20 11:55:34.413 +02:00 [DBG] Connection id "0HMTPNUTT0U9R" accepted.
2023-09-20 11:55:34.414 +02:00 [DBG] Connection id "0HMTPNUTT0U9R" started.
2023-09-20 11:55:34.415 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 11:55:34.435 +02:00 [DBG] Connection id "0HMTPNUTT0U9P" stopped.
2023-09-20 11:55:34.438 +02:00 [DBG] Connection id "0HMTPNUTT0U9P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:55:34.478 +02:00 [DBG] Connection 0HMTPNUTT0U9Q established using the following protocol: "Tls12"
2023-09-20 11:55:34.478 +02:00 [DBG] Connection 0HMTPNUTT0U9R established using the following protocol: "Tls12"
2023-09-20 11:55:34.503 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 11:55:34.504 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 11:55:34.522 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 11:55:34.522 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:55:34.599 +02:00 [DBG] Connection id "0HMTPNUTT0U9R" completed keep alive response.
2023-09-20 11:55:34.600 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 97.5030ms
2023-09-20 11:55:34.682 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 11:55:34.683 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 11:55:34.683 +02:00 [DBG] Request did not match any endpoints
2023-09-20 11:55:34.835 +02:00 [DBG] Connection id "0HMTPNUTT0U9R" completed keep alive response.
2023-09-20 11:55:34.835 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.6876ms
2023-09-20 11:55:36.653 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" accepted.
2023-09-20 11:55:36.653 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" started.
2023-09-20 11:55:36.680 +02:00 [DBG] Connection 0HMTPNUTT0U9S established using the following protocol: "Tls12"
2023-09-20 11:55:36.684 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107
2023-09-20 11:55:36.690 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:55:36.692 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:55:36.692 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:36.693 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:55:36.695 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:36.714 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:55:36.716 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:55:36.716 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:55:36.716 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:55:36.716 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:55:36.716 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:55:36.718 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:36.821 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 11:55:37.404 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:55:37.471 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:37.474 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:55:37.475 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 11:55:37.476 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:55:37.476 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:55:37.479 +02:00 [DBG] Connection id "0HMTPNUTT0U9S", Request id "0HMTPNUTT0U9S:00000001": started reading request body.
2023-09-20 11:55:37.479 +02:00 [DBG] Connection id "0HMTPNUTT0U9S", Request id "0HMTPNUTT0U9S:00000001": done reading request body.
2023-09-20 11:55:37.502 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:55:37.502 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:55:37.502 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:55:37.507 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:55:37.559 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 11:55:37.722 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 11:55:37.758 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:55:37.759 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:55:37.792 +02:00 [DBG] Created DbConnection. (29ms).
2023-09-20 11:55:37.797 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2023-09-20 11:55:37.801 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (43ms).
2023-09-20 11:55:37.804 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:37.923 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:37.936 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:55:37.973 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:55:38.003 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.033 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:38.042 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 62ms reading results.
2023-09-20 11:55:38.048 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:38.054 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (6ms).
2023-09-20 11:55:38.060 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:55:38.064 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:55:38.064 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:55:38.065 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-09-20 11:55:38.109 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 1389.6006ms
2023-09-20 11:55:38.111 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:38.115 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" completed keep alive response.
2023-09-20 11:55:38.119 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:55:38.124 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:38.126 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 11:55:38.127 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107 - 400 39 application/json;+charset=utf-8 1443.0828ms
2023-09-20 11:55:38.128 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:55:38.128 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:55:38.128 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:55:38.128 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:55:38.128 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:55:38.128 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:55:38.130 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:55:38.130 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:55:38.131 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:55:38.131 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:55:38.131 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:55:38.131 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:55:38.131 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:38.155 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:55:38.155 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:38.156 +02:00 [INF] Getting all villas
2023-09-20 11:55:38.161 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 11:55:38.163 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 11:55:38.163 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:55:38.163 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:55:38.163 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:55:38.163 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:55:38.163 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:55:38.163 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:38.163 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:38.164 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:55:38.172 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:55:38.172 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.174 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.174 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.174 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.174 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.174 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.175 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.175 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.175 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.175 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:38.175 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:38.175 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2023-09-20 11:55:38.175 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:38.175 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:55:38.184 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:55:38.184 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:55:38.184 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:55:38.184 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:55:38.191 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 60.7779ms
2023-09-20 11:55:38.191 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:55:38.192 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" completed keep alive response.
2023-09-20 11:55:38.192 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:55:38.192 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:38.192 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:55:38.192 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 64.1135ms
2023-09-20 11:55:40.008 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/8 - -
2023-09-20 11:55:40.009 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/8'
2023-09-20 11:55:40.010 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/8'
2023-09-20 11:55:40.010 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:40.011 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:55:40.011 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:40.022 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:55:40.022 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:55:40.022 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:55:40.022 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:55:40.022 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:55:40.022 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:55:40.022 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:40.029 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:55:40.029 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:40.030 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:55:40.030 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:55:40.031 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:55:40.031 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:55:40.031 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:55:40.031 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:55:40.034 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 11:55:40.039 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 11:55:40.040 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:55:40.040 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:55:40.040 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:55:40.040 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:55:40.040 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:55:40.040 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:40.040 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:40.041 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:55:40.075 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:55:40.075 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:40.075 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:40.075 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:55:40.076 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:40.076 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:55:40.079 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:55:40.079 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:55:40.079 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:55:40.079 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:55:40.079 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 57.3076ms
2023-09-20 11:55:40.080 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:40.080 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" completed keep alive response.
2023-09-20 11:55:40.080 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:55:40.080 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:40.080 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:55:40.080 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/8 - - - 200 189 application/json;+charset=utf-8 71.6405ms
2023-09-20 11:55:42.415 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116
2023-09-20 11:55:42.416 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:55:42.416 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:55:42.416 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:42.417 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:55:42.417 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:42.417 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:55:42.418 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:55:42.418 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:55:42.418 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:55:42.418 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:55:42.418 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:55:42.418 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:42.421 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:55:42.421 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:42.421 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:55:42.421 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 11:55:42.421 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:55:42.422 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:55:42.422 +02:00 [DBG] Connection id "0HMTPNUTT0U9S", Request id "0HMTPNUTT0U9S:00000004": started reading request body.
2023-09-20 11:55:42.422 +02:00 [DBG] Connection id "0HMTPNUTT0U9S", Request id "0HMTPNUTT0U9S:00000004": done reading request body.
2023-09-20 11:55:42.427 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:55:42.428 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:55:42.428 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:55:42.431 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:55:42.434 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:55:42.434 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:55:42.434 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:55:42.434 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:55:42.434 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:55:42.434 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:42.435 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:42.435 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:55:42.517 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:55:42.545 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.546 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:42.546 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 26ms reading results.
2023-09-20 11:55:42.547 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:42.548 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:55:42.548 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:55:42.549 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:55:42.549 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:55:42.549 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-09-20 11:55:42.551 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 132.3562ms
2023-09-20 11:55:42.551 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:55:42.551 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" completed keep alive response.
2023-09-20 11:55:42.551 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:55:42.551 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:42.551 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:55:42.551 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116 - 400 39 application/json;+charset=utf-8 136.1323ms
2023-09-20 11:55:42.557 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:55:42.557 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:55:42.557 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:55:42.557 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:55:42.557 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:55:42.557 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:55:42.557 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:55:42.557 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:55:42.557 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:55:42.557 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:55:42.557 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:55:42.557 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:55:42.557 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:42.558 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:55:42.558 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:55:42.558 +02:00 [INF] Getting all villas
2023-09-20 11:55:42.559 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:55:42.559 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:55:42.559 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:55:42.559 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:55:42.559 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:55:42.559 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:42.559 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:42.559 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:55:42.562 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:55:42.564 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.564 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.564 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.564 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.564 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.564 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.564 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.564 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.565 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.565 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:55:42.565 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:42.565 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 11:55:42.565 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:55:42.565 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:55:42.566 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:55:42.566 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:55:42.566 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:55:42.566 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:55:42.566 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 9.0397ms
2023-09-20 11:55:42.566 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:55:42.566 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" completed keep alive response.
2023-09-20 11:55:42.567 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:55:42.567 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:55:42.567 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:55:42.567 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 10.1499ms
2023-09-20 11:56:51.658 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" received FIN.
2023-09-20 11:56:51.661 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:56:51.664 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" disconnecting.
2023-09-20 11:56:51.669 +02:00 [DBG] Connection id "0HMTPNUTT0U9S" stopped.
2023-09-20 11:57:14.321 +02:00 [DBG] Connection id "0HMTPNUTT0U9Q" received FIN.
2023-09-20 11:57:14.324 +02:00 [DBG] Connection id "0HMTPNUTT0U9Q" disconnecting.
2023-09-20 11:57:14.324 +02:00 [DBG] Connection id "0HMTPNUTT0U9Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:57:14.326 +02:00 [DBG] Connection id "0HMTPNUTT0U9Q" stopped.
2023-09-20 11:57:17.808 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" accepted.
2023-09-20 11:57:17.808 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" started.
2023-09-20 11:57:17.836 +02:00 [DBG] Connection 0HMTPNUTT0U9T established using the following protocol: "Tls12"
2023-09-20 11:57:17.843 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:57:17.843 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:57:17.843 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:57:17.843 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:57:17.843 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:57:17.843 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:57:17.843 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:57:17.843 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:57:17.843 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:57:17.843 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:57:17.843 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:57:17.843 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:57:17.843 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:57:17.844 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:57:17.844 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:57:17.844 +02:00 [INF] Getting all villas
2023-09-20 11:57:17.844 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:57:17.844 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:57:17.845 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:57:17.845 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:57:17.845 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:57:17.845 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:57:17.845 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:17.845 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:57:17.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:17.847 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:17.847 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 11:57:17.847 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:17.847 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:57:17.847 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:57:17.848 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:57:17.848 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:57:17.848 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:57:17.848 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 4.3629ms
2023-09-20 11:57:17.848 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:57:17.848 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" completed keep alive response.
2023-09-20 11:57:17.848 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:57:17.848 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:57:17.848 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:57:17.848 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 5.1030ms
2023-09-20 11:57:19.898 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:57:19.899 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:57:19.899 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:57:19.899 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:57:19.899 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:57:19.899 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:57:19.899 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:57:19.899 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:57:19.899 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:57:19.899 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:57:19.899 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:57:19.899 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:57:19.900 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:57:19.900 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:57:19.901 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:57:19.901 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:57:19.901 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:57:19.901 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:57:19.901 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:57:19.901 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:57:19.901 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:57:19.902 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:57:19.902 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:57:19.902 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:57:19.902 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:57:19.902 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:57:19.902 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:57:19.902 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:19.902 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:57:19.999 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:57:20.098 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:20.099 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:20.099 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2023-09-20 11:57:20.100 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:20.100 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:57:20.101 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:57:20.101 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:57:20.101 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:57:20.101 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:57:20.103 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 202.9595ms
2023-09-20 11:57:20.103 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:57:20.103 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" completed keep alive response.
2023-09-20 11:57:20.103 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:57:20.103 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:57:20.103 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:57:20.103 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 204.7865ms
2023-09-20 11:57:23.334 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107
2023-09-20 11:57:23.334 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:57:23.334 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:57:23.334 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:57:23.334 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:57:23.334 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:57:23.334 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:57:23.334 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:57:23.335 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:57:23.335 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:57:23.335 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:57:23.335 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:57:23.335 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:57:23.335 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:57:23.336 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:57:23.336 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:57:23.336 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 11:57:23.336 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:57:23.336 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:57:23.336 +02:00 [DBG] Connection id "0HMTPNUTT0U9T", Request id "0HMTPNUTT0U9T:00000003": started reading request body.
2023-09-20 11:57:23.336 +02:00 [DBG] Connection id "0HMTPNUTT0U9T", Request id "0HMTPNUTT0U9T:00000003": done reading request body.
2023-09-20 11:57:23.336 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:57:23.336 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:57:23.336 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 11:57:23.336 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 11:57:23.337 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:57:23.337 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:57:23.337 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:57:23.337 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:57:23.337 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:57:23.337 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:57:23.337 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:23.337 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:57:23.387 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 11:57:23.461 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.461 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:23.461 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 51ms reading results.
2023-09-20 11:57:23.462 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:23.462 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:57:23.462 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:57:23.462 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:57:23.462 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:57:23.462 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-09-20 11:57:23.462 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 127.7782ms
2023-09-20 11:57:23.462 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:57:23.463 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" completed keep alive response.
2023-09-20 11:57:23.463 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:57:23.463 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:57:23.463 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:57:23.463 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107 - 400 39 application/json;+charset=utf-8 128.8711ms
2023-09-20 11:57:23.477 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:57:23.477 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:57:23.477 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:57:23.477 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:57:23.478 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:57:23.478 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:57:23.478 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:57:23.478 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:57:23.478 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:57:23.478 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:57:23.478 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:57:23.478 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:57:23.478 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:57:23.479 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:57:23.479 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:57:23.479 +02:00 [INF] Getting all villas
2023-09-20 11:57:23.479 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:57:23.479 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:57:23.479 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:57:23.479 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:57:23.479 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:57:23.479 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:57:23.479 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:23.479 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:57:23.529 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:57:23.557 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:57:23.558 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:23.559 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 26ms reading results.
2023-09-20 11:57:23.559 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:57:23.559 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:57:23.559 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:57:23.559 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:57:23.559 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:57:23.559 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:57:23.560 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 81.8722ms
2023-09-20 11:57:23.560 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:57:23.560 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" completed keep alive response.
2023-09-20 11:57:23.560 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:57:23.560 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:57:23.560 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:57:23.560 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 83.0297ms
2023-09-20 11:58:16.296 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" received FIN.
2023-09-20 11:58:16.299 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 11:58:16.299 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" disconnecting.
2023-09-20 11:58:16.301 +02:00 [DBG] Connection id "0HMTPNUTT0U9T" stopped.
2023-09-20 11:58:24.858 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" accepted.
2023-09-20 11:58:24.858 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" started.
2023-09-20 11:58:24.909 +02:00 [DBG] Connection 0HMTPNUTT0U9U established using the following protocol: "Tls12"
2023-09-20 11:58:24.917 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:58:24.917 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:58:24.917 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:58:24.917 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:24.917 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:24.917 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:24.917 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:24.917 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:24.917 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:24.917 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:24.917 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:24.917 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:24.917 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:24.918 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:24.918 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:24.918 +02:00 [INF] Getting all villas
2023-09-20 11:58:24.918 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:58:24.918 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:58:24.918 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:58:24.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:24.918 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:24.918 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:24.918 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:24.918 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:58:24.944 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:58:25.041 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:25.063 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:25.064 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 45ms reading results.
2023-09-20 11:58:25.064 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:25.064 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:25.064 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:25.064 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:58:25.064 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:58:25.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:58:25.065 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 147.6941ms
2023-09-20 11:58:25.065 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:25.065 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:25.065 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:25.065 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:25.065 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:25.065 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 148.5166ms
2023-09-20 11:58:26.620 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:58:26.621 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:58:26.621 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:58:26.621 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:26.621 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:26.621 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:26.621 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:26.621 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:26.621 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:26.621 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:26.621 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:26.621 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:26.622 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:26.623 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:26.623 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:26.623 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:26.623 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:58:26.623 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:26.623 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:26.623 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:26.623 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:26.623 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:58:26.624 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:58:26.624 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:58:26.624 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:26.624 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:26.624 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:26.624 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:26.624 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:58:26.731 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:58:26.827 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:26.828 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:26.828 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 44ms reading results.
2023-09-20 11:58:26.828 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:26.828 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:26.828 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:26.829 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:58:26.829 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:58:26.829 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:58:26.829 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 207.5393ms
2023-09-20 11:58:26.829 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:26.829 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:26.829 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:26.829 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:26.829 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:26.830 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 209.0702ms
2023-09-20 11:58:33.007 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 115
2023-09-20 11:58:33.007 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:58:33.008 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:58:33.008 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:33.008 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:33.008 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:33.010 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:33.010 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:33.010 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:33.010 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:33.010 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:33.010 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:33.010 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:33.010 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:33.010 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:33.010 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:33.011 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:58:33.011 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:33.011 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:33.011 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:33.011 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:33.011 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 11:58:33.011 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 11:58:33.011 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:58:33.011 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:58:33.011 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:00000003": started reading request body.
2023-09-20 11:58:33.011 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:00000003": done reading request body.
2023-09-20 11:58:33.018 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 11:58:33.019 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 55.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 11:58:33.020 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:33.020 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:33.020 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 11:58:33.021 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:33.021 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 11:58:33.021 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 11:58:33.021 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:33.022 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 11:58:33.022 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 11:58:33.022 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 11:58:33.032 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 21.7975ms
2023-09-20 11:58:33.032 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:33.032 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:33.032 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:33.032 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 115 - 400 459 application/problem+json;+charset=utf-8 24.4988ms
2023-09-20 11:58:33.041 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:58:33.041 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:58:33.041 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:58:33.041 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:33.041 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:33.041 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:33.041 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:33.041 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:33.041 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:33.041 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:33.041 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:33.041 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:33.041 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:33.042 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:33.042 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:33.042 +02:00 [INF] Getting all villas
2023-09-20 11:58:33.042 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:58:33.042 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:58:33.042 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:58:33.042 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:33.042 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:33.042 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:33.042 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:33.042 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:58:33.043 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:58:33.065 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.091 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:33.092 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:33.092 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 48ms reading results.
2023-09-20 11:58:33.092 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:33.092 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:33.092 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:33.092 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:58:33.092 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:58:33.092 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:58:33.093 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 51.2619ms
2023-09-20 11:58:33.093 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:33.093 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:33.093 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:33.093 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:33.093 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:33.093 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 51.9417ms
2023-09-20 11:58:38.355 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:58:38.356 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:58:38.356 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:58:38.356 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:38.356 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:38.356 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:38.356 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:38.356 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:38.356 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:38.356 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:38.356 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:38.356 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:38.356 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:38.358 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:38.358 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:38.358 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:38.358 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:58:38.358 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:38.358 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:38.358 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:38.358 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:38.359 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:58:38.359 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:58:38.359 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:58:38.359 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:38.359 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:38.359 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:38.359 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:38.360 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:58:38.437 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:58:38.439 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:38.440 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:38.440 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 11:58:38.441 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:38.441 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:38.445 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:38.445 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:58:38.445 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:58:38.446 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:58:38.446 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 89.7291ms
2023-09-20 11:58:38.446 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:38.447 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:38.447 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:38.447 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:38.447 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:38.447 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 91.8766ms
2023-09-20 11:58:42.703 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 11:58:42.703 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:58:42.703 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:58:42.703 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:42.703 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:42.703 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:42.704 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:42.704 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:42.704 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:42.704 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:42.704 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:42.704 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:42.704 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:42.705 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:42.705 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:42.705 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:42.705 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:58:42.705 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:42.705 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:42.705 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:42.705 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:42.705 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 11:58:42.705 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 11:58:42.705 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:58:42.705 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:58:42.706 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:00000006": started reading request body.
2023-09-20 11:58:42.706 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:00000006": done reading request body.
2023-09-20 11:58:42.707 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 52.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 11:58:42.707 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:42.707 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:42.707 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 11:58:42.707 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:42.707 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 11:58:42.707 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 11:58:42.707 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:42.708 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 11:58:42.708 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 11:58:42.708 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 11:58:42.708 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 4.0882ms
2023-09-20 11:58:42.708 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:42.708 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:42.708 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:42.708 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 360 application/problem+json;+charset=utf-8 6.5293ms
2023-09-20 11:58:42.722 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:58:42.722 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:58:42.722 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:58:42.722 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:42.723 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:42.723 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:42.723 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:42.723 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:42.723 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:42.723 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:42.723 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:42.723 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:42.723 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:42.724 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:42.724 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:42.724 +02:00 [INF] Getting all villas
2023-09-20 11:58:42.724 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:58:42.724 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:58:42.724 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:58:42.724 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:42.724 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:42.724 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:42.724 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:42.725 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:58:42.726 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:58:42.749 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.775 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.775 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.775 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.775 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.775 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.775 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.776 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.776 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.776 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:42.776 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:42.777 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 49ms reading results.
2023-09-20 11:58:42.779 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:42.804 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (25ms).
2023-09-20 11:58:42.806 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:42.806 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:58:42.806 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:58:42.806 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:58:42.807 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 83.9127ms
2023-09-20 11:58:42.807 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:42.807 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:42.807 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:42.808 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:42.808 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:42.808 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 85.5260ms
2023-09-20 11:58:44.313 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:58:44.313 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:58:44.313 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:58:44.313 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:44.313 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:44.313 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:44.313 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:44.314 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:44.314 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:44.314 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:44.314 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:44.314 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:44.314 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:44.315 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:44.315 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:44.315 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:44.315 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:58:44.315 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:44.315 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:44.315 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:44.315 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:44.316 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:58:44.316 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:58:44.316 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:58:44.316 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:44.316 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:44.316 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:44.316 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:44.316 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:58:44.318 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:58:44.412 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:44.412 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:44.413 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 49ms reading results.
2023-09-20 11:58:44.413 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:44.413 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:44.413 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:44.414 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:58:44.414 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:58:44.414 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:58:44.416 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 101.6606ms
2023-09-20 11:58:44.416 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:44.416 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:44.416 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:44.417 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:44.417 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:44.417 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 104.0348ms
2023-09-20 11:58:48.470 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 11:58:48.470 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:58:48.470 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:58:48.470 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:48.471 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:48.471 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:48.471 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:48.471 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:48.471 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:48.471 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:48.471 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:48.471 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:48.471 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:48.472 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:48.472 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:48.472 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:48.472 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:58:48.472 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:48.472 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:48.472 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:48.472 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:48.472 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 11:58:48.472 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 11:58:48.472 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:58:48.472 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:58:48.472 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:00000009": started reading request body.
2023-09-20 11:58:48.473 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:00000009": done reading request body.
2023-09-20 11:58:48.473 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 11:58:48.474 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:48.474 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:48.474 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 11:58:48.474 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:58:48.474 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 11:58:48.474 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 11:58:48.474 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:48.475 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 11:58:48.475 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 11:58:48.475 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 11:58:48.475 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 3.8565ms
2023-09-20 11:58:48.475 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:48.475 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:48.475 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:48.475 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 4.8929ms
2023-09-20 11:58:48.488 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:58:48.488 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:58:48.488 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:58:48.488 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:48.489 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:48.489 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:48.489 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:48.489 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:48.489 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:48.489 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:48.489 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:48.489 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:48.489 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:48.490 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:48.490 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:48.490 +02:00 [INF] Getting all villas
2023-09-20 11:58:48.490 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:58:48.490 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:58:48.490 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:58:48.490 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:48.490 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:48.490 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:48.490 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:48.491 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:58:48.515 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:48.586 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:48.586 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 23ms reading results.
2023-09-20 11:58:48.586 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:48.586 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:48.586 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:48.586 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:58:48.586 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:58:48.586 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:58:48.587 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 97.6716ms
2023-09-20 11:58:48.587 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:58:48.587 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:48.587 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:48.587 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:48.587 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:48.587 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 98.7083ms
2023-09-20 11:58:57.304 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:58:57.304 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:58:57.304 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:58:57.304 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:57.304 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:58:57.304 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:57.304 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:58:57.304 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:58:57.304 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:58:57.304 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:58:57.304 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:58:57.304 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:58:57.304 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:57.305 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:58:57.305 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:58:57.305 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:57.305 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:58:57.305 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:57.305 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:57.305 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:58:57.305 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:58:57.305 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:58:57.305 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:58:57.306 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:58:57.306 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:57.306 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:58:57.306 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:57.306 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:57.306 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:58:57.308 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:58:57.334 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:58:57.335 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:57.335 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 11:58:57.336 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:58:57.336 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:57.362 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:58:57.362 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:58:57.362 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:58:57.363 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:58:57.363 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 58.5006ms
2023-09-20 11:58:57.363 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:58:57.363 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:58:57.363 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:58:57.363 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:58:57.364 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:58:57.365 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 60.7606ms
2023-09-20 11:59:05.220 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 11:59:05.221 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:59:05.221 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:59:05.221 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:05.221 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:59:05.221 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:05.221 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:59:05.221 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:59:05.221 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:59:05.221 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:59:05.221 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:59:05.221 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:59:05.221 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:59:05.222 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:59:05.222 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:59:05.222 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:59:05.222 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:59:05.222 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:05.223 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:05.223 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:59:05.223 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:05.223 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 11:59:05.223 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 11:59:05.223 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:59:05.223 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 11:59:05.223 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:0000000C": started reading request body.
2023-09-20 11:59:05.223 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:0000000C": done reading request body.
2023-09-20 11:59:05.223 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 11:59:05.223 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:59:05.224 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:59:05.224 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 11:59:05.224 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 11:59:05.224 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 11:59:05.224 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 11:59:05.224 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:59:05.224 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 11:59:05.224 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 11:59:05.224 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 11:59:05.225 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 3.2426ms
2023-09-20 11:59:05.225 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:05.225 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:59:05.225 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:59:05.225 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 4.5343ms
2023-09-20 11:59:33.930 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 11:59:33.933 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 11:59:33.958 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 11:59:33.959 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:59:33.959 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:59:33.959 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:59:33.959 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:59:33.959 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:59:33.959 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:59:33.959 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:59:33.959 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:59:33.959 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:59:33.959 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:59:33.959 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:59:33.959 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:59:33.960 +02:00 [INF] Getting all villas
2023-09-20 11:59:33.960 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:59:33.960 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:59:33.960 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:59:33.960 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:59:33.960 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:59:33.960 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:59:33.960 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:33.960 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:59:34.033 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.134 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.135 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:34.135 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:34.135 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 25ms reading results.
2023-09-20 11:59:34.135 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:34.135 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:59:34.135 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:59:34.135 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:59:34.135 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:59:34.135 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:59:34.135 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 176.4997ms
2023-09-20 11:59:34.135 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 11:59:34.135 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:59:34.136 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:59:34.136 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:59:34.136 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:59:34.136 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 205.4504ms
2023-09-20 11:59:35.793 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:59:35.793 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:59:35.794 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:59:35.794 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:35.794 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:59:35.794 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:35.794 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:59:35.794 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:59:35.794 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:59:35.794 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:59:35.794 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:59:35.794 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:59:35.794 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:59:35.794 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:59:35.795 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:59:35.795 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:59:35.795 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:59:35.795 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:35.795 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:35.795 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:59:35.795 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:35.795 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:59:35.795 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:59:35.795 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:59:35.795 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:59:35.795 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:59:35.795 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:59:35.795 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:35.795 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:59:35.797 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:59:35.824 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:35.826 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:35.826 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2023-09-20 11:59:35.827 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:35.827 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:59:35.828 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:59:35.829 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:59:35.829 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:59:35.829 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:59:35.829 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 35.1523ms
2023-09-20 11:59:35.829 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:35.829 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:59:35.829 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:59:35.829 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:59:35.829 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:59:35.830 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 36.1632ms
2023-09-20 11:59:35.987 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 11:59:35.987 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 11:59:35.987 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 11:59:35.987 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:35.987 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 11:59:35.987 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:35.987 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 11:59:35.987 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 11:59:35.987 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 11:59:35.987 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 11:59:35.987 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 11:59:35.987 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 11:59:35.988 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:59:35.988 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 11:59:35.988 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 11:59:35.988 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 11:59:35.988 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 11:59:35.988 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:35.988 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:35.988 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 11:59:35.989 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 11:59:35.989 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 11:59:35.989 +02:00 [DBG] Creating DbConnection.
2023-09-20 11:59:35.989 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 11:59:35.989 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:59:35.989 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 11:59:35.989 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:59:35.989 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:35.989 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:59:35.991 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 11:59:35.992 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 11:59:35.992 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:35.993 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 11:59:35.993 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 11:59:35.994 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:59:35.994 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 11:59:35.994 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 11:59:35.994 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 11:59:35.994 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 11:59:35.994 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 6.9814ms
2023-09-20 11:59:35.994 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 11:59:35.995 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 11:59:35.995 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 11:59:35.995 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 11:59:35.995 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 11:59:35.995 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 8.1812ms
2023-09-20 12:00:09.947 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:00:09.948 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:00:09.953 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:00:09.953 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:00:09.954 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:00:09.954 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:00:09.954 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:00:09.954 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:00:09.954 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:00:09.954 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:00:09.954 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:00:09.954 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:00:09.954 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:00:09.954 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:00:09.954 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:00:09.955 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:00:09.955 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:00:09.955 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:00:09.955 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:00:09.955 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:00:09.955 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:00:09.955 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:00:09.955 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:00:09.955 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:00:09.955 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:00:09.955 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:00000010": started reading request body.
2023-09-20 12:00:09.955 +02:00 [DBG] Connection id "0HMTPNUTT0U9U", Request id "0HMTPNUTT0U9U:00000010": done reading request body.
2023-09-20 12:00:09.956 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:00:09.956 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:00:09.956 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:00:09.956 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:00:09.956 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:00:09.956 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:00:09.956 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:00:09.956 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:00:09.956 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:00:09.956 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:00:09.956 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:00:09.956 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 2.4472ms
2023-09-20 12:00:09.956 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:00:09.956 +02:00 [DBG] Connection id "0HMTPNUTT0U9U" completed keep alive response.
2023-09-20 12:00:09.956 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:00:09.956 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 9.8951ms
2023-09-20 12:00:47.140 +02:00 [DBG] Connection id "0HMTPNUTT0U9R" received FIN.
2023-09-20 12:00:47.140 +02:00 [DBG] Connection id "0HMTPNUTT0U9R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:00:47.140 +02:00 [DBG] Connection id "0HMTPNUTT0U9R" disconnecting.
2023-09-20 12:00:47.140 +02:00 [DBG] Connection id "0HMTPNUTT0U9R" stopped.
2023-09-20 12:00:47.154 +02:00 [DBG] Connection id "0HMTPNUTT0U9V" accepted.
2023-09-20 12:00:47.154 +02:00 [DBG] Connection id "0HMTPNUTT0U9V" started.
2023-09-20 12:00:47.205 +02:00 [DBG] Connection 0HMTPNUTT0U9V established using the following protocol: "Tls12"
2023-09-20 12:00:47.208 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:00:47.208 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:00:47.208 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:00:47.208 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:00:47.208 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:00:47.209 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:00:47.209 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:00:47.209 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:00:47.209 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:00:47.209 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:00:47.209 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:00:47.209 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:00:47.209 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:00:47.209 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:00:47.209 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:00:47.210 +02:00 [INF] Getting all villas
2023-09-20 12:00:47.210 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:00:47.210 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:00:47.210 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:00:47.210 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:00:47.210 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:00:47.210 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:00:47.365 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:00:47.366 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:00:47.368 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:00:47.368 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.368 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:00:47.369 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:00:47.369 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:00:47.369 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:00:47.369 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:00:47.369 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:00:47.369 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:00:47.369 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:00:47.369 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:00:47.370 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 160.9022ms
2023-09-20 12:00:47.370 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:00:47.370 +02:00 [DBG] Connection id "0HMTPNUTT0U9V" completed keep alive response.
2023-09-20 12:00:47.370 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:00:47.370 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:00:47.370 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:00:47.370 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 161.7739ms
2023-09-20 12:01:17.400 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 12:01:17.461 +02:00 [DBG] Hosting starting
2023-09-20 12:01:17.668 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 12:01:17.668 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 12:01:17.668 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 12:01:17.668 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 12:01:17.668 +02:00 [INF] Hosting environment: Development
2023-09-20 12:01:17.668 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 12:01:17.668 +02:00 [DBG] Hosting started
2023-09-20 12:01:18.141 +02:00 [DBG] Connection id "0HMTPO24B7TCT" received FIN.
2023-09-20 12:01:18.145 +02:00 [DBG] Connection id "0HMTPO24B7TCT" accepted.
2023-09-20 12:01:18.146 +02:00 [DBG] Connection id "0HMTPO24B7TCT" started.
2023-09-20 12:01:18.165 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 12:01:18.169 +02:00 [DBG] Connection id "0HMTPO24B7TCU" accepted.
2023-09-20 12:01:18.186 +02:00 [DBG] Connection id "0HMTPO24B7TCU" started.
2023-09-20 12:01:18.186 +02:00 [DBG] Connection id "0HMTPO24B7TCV" accepted.
2023-09-20 12:01:18.186 +02:00 [DBG] Connection id "0HMTPO24B7TCV" started.
2023-09-20 12:01:18.190 +02:00 [DBG] Connection id "0HMTPO24B7TCT" stopped.
2023-09-20 12:01:18.192 +02:00 [DBG] Connection id "0HMTPO24B7TCT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:01:18.258 +02:00 [DBG] Connection 0HMTPO24B7TCV established using the following protocol: "Tls12"
2023-09-20 12:01:18.258 +02:00 [DBG] Connection 0HMTPO24B7TCU established using the following protocol: "Tls12"
2023-09-20 12:01:18.283 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 12:01:18.284 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 12:01:18.297 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 12:01:18.297 +02:00 [DBG] Request did not match any endpoints
2023-09-20 12:01:18.378 +02:00 [DBG] Connection id "0HMTPO24B7TCV" completed keep alive response.
2023-09-20 12:01:18.379 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 96.5010ms
2023-09-20 12:01:18.460 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 12:01:18.460 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 12:01:18.460 +02:00 [DBG] Request did not match any endpoints
2023-09-20 12:01:18.609 +02:00 [DBG] Connection id "0HMTPO24B7TCV" completed keep alive response.
2023-09-20 12:01:18.609 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.3505ms
2023-09-20 12:01:30.261 +02:00 [DBG] Connection id "0HMTPO24B7TD0" accepted.
2023-09-20 12:01:30.261 +02:00 [DBG] Connection id "0HMTPO24B7TD0" started.
2023-09-20 12:01:30.287 +02:00 [DBG] Connection 0HMTPO24B7TD0 established using the following protocol: "Tls12"
2023-09-20 12:01:30.293 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:01:30.297 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:01:30.298 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:01:30.298 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:01:30.299 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:01:30.300 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:01:30.308 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:01:30.309 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:01:30.309 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:01:30.309 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:01:30.310 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:01:30.310 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:01:30.310 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:30.401 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 12:01:30.994 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:01:31.061 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:31.062 +02:00 [INF] Getting all villas
2023-09-20 12:01:31.087 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 12:01:31.189 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 12:01:31.213 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:01:31.215 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:01:31.245 +02:00 [DBG] Created DbConnection. (27ms).
2023-09-20 12:01:31.250 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (35ms).
2023-09-20 12:01:31.252 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (39ms).
2023-09-20 12:01:31.255 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:01:31.347 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:31.358 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:01:31.388 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:01:31.418 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.443 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.444 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.444 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.444 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.444 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.444 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.444 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.444 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.444 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:31.450 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:31.459 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 64ms reading results.
2023-09-20 12:01:31.465 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:31.470 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 12:01:31.493 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:01:31.497 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:01:31.497 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:01:31.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:01:31.551 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1237.2214ms
2023-09-20 12:01:31.552 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:01:31.556 +02:00 [DBG] Connection id "0HMTPO24B7TD0" completed keep alive response.
2023-09-20 12:01:31.560 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:01:31.565 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:01:31.567 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 12:01:31.568 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 1275.1057ms
2023-09-20 12:01:33.281 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:01:33.282 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:01:33.282 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:01:33.283 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:33.283 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:01:33.283 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:33.292 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:01:33.293 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:01:33.293 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:01:33.293 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:01:33.293 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:01:33.293 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:01:33.293 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:33.311 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:01:33.311 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:33.314 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:01:33.315 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:01:33.316 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:33.316 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:33.316 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:01:33.317 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:33.330 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 12:01:33.381 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 12:01:33.390 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:01:33.390 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:01:33.390 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:01:33.390 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:01:33.393 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-09-20 12:01:33.393 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:01:33.393 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:33.395 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:01:33.406 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:01:33.406 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:33.433 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:33.433 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 27ms reading results.
2023-09-20 12:01:33.433 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:33.433 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:01:33.435 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:01:33.435 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:01:33.435 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:01:33.435 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:01:33.436 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 142.7365ms
2023-09-20 12:01:33.436 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:33.436 +02:00 [DBG] Connection id "0HMTPO24B7TD0" completed keep alive response.
2023-09-20 12:01:33.436 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:01:33.436 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:01:33.436 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:01:33.436 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 155.0451ms
2023-09-20 12:01:41.720 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:01:41.720 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:01:41.720 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:01:41.720 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:41.720 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:01:41.720 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:41.723 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:01:41.723 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:01:41.723 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:01:41.723 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:01:41.723 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:01:41.723 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:01:41.723 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:41.727 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:01:41.727 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:41.728 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:01:41.728 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:01:41.728 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:41.728 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:41.728 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:01:41.728 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:41.728 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:01:41.728 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:01:41.729 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:01:41.729 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:01:41.734 +02:00 [DBG] Connection id "0HMTPO24B7TD0", Request id "0HMTPO24B7TD0:00000003": started reading request body.
2023-09-20 12:01:41.734 +02:00 [DBG] Connection id "0HMTPO24B7TD0", Request id "0HMTPO24B7TD0:00000003": done reading request body.
2023-09-20 12:01:41.763 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:01:41.767 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:01:41.767 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:01:41.767 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:01:41.770 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:01:41.770 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:01:41.771 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:01:41.771 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:01:41.771 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:01:41.771 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:01:41.771 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:01:41.782 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 59.6381ms
2023-09-20 12:01:41.783 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:41.783 +02:00 [DBG] Connection id "0HMTPO24B7TD0" completed keep alive response.
2023-09-20 12:01:41.783 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:01:41.783 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 63.3828ms
2023-09-20 12:01:48.905 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:01:48.905 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:01:48.905 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:01:48.905 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:01:48.905 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:01:48.905 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:01:48.906 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:01:48.906 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:01:48.906 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:01:48.906 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:01:48.906 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:01:48.906 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:01:48.906 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:48.906 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:01:48.907 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:48.907 +02:00 [INF] Getting all villas
2023-09-20 12:01:48.907 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:01:48.908 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:01:48.908 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:01:48.908 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:01:48.908 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:01:48.908 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:01:48.908 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:48.908 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:01:48.911 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.911 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:48.912 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:48.912 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:01:48.912 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:48.912 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:01:48.912 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:01:48.912 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:01:48.912 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:01:48.912 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:01:48.913 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 6.6821ms
2023-09-20 12:01:48.913 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:01:48.913 +02:00 [DBG] Connection id "0HMTPO24B7TD0" completed keep alive response.
2023-09-20 12:01:48.913 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:01:48.913 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:01:48.913 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:01:48.913 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 7.7847ms
2023-09-20 12:01:58.402 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:01:58.402 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:01:58.402 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:01:58.402 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:58.402 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:01:58.403 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:58.403 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:01:58.403 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:01:58.403 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:01:58.403 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:01:58.404 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:01:58.404 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:01:58.404 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:58.405 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:01:58.405 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:01:58.406 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:01:58.406 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:01:58.406 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:58.406 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:58.406 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:01:58.406 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:01:58.409 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:01:58.409 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:01:58.409 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:01:58.409 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:01:58.409 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:01:58.409 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:01:58.410 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:58.410 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:01:58.469 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:01:58.469 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:01:58.470 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:58.470 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:01:58.470 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:01:58.470 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:01:58.470 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:01:58.470 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:01:58.470 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:01:58.470 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:01:58.470 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 66.645ms
2023-09-20 12:01:58.470 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:01:58.471 +02:00 [DBG] Connection id "0HMTPO24B7TD0" completed keep alive response.
2023-09-20 12:01:58.471 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:01:58.471 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:01:58.471 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:01:58.471 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 69.0052ms
2023-09-20 12:02:01.995 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:02:01.995 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:02:01.995 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:02:01.995 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:02:01.995 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:02:01.995 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:02:01.995 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:02:01.995 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:02:01.995 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:02:01.995 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:02:01.995 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:02:01.995 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:02:01.995 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:02:01.997 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:02:01.997 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:02:01.997 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:02:01.997 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:02:01.997 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:02:01.997 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:02:01.997 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:02:01.997 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:02:01.997 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:02:01.997 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:02:01.997 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:02:01.997 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:02:01.998 +02:00 [DBG] Connection id "0HMTPO24B7TD0", Request id "0HMTPO24B7TD0:00000006": started reading request body.
2023-09-20 12:02:01.998 +02:00 [DBG] Connection id "0HMTPO24B7TD0", Request id "0HMTPO24B7TD0:00000006": done reading request body.
2023-09-20 12:02:01.998 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:02:01.998 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:02:01.998 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:02:01.998 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:02:01.999 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:02:01.999 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:02:01.999 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:02:01.999 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:02:01.999 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:02:01.999 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:02:01.999 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:02:01.999 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 4.014ms
2023-09-20 12:02:02.000 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:02:02.000 +02:00 [DBG] Connection id "0HMTPO24B7TD0" completed keep alive response.
2023-09-20 12:02:02.000 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:02:02.000 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 5.1273ms
2023-09-20 12:02:02.014 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:02:02.014 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:02:02.014 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:02:02.014 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:02:02.014 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:02:02.014 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:02:02.014 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:02:02.014 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:02:02.014 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:02:02.014 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:02:02.015 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:02:02.015 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:02:02.015 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:02:02.015 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:02:02.015 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:02:02.015 +02:00 [INF] Getting all villas
2023-09-20 12:02:02.016 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:02:02.016 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:02:02.016 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:02:02.016 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:02:02.016 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:02:02.016 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:02:02.016 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:02:02.016 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:02:02.067 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:02:02.140 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.214 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.215 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.215 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.216 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.216 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.216 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.216 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.216 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.216 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:02:02.217 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:02:02.217 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 100ms reading results.
2023-09-20 12:02:02.217 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:02:02.218 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:02:02.218 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:02:02.219 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:02:02.219 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:02:02.219 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:02:02.220 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 205.3721ms
2023-09-20 12:02:02.220 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:02:02.220 +02:00 [DBG] Connection id "0HMTPO24B7TD0" completed keep alive response.
2023-09-20 12:02:02.220 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:02:02.220 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:02:02.220 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:02:02.221 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 206.6177ms
2023-09-20 12:03:03.890 +02:00 [DBG] Connection id "0HMTPO24B7TD0" received FIN.
2023-09-20 12:03:03.897 +02:00 [DBG] Connection id "0HMTPO24B7TD0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:03:03.898 +02:00 [DBG] Connection id "0HMTPO24B7TD0" disconnecting.
2023-09-20 12:03:03.928 +02:00 [DBG] Connection id "0HMTPO24B7TD0" stopped.
2023-09-20 12:05:13.373 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 12:05:13.431 +02:00 [DBG] Hosting starting
2023-09-20 12:05:13.654 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 12:05:13.655 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 12:05:13.655 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 12:05:13.655 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 12:05:13.655 +02:00 [INF] Hosting environment: Development
2023-09-20 12:05:13.655 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 12:05:13.655 +02:00 [DBG] Hosting started
2023-09-20 12:05:14.088 +02:00 [DBG] Connection id "0HMTPO4ALD8CP" received FIN.
2023-09-20 12:05:14.093 +02:00 [DBG] Connection id "0HMTPO4ALD8CP" accepted.
2023-09-20 12:05:14.093 +02:00 [DBG] Connection id "0HMTPO4ALD8CP" started.
2023-09-20 12:05:14.106 +02:00 [DBG] Connection id "0HMTPO4ALD8CQ" accepted.
2023-09-20 12:05:14.106 +02:00 [DBG] Connection id "0HMTPO4ALD8CQ" started.
2023-09-20 12:05:14.106 +02:00 [DBG] Connection id "0HMTPO4ALD8CR" accepted.
2023-09-20 12:05:14.107 +02:00 [DBG] Connection id "0HMTPO4ALD8CR" started.
2023-09-20 12:05:14.107 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 12:05:14.127 +02:00 [DBG] Connection id "0HMTPO4ALD8CP" stopped.
2023-09-20 12:05:14.130 +02:00 [DBG] Connection id "0HMTPO4ALD8CP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:05:14.165 +02:00 [DBG] Connection 0HMTPO4ALD8CR established using the following protocol: "Tls12"
2023-09-20 12:05:14.165 +02:00 [DBG] Connection 0HMTPO4ALD8CQ established using the following protocol: "Tls12"
2023-09-20 12:05:14.189 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 12:05:14.190 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 12:05:14.202 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 12:05:14.202 +02:00 [DBG] Request did not match any endpoints
2023-09-20 12:05:14.279 +02:00 [DBG] Connection id "0HMTPO4ALD8CQ" completed keep alive response.
2023-09-20 12:05:14.280 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 91.8593ms
2023-09-20 12:05:14.368 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 12:05:14.368 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 12:05:14.368 +02:00 [DBG] Request did not match any endpoints
2023-09-20 12:05:14.515 +02:00 [DBG] Connection id "0HMTPO4ALD8CQ" completed keep alive response.
2023-09-20 12:05:14.515 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.9655ms
2023-09-20 12:05:17.114 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" accepted.
2023-09-20 12:05:17.115 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" started.
2023-09-20 12:05:17.149 +02:00 [DBG] Connection 0HMTPO4ALD8CS established using the following protocol: "Tls12"
2023-09-20 12:05:17.162 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:05:17.170 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:05:17.172 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:05:17.172 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:05:17.174 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:05:17.176 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:05:17.189 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:05:17.190 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:05:17.190 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:05:17.190 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:05:17.190 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:05:17.190 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:05:17.191 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:05:17.287 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 12:05:17.879 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:05:17.945 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:05:17.946 +02:00 [INF] Getting all villas
2023-09-20 12:05:17.971 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 12:05:18.072 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 12:05:18.095 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:05:18.096 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:05:18.126 +02:00 [DBG] Created DbConnection. (27ms).
2023-09-20 12:05:18.131 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2023-09-20 12:05:18.132 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (38ms).
2023-09-20 12:05:18.136 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:05:18.244 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:18.255 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:05:18.284 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:05:18.302 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.320 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:18.324 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:18.330 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 41ms reading results.
2023-09-20 12:05:18.333 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:18.337 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-20 12:05:18.353 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:05:18.356 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:05:18.356 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:05:18.356 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:05:18.396 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1203.7779ms
2023-09-20 12:05:18.397 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:05:18.401 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" completed keep alive response.
2023-09-20 12:05:18.403 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:05:18.407 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:05:18.409 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 12:05:18.410 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 1247.6697ms
2023-09-20 12:05:23.002 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:05:23.004 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:05:23.005 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:05:23.005 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:05:23.005 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:05:23.005 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:05:23.015 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:05:23.015 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:05:23.015 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:05:23.016 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:05:23.016 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:05:23.016 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:05:23.016 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:05:23.035 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:05:23.035 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:05:23.038 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:05:23.039 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:05:23.040 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:05:23.040 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:05:23.040 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:05:23.040 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:05:23.054 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 12:05:23.106 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 12:05:23.115 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:05:23.115 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:05:23.115 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:05:23.115 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:05:23.118 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-09-20 12:05:23.118 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:05:23.119 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:23.121 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:05:23.172 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:05:23.172 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:23.175 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:23.175 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2023-09-20 12:05:23.175 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:23.175 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:05:23.176 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:05:23.176 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:05:23.176 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:05:23.176 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:05:23.177 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 160.9885ms
2023-09-20 12:05:23.177 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:05:23.177 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" completed keep alive response.
2023-09-20 12:05:23.177 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:05:23.177 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:05:23.177 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:05:23.177 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 175.4957ms
2023-09-20 12:05:26.387 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:05:26.388 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:05:26.388 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:05:26.388 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:05:26.388 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:05:26.388 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:05:26.391 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:05:26.391 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:05:26.391 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:05:26.391 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:05:26.391 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:05:26.391 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:05:26.391 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:05:26.395 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:05:26.396 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:05:26.397 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:05:26.397 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:05:26.397 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:05:26.397 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:05:26.397 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:05:26.397 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:05:26.397 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:05:26.398 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:05:26.399 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:05:26.399 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:05:26.405 +02:00 [DBG] Connection id "0HMTPO4ALD8CS", Request id "0HMTPO4ALD8CS:00000003": started reading request body.
2023-09-20 12:05:26.405 +02:00 [DBG] Connection id "0HMTPO4ALD8CS", Request id "0HMTPO4ALD8CS:00000003": done reading request body.
2023-09-20 12:05:26.434 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:05:26.439 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:05:26.439 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:05:26.439 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:05:26.442 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:05:26.442 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:05:26.442 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:05:26.443 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:05:26.443 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:05:26.443 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:05:26.443 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:05:26.455 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 64.4631ms
2023-09-20 12:05:26.455 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:05:26.455 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" completed keep alive response.
2023-09-20 12:05:26.455 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:05:26.455 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 68.1272ms
2023-09-20 12:05:26.464 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:05:26.464 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:05:26.464 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:05:26.464 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:05:26.464 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:05:26.464 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:05:26.465 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:05:26.465 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:05:26.465 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:05:26.465 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:05:26.465 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:05:26.465 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:05:26.465 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:05:26.465 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:05:26.465 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:05:26.465 +02:00 [INF] Getting all villas
2023-09-20 12:05:26.467 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:05:26.467 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:05:26.467 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:05:26.467 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:05:26.467 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:05:26.467 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:05:26.467 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:26.467 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:05:26.543 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:05:26.568 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:26.568 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:05:26.568 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:05:26.568 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:05:26.569 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:05:26.569 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:05:26.569 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:05:26.569 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:05:26.569 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 104.6066ms
2023-09-20 12:05:26.569 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:05:26.569 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" completed keep alive response.
2023-09-20 12:05:26.569 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:05:26.570 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:05:26.570 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:05:26.570 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 105.4963ms
2023-09-20 12:06:12.218 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" received FIN.
2023-09-20 12:06:12.221 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:06:12.222 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" disconnecting.
2023-09-20 12:06:12.227 +02:00 [DBG] Connection id "0HMTPO4ALD8CS" stopped.
2023-09-20 12:06:20.197 +02:00 [DBG] Connection id "0HMTPO4ALD8CR" received FIN.
2023-09-20 12:06:20.198 +02:00 [DBG] Connection id "0HMTPO4ALD8CR" disconnecting.
2023-09-20 12:06:20.199 +02:00 [DBG] Connection id "0HMTPO4ALD8CR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:06:20.200 +02:00 [DBG] Connection id "0HMTPO4ALD8CR" stopped.
2023-09-20 12:06:28.154 +02:00 [DBG] Connection id "0HMTPO4ALD8CT" accepted.
2023-09-20 12:06:28.154 +02:00 [DBG] Connection id "0HMTPO4ALD8CT" started.
2023-09-20 12:06:28.183 +02:00 [DBG] Connection 0HMTPO4ALD8CT established using the following protocol: "Tls12"
2023-09-20 12:06:28.190 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:06:28.190 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:06:28.190 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:06:28.190 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:06:28.190 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:06:28.190 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:06:28.190 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:06:28.190 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:06:28.190 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:06:28.190 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:06:28.190 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:06:28.190 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:06:28.190 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:06:28.191 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:06:28.191 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:06:28.191 +02:00 [INF] Getting all villas
2023-09-20 12:06:28.191 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:06:28.191 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:06:28.191 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:06:28.191 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:06:28.191 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:06:28.191 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:06:28.191 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:06:28.192 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:06:28.239 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:28.291 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:06:28.291 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:06:28.292 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:06:28.292 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:06:28.292 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:06:28.292 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:06:28.292 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:06:28.292 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:06:28.292 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 101.7771ms
2023-09-20 12:06:28.292 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:06:28.292 +02:00 [DBG] Connection id "0HMTPO4ALD8CT" completed keep alive response.
2023-09-20 12:06:28.292 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:06:28.292 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:06:28.293 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:06:28.293 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 102.6790ms
2023-09-20 12:06:35.363 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:06:35.363 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:06:35.363 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:06:35.364 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:06:35.364 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:06:35.364 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:06:35.364 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:06:35.364 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:06:35.364 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:06:35.364 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:06:35.364 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:06:35.364 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:06:35.364 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:06:35.366 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:06:35.366 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:06:35.366 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:06:35.366 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:06:35.366 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:06:35.366 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:06:35.366 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:06:35.366 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:06:35.370 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:06:35.370 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:06:35.370 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:06:35.370 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:06:35.370 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:06:35.370 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:06:35.370 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:06:35.371 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:06:35.373 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:06:35.449 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:06:35.450 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:06:35.450 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 12:06:35.450 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:06:35.450 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:06:35.451 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:06:35.451 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:06:35.451 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:06:35.451 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:06:35.451 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 86.7267ms
2023-09-20 12:06:35.451 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:06:35.451 +02:00 [DBG] Connection id "0HMTPO4ALD8CT" completed keep alive response.
2023-09-20 12:06:35.451 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:06:35.451 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:06:35.451 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:06:35.451 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 88.3546ms
2023-09-20 12:08:16.983 +02:00 [DBG] Connection id "0HMTPO4ALD8CT" received FIN.
2023-09-20 12:08:17.011 +02:00 [DBG] Connection id "0HMTPO4ALD8CT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:08:17.013 +02:00 [DBG] Connection id "0HMTPO4ALD8CT" disconnecting.
2023-09-20 12:08:17.013 +02:00 [DBG] Connection id "0HMTPO4ALD8CT" stopped.
2023-09-20 12:08:32.761 +02:00 [DBG] Connection id "0HMTPO4ALD8CU" accepted.
2023-09-20 12:08:32.761 +02:00 [DBG] Connection id "0HMTPO4ALD8CU" started.
2023-09-20 12:08:32.926 +02:00 [DBG] Connection 0HMTPO4ALD8CU established using the following protocol: "Tls12"
2023-09-20 12:08:32.997 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:08:32.997 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:08:32.998 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:08:32.998 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:08:32.998 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:08:32.998 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:08:32.998 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:08:32.998 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:08:32.998 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:08:32.998 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:08:32.998 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:08:32.998 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:08:32.998 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:08:32.999 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:08:32.999 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:08:32.999 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:08:32.999 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:08:32.999 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:08:32.999 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:08:32.999 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:08:32.999 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:08:33.000 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:08:33.000 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:08:33.000 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:08:33.000 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:08:33.000 +02:00 [DBG] Connection id "0HMTPO4ALD8CU", Request id "0HMTPO4ALD8CU:00000001": started reading request body.
2023-09-20 12:08:33.000 +02:00 [DBG] Connection id "0HMTPO4ALD8CU", Request id "0HMTPO4ALD8CU:00000001": done reading request body.
2023-09-20 12:08:33.000 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:08:33.001 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:08:33.001 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:08:33.001 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:08:33.001 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:08:33.001 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:08:33.001 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:08:33.001 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:08:33.001 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:08:33.001 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:08:33.001 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:08:33.001 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 3.215ms
2023-09-20 12:08:33.001 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:08:33.001 +02:00 [DBG] Connection id "0HMTPO4ALD8CU" completed keep alive response.
2023-09-20 12:08:33.002 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:08:33.002 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 4.3994ms
2023-09-20 12:12:29.913 +02:00 [DBG] Connection id "0HMTPO4ALD8CU" received FIN.
2023-09-20 12:12:29.940 +02:00 [DBG] Connection id "0HMTPO4ALD8CQ" received FIN.
2023-09-20 12:12:29.941 +02:00 [DBG] Connection id "0HMTPO4ALD8CU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:12:29.941 +02:00 [DBG] Connection id "0HMTPO4ALD8CU" disconnecting.
2023-09-20 12:12:29.967 +02:00 [DBG] Connection id "0HMTPO4ALD8CQ" disconnecting.
2023-09-20 12:12:29.967 +02:00 [DBG] Connection id "0HMTPO4ALD8CU" stopped.
2023-09-20 12:12:29.969 +02:00 [DBG] Connection id "0HMTPO4ALD8CQ" stopped.
2023-09-20 12:12:29.992 +02:00 [DBG] Connection id "0HMTPO4ALD8CQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:12:42.271 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" accepted.
2023-09-20 12:12:42.272 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" started.
2023-09-20 12:12:42.299 +02:00 [DBG] Connection 0HMTPO4ALD8CV established using the following protocol: "Tls12"
2023-09-20 12:12:42.306 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:12:42.306 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:12:42.307 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:12:42.307 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:12:42.307 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:12:42.307 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:12:42.307 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:12:42.307 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:12:42.307 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:12:42.307 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:12:42.307 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:12:42.307 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:12:42.307 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:12:42.307 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:12:42.307 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:12:42.307 +02:00 [INF] Getting all villas
2023-09-20 12:12:42.308 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:12:42.308 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:12:42.308 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:12:42.308 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:12:42.308 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:12:42.308 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:12:42.364 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:12:42.364 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:12:42.390 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:42.390 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:12:42.390 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:12:42.391 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:12:42.391 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:12:42.391 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:12:42.391 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:12:42.391 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:12:42.391 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:12:42.391 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 84.1415ms
2023-09-20 12:12:42.391 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:12:42.391 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" completed keep alive response.
2023-09-20 12:12:42.391 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:12:42.391 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:12:42.391 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:12:42.391 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 84.8497ms
2023-09-20 12:12:47.645 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:12:47.645 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:12:47.645 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:12:47.645 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:12:47.645 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:12:47.645 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:12:47.646 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:12:47.646 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:12:47.646 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:12:47.646 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:12:47.646 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:12:47.646 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:12:47.646 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:12:47.647 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:12:47.647 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:12:47.647 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:12:47.647 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:12:47.647 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:12:47.647 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:12:47.647 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:12:47.647 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:12:47.648 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:12:47.648 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:12:47.648 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:12:47.648 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:12:47.648 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:12:47.648 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:12:47.648 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:12:47.648 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:12:47.752 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:12:47.805 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:12:47.805 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:12:47.805 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:12:47.805 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:12:47.805 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:12:47.806 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:12:47.806 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:12:47.806 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:12:47.806 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:12:47.806 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 160.1413ms
2023-09-20 12:12:47.806 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:12:47.806 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" completed keep alive response.
2023-09-20 12:12:47.806 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:12:47.806 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:12:47.806 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:12:47.807 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 161.4628ms
2023-09-20 12:13:01.340 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:13:01.340 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:13:01.340 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:13:01.340 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:13:01.340 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:13:01.341 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:13:01.341 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:13:01.341 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:13:01.341 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:13:01.341 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:13:01.341 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:13:01.341 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:13:01.341 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:13:01.342 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:13:01.342 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:13:01.342 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:13:01.342 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:13:01.342 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:13:01.342 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:13:01.342 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:13:01.342 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:13:01.343 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:13:01.343 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:13:01.343 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:13:01.343 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:13:01.343 +02:00 [DBG] Connection id "0HMTPO4ALD8CV", Request id "0HMTPO4ALD8CV:00000003": started reading request body.
2023-09-20 12:13:01.343 +02:00 [DBG] Connection id "0HMTPO4ALD8CV", Request id "0HMTPO4ALD8CV:00000003": done reading request body.
2023-09-20 12:13:01.343 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:13:01.343 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:13:01.343 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:13:01.343 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:13:01.344 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:13:01.344 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:13:01.344 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:13:01.344 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:13:01.344 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:13:01.344 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:13:01.344 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:13:01.344 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 3.0217ms
2023-09-20 12:13:01.344 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:13:01.344 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" completed keep alive response.
2023-09-20 12:13:01.344 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:13:01.344 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 4.2861ms
2023-09-20 12:17:17.352 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" received FIN.
2023-09-20 12:17:17.356 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" disconnecting.
2023-09-20 12:17:17.359 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:17:17.360 +02:00 [DBG] Connection id "0HMTPO4ALD8CV" stopped.
2023-09-20 12:17:33.736 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" accepted.
2023-09-20 12:17:33.736 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" started.
2023-09-20 12:17:33.769 +02:00 [DBG] Connection 0HMTPO4ALD8D0 established using the following protocol: "Tls12"
2023-09-20 12:17:33.777 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:17:33.777 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:17:33.777 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:17:33.777 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:17:33.777 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:17:33.777 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:17:33.777 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:17:33.777 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:17:33.777 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:17:33.778 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:17:33.778 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:17:33.778 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:17:33.778 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:17:33.778 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:17:33.778 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:17:33.778 +02:00 [INF] Getting all villas
2023-09-20 12:17:33.778 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:17:33.778 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:17:33.778 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:17:33.778 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:17:33.778 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:17:33.778 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:17:33.778 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:33.779 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:17:33.780 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:17:33.904 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:33.905 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:33.905 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 50ms reading results.
2023-09-20 12:17:33.905 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:33.905 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:17:33.905 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:17:33.906 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:17:33.906 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:17:33.906 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:17:33.906 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 128.3637ms
2023-09-20 12:17:33.906 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:17:33.906 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" completed keep alive response.
2023-09-20 12:17:33.906 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:17:33.906 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:17:33.906 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:17:33.906 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 129.1216ms
2023-09-20 12:17:36.302 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:17:36.303 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:17:36.303 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:17:36.303 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:17:36.303 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:17:36.303 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:17:36.303 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:17:36.303 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:17:36.303 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:17:36.303 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:17:36.303 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:17:36.303 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:17:36.303 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:17:36.304 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:17:36.304 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:17:36.304 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:17:36.304 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:17:36.305 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:17:36.305 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:17:36.305 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:17:36.305 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:17:36.305 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:17:36.305 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:17:36.305 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:17:36.305 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:17:36.305 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:17:36.305 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:17:36.305 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:36.306 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:17:36.329 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:17:36.403 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:36.404 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:36.404 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 51ms reading results.
2023-09-20 12:17:36.404 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:36.404 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:17:36.404 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:17:36.404 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:17:36.404 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:17:36.405 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:17:36.405 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 101.3529ms
2023-09-20 12:17:36.405 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:17:36.405 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" completed keep alive response.
2023-09-20 12:17:36.405 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:17:36.405 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:17:36.405 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:17:36.406 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 102.6745ms
2023-09-20 12:17:39.901 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:17:39.901 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:17:39.901 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:17:39.901 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:17:39.901 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:17:39.901 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:17:39.901 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:17:39.901 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:17:39.902 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:17:39.902 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:17:39.902 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:17:39.902 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:17:39.902 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:17:39.902 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:17:39.903 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:17:39.903 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:17:39.903 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:17:39.903 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:17:39.903 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:17:39.903 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:17:39.903 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:17:39.903 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:17:39.903 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:17:39.903 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:17:39.903 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:17:39.903 +02:00 [DBG] Connection id "0HMTPO4ALD8D0", Request id "0HMTPO4ALD8D0:00000003": started reading request body.
2023-09-20 12:17:39.903 +02:00 [DBG] Connection id "0HMTPO4ALD8D0", Request id "0HMTPO4ALD8D0:00000003": done reading request body.
2023-09-20 12:17:39.904 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:17:39.904 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:17:39.904 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:17:39.904 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:17:39.904 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:17:39.904 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:17:39.904 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:17:39.904 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:17:39.904 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:17:39.904 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:17:39.904 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:17:39.904 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 2.7952ms
2023-09-20 12:17:39.905 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:17:39.905 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" completed keep alive response.
2023-09-20 12:17:39.905 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:17:39.905 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 3.9390ms
2023-09-20 12:17:39.916 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:17:39.917 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:17:39.917 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:17:39.917 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:17:39.917 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:17:39.917 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:17:39.917 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:17:39.917 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:17:39.917 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:17:39.917 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:17:39.917 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:17:39.917 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:17:39.917 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:17:39.918 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:17:39.918 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:17:39.918 +02:00 [INF] Getting all villas
2023-09-20 12:17:39.918 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:17:39.918 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:17:39.918 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:17:39.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:17:39.918 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:17:39.918 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:17:39.918 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:39.918 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:17:39.920 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:17:39.994 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.045 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.046 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.046 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.046 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.046 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.046 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.046 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:17:40.046 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:40.046 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 76ms reading results.
2023-09-20 12:17:40.046 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:17:40.046 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:17:40.047 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:17:40.047 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:17:40.047 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:17:40.047 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:17:40.047 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 129.8579ms
2023-09-20 12:17:40.047 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:17:40.047 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" completed keep alive response.
2023-09-20 12:17:40.047 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:17:40.047 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:17:40.047 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:17:40.047 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 130.8556ms
2023-09-20 12:18:22.526 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" received FIN.
2023-09-20 12:18:22.549 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" disconnecting.
2023-09-20 12:18:22.549 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" stopped.
2023-09-20 12:18:22.575 +02:00 [DBG] Connection id "0HMTPO4ALD8D0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:18:31.180 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" accepted.
2023-09-20 12:18:31.206 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" started.
2023-09-20 12:18:31.234 +02:00 [DBG] Connection 0HMTPO4ALD8D1 established using the following protocol: "Tls12"
2023-09-20 12:18:31.241 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:18:31.241 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:18:31.241 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:18:31.241 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:18:31.241 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:18:31.241 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:18:31.241 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:18:31.241 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:18:31.241 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:18:31.241 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:18:31.241 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:18:31.241 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:18:31.241 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:18:31.242 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:18:31.242 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:18:31.242 +02:00 [INF] Getting all villas
2023-09-20 12:18:31.242 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:18:31.242 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:18:31.242 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:18:31.242 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:18:31.242 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:18:31.242 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:18:31.275 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:31.275 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:18:31.276 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:18:31.276 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.276 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.276 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.277 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.277 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.277 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.277 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.277 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.277 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.277 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:31.277 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:31.277 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:18:31.277 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:31.277 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:18:31.277 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:18:31.277 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:18:31.277 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:18:31.277 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:18:31.277 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 35.9733ms
2023-09-20 12:18:31.277 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:18:31.277 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" completed keep alive response.
2023-09-20 12:18:31.277 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:18:31.277 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:18:31.277 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:18:31.277 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 36.6384ms
2023-09-20 12:18:33.491 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:18:33.491 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:18:33.491 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:18:33.492 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:18:33.492 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:18:33.492 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:18:33.492 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:18:33.492 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:18:33.492 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:18:33.492 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:18:33.492 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:18:33.492 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:18:33.492 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:18:33.493 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:18:33.493 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:18:33.493 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:18:33.493 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:18:33.493 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:18:33.493 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:18:33.493 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:18:33.493 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:18:33.494 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:18:33.494 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:18:33.494 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:18:33.494 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:18:33.494 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:18:33.494 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:18:33.494 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:33.494 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:18:33.499 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:18:33.500 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:33.500 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:33.500 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:18:33.500 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:33.500 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:18:33.500 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:18:33.500 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:18:33.500 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:18:33.500 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:18:33.500 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 8.329ms
2023-09-20 12:18:33.501 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:18:33.501 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" completed keep alive response.
2023-09-20 12:18:33.501 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:18:33.501 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:18:33.501 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:18:33.501 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 9.6055ms
2023-09-20 12:18:36.838 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:18:36.838 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:18:36.838 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:18:36.838 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:18:36.838 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:18:36.838 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:18:36.838 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:18:36.838 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:18:36.838 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:18:36.838 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:18:36.838 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:18:36.838 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:18:36.838 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:18:36.839 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:18:36.839 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:18:36.839 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:18:36.839 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:18:36.839 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:18:36.839 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:18:36.839 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:18:36.839 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:18:36.839 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:18:36.839 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:18:36.839 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:18:36.839 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:18:36.839 +02:00 [DBG] Connection id "0HMTPO4ALD8D1", Request id "0HMTPO4ALD8D1:00000003": started reading request body.
2023-09-20 12:18:36.840 +02:00 [DBG] Connection id "0HMTPO4ALD8D1", Request id "0HMTPO4ALD8D1:00000003": done reading request body.
2023-09-20 12:18:36.840 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:18:36.840 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:18:36.840 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:18:36.840 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:18:36.841 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:18:36.841 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:18:36.841 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:18:36.841 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:18:36.841 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:18:36.841 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:18:36.841 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:18:36.841 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 2.8277ms
2023-09-20 12:18:36.841 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:18:36.841 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" completed keep alive response.
2023-09-20 12:18:36.841 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:18:36.841 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 3.7016ms
2023-09-20 12:18:36.874 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:18:36.874 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:18:36.874 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:18:36.874 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:18:36.874 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:18:36.874 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:18:36.874 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:18:36.874 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:18:36.874 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:18:36.874 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:18:36.874 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:18:36.874 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:18:36.874 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:18:36.875 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:18:36.875 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:18:36.875 +02:00 [INF] Getting all villas
2023-09-20 12:18:36.875 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:18:36.875 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:18:36.875 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:18:36.875 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:18:36.875 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:18:36.875 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:18:36.875 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:36.875 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:18:36.927 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:18:37.022 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:18:37.023 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:37.024 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 47ms reading results.
2023-09-20 12:18:37.024 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:18:37.024 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:18:37.024 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:18:37.024 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:18:37.024 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:18:37.024 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:18:37.025 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 150.54ms
2023-09-20 12:18:37.025 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:18:37.025 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" completed keep alive response.
2023-09-20 12:18:37.025 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:18:37.025 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:18:37.025 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:18:37.025 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 151.5721ms
2023-09-20 12:19:36.682 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" received FIN.
2023-09-20 12:19:36.682 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" disconnecting.
2023-09-20 12:19:36.684 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" stopped.
2023-09-20 12:19:36.713 +02:00 [DBG] Connection id "0HMTPO4ALD8D1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:19:51.298 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 12:19:51.359 +02:00 [DBG] Hosting starting
2023-09-20 12:19:51.564 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 12:19:51.564 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 12:19:51.564 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 12:19:51.565 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 12:19:51.565 +02:00 [INF] Hosting environment: Development
2023-09-20 12:19:51.565 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 12:19:51.565 +02:00 [DBG] Hosting started
2023-09-20 12:19:52.026 +02:00 [DBG] Connection id "0HMTPOCGA2NO1" received FIN.
2023-09-20 12:19:52.030 +02:00 [DBG] Connection id "0HMTPOCGA2NO1" accepted.
2023-09-20 12:19:52.031 +02:00 [DBG] Connection id "0HMTPOCGA2NO1" started.
2023-09-20 12:19:52.050 +02:00 [DBG] Connection id "0HMTPOCGA2NO2" accepted.
2023-09-20 12:19:52.050 +02:00 [DBG] Connection id "0HMTPOCGA2NO3" accepted.
2023-09-20 12:19:52.050 +02:00 [DBG] Connection id "0HMTPOCGA2NO2" started.
2023-09-20 12:19:52.050 +02:00 [DBG] Connection id "0HMTPOCGA2NO3" started.
2023-09-20 12:19:52.055 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 12:19:52.077 +02:00 [DBG] Connection id "0HMTPOCGA2NO1" stopped.
2023-09-20 12:19:52.080 +02:00 [DBG] Connection id "0HMTPOCGA2NO1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:19:52.108 +02:00 [DBG] Connection 0HMTPOCGA2NO3 established using the following protocol: "Tls12"
2023-09-20 12:19:52.108 +02:00 [DBG] Connection 0HMTPOCGA2NO2 established using the following protocol: "Tls12"
2023-09-20 12:19:52.134 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 12:19:52.135 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 12:19:52.148 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 12:19:52.148 +02:00 [DBG] Request did not match any endpoints
2023-09-20 12:19:52.223 +02:00 [DBG] Connection id "0HMTPOCGA2NO3" completed keep alive response.
2023-09-20 12:19:52.224 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 91.2750ms
2023-09-20 12:19:52.311 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 12:19:52.312 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 12:19:52.312 +02:00 [DBG] Request did not match any endpoints
2023-09-20 12:19:52.464 +02:00 [DBG] Connection id "0HMTPOCGA2NO3" completed keep alive response.
2023-09-20 12:19:52.464 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.7782ms
2023-09-20 12:20:20.282 +02:00 [DBG] Connection id "0HMTPOCGA2NO4" accepted.
2023-09-20 12:20:20.333 +02:00 [DBG] Connection id "0HMTPOCGA2NO4" started.
2023-09-20 12:20:20.387 +02:00 [DBG] Connection 0HMTPOCGA2NO4 established using the following protocol: "Tls12"
2023-09-20 12:20:20.394 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:20:20.397 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:20:20.398 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:20:20.399 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:20:20.399 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:20:20.401 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:20:20.408 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:20:20.409 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:20:20.409 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:20:20.409 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:20:20.409 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:20:20.409 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:20:20.410 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:20:20.501 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 12:20:21.078 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:20:21.143 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:20:21.145 +02:00 [INF] Getting all villas
2023-09-20 12:20:21.172 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 12:20:21.272 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 12:20:21.294 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:20:21.296 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:20:21.328 +02:00 [DBG] Created DbConnection. (29ms).
2023-09-20 12:20:21.333 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2023-09-20 12:20:21.334 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (40ms).
2023-09-20 12:20:21.337 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:20:21.433 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:21.443 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:20:21.472 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:20:21.501 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.525 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.525 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.525 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.525 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.525 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.525 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.525 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.526 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.526 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:21.531 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:21.540 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 61ms reading results.
2023-09-20 12:20:21.545 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:21.551 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 12:20:21.572 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:20:21.576 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:20:21.577 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:20:21.577 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:20:21.630 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1217.0617ms
2023-09-20 12:20:21.631 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:20:21.635 +02:00 [DBG] Connection id "0HMTPOCGA2NO4" completed keep alive response.
2023-09-20 12:20:21.639 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:20:21.644 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:20:21.646 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 12:20:21.647 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 1253.3660ms
2023-09-20 12:20:23.272 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:20:23.273 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:20:23.274 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:20:23.274 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:20:23.274 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:20:23.274 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:20:23.285 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:20:23.285 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:20:23.285 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:20:23.285 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:20:23.285 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:20:23.285 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:20:23.285 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:20:23.306 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:20:23.306 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:20:23.309 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:20:23.311 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:20:23.311 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:20:23.311 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:20:23.311 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:20:23.312 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:20:23.325 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 12:20:23.378 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 12:20:23.386 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:20:23.386 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:20:23.386 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:20:23.387 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:20:23.389 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-09-20 12:20:23.390 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:20:23.390 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:23.392 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:20:23.402 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:20:23.403 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:23.451 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:23.451 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 48ms reading results.
2023-09-20 12:20:23.452 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:23.452 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:20:23.453 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:20:23.453 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:20:23.453 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:20:23.453 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:20:23.453 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 168.3111ms
2023-09-20 12:20:23.453 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:20:23.453 +02:00 [DBG] Connection id "0HMTPOCGA2NO4" completed keep alive response.
2023-09-20 12:20:23.453 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:20:23.454 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:20:23.454 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:20:23.454 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 181.7057ms
2023-09-20 12:20:27.207 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:20:27.208 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:20:27.208 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:20:27.208 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:20:27.208 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:20:27.208 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:20:27.211 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:20:27.211 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:20:27.211 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:20:27.211 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:20:27.211 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:20:27.211 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:20:27.211 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:20:27.216 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:20:27.217 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:20:27.218 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:20:27.218 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:20:27.218 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:20:27.218 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:20:27.218 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:20:27.218 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:20:27.218 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:20:27.219 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:20:27.220 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:20:27.220 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:20:27.226 +02:00 [DBG] Connection id "0HMTPOCGA2NO4", Request id "0HMTPOCGA2NO4:00000003": started reading request body.
2023-09-20 12:20:27.226 +02:00 [DBG] Connection id "0HMTPOCGA2NO4", Request id "0HMTPOCGA2NO4:00000003": done reading request body.
2023-09-20 12:20:27.256 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Sqft', line 1, position 38.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-20 12:20:27.259 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:20:27.260 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:20:27.260 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:20:27.262 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:20:27.262 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-20 12:20:27.262 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-20 12:20:27.263 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:20:27.263 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-20 12:20:27.263 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-20 12:20:27.263 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-20 12:20:27.275 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 64.1727ms
2023-09-20 12:20:27.275 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:20:27.276 +02:00 [DBG] Connection id "0HMTPOCGA2NO4" completed keep alive response.
2023-09-20 12:20:27.276 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:20:27.276 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 350 application/problem+json;+charset=utf-8 68.4077ms
2023-09-20 12:20:27.279 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:20:27.279 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:20:27.279 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:20:27.279 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:20:27.280 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:20:27.280 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:20:27.280 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:20:27.280 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:20:27.280 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:20:27.280 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:20:27.280 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:20:27.280 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:20:27.280 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:20:27.280 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:20:27.280 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:20:27.280 +02:00 [INF] Getting all villas
2023-09-20 12:20:27.281 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:20:27.281 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:20:27.281 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:20:27.281 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:20:27.281 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:20:27.281 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:20:27.281 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:27.281 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:20:27.329 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:20:27.329 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:20:27.330 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:27.330 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:20:27.330 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:20:27.330 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:20:27.331 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:20:27.331 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:20:27.331 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:20:27.331 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:20:27.331 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 51.0379ms
2023-09-20 12:20:27.331 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:20:27.331 +02:00 [DBG] Connection id "0HMTPOCGA2NO4" completed keep alive response.
2023-09-20 12:20:27.331 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:20:27.331 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:20:27.331 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:20:27.331 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 51.6847ms
2023-09-20 12:21:06.958 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 12:21:07.018 +02:00 [DBG] Hosting starting
2023-09-20 12:21:07.227 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 12:21:07.228 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 12:21:07.228 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 12:21:07.229 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 12:21:07.229 +02:00 [INF] Hosting environment: Development
2023-09-20 12:21:07.229 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 12:21:07.229 +02:00 [DBG] Hosting started
2023-09-20 12:21:07.236 +02:00 [DBG] Connection id "0HMTPOD6NB3B3" received FIN.
2023-09-20 12:21:07.240 +02:00 [DBG] Connection id "0HMTPOD6NB3B3" accepted.
2023-09-20 12:21:07.241 +02:00 [DBG] Connection id "0HMTPOD6NB3B3" started.
2023-09-20 12:21:07.256 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 12:21:07.270 +02:00 [DBG] Connection id "0HMTPOD6NB3B4" accepted.
2023-09-20 12:21:07.279 +02:00 [DBG] Connection id "0HMTPOD6NB3B4" started.
2023-09-20 12:21:07.280 +02:00 [DBG] Connection id "0HMTPOD6NB3B5" accepted.
2023-09-20 12:21:07.280 +02:00 [DBG] Connection id "0HMTPOD6NB3B5" started.
2023-09-20 12:21:07.283 +02:00 [DBG] Connection id "0HMTPOD6NB3B3" stopped.
2023-09-20 12:21:07.286 +02:00 [DBG] Connection id "0HMTPOD6NB3B3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:21:07.329 +02:00 [DBG] Connection 0HMTPOD6NB3B5 established using the following protocol: "Tls12"
2023-09-20 12:21:07.329 +02:00 [DBG] Connection 0HMTPOD6NB3B4 established using the following protocol: "Tls12"
2023-09-20 12:21:07.354 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 12:21:07.354 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 12:21:07.366 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 12:21:07.366 +02:00 [DBG] Request did not match any endpoints
2023-09-20 12:21:07.445 +02:00 [DBG] Connection id "0HMTPOD6NB3B4" completed keep alive response.
2023-09-20 12:21:07.446 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 93.0418ms
2023-09-20 12:21:07.526 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 12:21:07.526 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 12:21:07.526 +02:00 [DBG] Request did not match any endpoints
2023-09-20 12:21:07.677 +02:00 [DBG] Connection id "0HMTPOD6NB3B4" completed keep alive response.
2023-09-20 12:21:07.677 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.4143ms
2023-09-20 12:21:20.136 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" accepted.
2023-09-20 12:21:20.136 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" started.
2023-09-20 12:21:20.238 +02:00 [DBG] Connection 0HMTPOD6NB3B6 established using the following protocol: "Tls12"
2023-09-20 12:21:20.246 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:21:20.250 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:21:20.252 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:21:20.252 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:21:20.253 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:21:20.254 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:21:20.262 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:21:20.263 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:21:20.263 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:21:20.263 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:21:20.263 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:21:20.263 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:21:20.264 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:21:20.354 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 12:21:20.932 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:21:20.996 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:21:20.997 +02:00 [INF] Getting all villas
2023-09-20 12:21:21.022 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 12:21:21.122 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 12:21:21.145 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:21:21.147 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:21:21.176 +02:00 [DBG] Created DbConnection. (26ms).
2023-09-20 12:21:21.180 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2023-09-20 12:21:21.181 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (37ms).
2023-09-20 12:21:21.184 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:21:21.272 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:21:21.282 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:21:21.312 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:21:21.341 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.365 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:21.371 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:21:21.380 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 61ms reading results.
2023-09-20 12:21:21.385 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:21:21.391 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 12:21:21.413 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:21:21.416 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:21:21.417 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:21:21.417 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:21:21.471 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1204.7092ms
2023-09-20 12:21:21.472 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:21:21.477 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" completed keep alive response.
2023-09-20 12:21:21.480 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:21:21.485 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:21:21.488 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 12:21:21.489 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 1242.7531ms
2023-09-20 12:21:23.207 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:21:23.209 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:21:23.209 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:21:23.210 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:21:23.210 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:21:23.210 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:21:23.221 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:21:23.222 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:21:23.222 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:21:23.222 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:21:23.222 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:21:23.222 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:21:23.222 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:21:23.243 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:21:23.243 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:21:23.246 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:21:23.247 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:21:23.248 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:21:23.248 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:21:23.248 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:21:23.249 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:21:23.263 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 12:21:23.317 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 12:21:23.325 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:21:23.325 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:21:23.325 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:21:23.325 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:21:23.328 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 12:21:23.328 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:21:23.328 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:21:23.331 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:21:23.342 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:21:23.342 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:23.344 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:21:23.344 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 12:21:23.344 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:21:23.344 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:21:23.345 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:21:23.345 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:21:23.345 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:21:23.346 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:21:23.346 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 123.7432ms
2023-09-20 12:21:23.346 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:21:23.346 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" completed keep alive response.
2023-09-20 12:21:23.346 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:21:23.346 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:21:23.346 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:21:23.346 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 138.9698ms
2023-09-20 12:21:26.564 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:21:26.564 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:21:26.564 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:21:26.565 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:21:26.565 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:21:26.565 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:21:26.567 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:21:26.567 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:21:26.567 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:21:26.567 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:21:26.567 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:21:26.567 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:21:26.567 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:21:26.572 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:21:26.572 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:21:26.573 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:21:26.573 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:21:26.573 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:21:26.573 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:21:26.573 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:21:26.573 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:21:26.573 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:21:26.574 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:21:26.575 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:21:26.575 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:21:26.580 +02:00 [DBG] Connection id "0HMTPOD6NB3B6", Request id "0HMTPOD6NB3B6:00000003": started reading request body.
2023-09-20 12:21:26.580 +02:00 [DBG] Connection id "0HMTPOD6NB3B6", Request id "0HMTPOD6NB3B6:00000003": done reading request body.
2023-09-20 12:21:26.608 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:21:26.608 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:21:26.608 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:21:26.612 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:21:26.624 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:21:26.627 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:21:26.629 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:21:26.635 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:21:26.678 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:21:26.678 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:21:26.678 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:21:26.678 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:21:26.679 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:21:26.679 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:21:26.680 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:21:26.680 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:21:26.683 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:21:26.686 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:21:26.686 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:21:26.689 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:21:56.992 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:21:56.993 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:21:56.993 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:21:56.993 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:21:56.993 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 30426.4052ms
2023-09-20 12:21:56.994 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:21:56.994 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" completed keep alive response.
2023-09-20 12:21:56.994 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:21:56.994 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:21:56.994 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:21:56.994 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 30429.8695ms
2023-09-20 12:22:48.854 +02:00 [DBG] Connection id "0HMTPOD6NB3B5" received FIN.
2023-09-20 12:22:48.862 +02:00 [DBG] Connection id "0HMTPOD6NB3B5" disconnecting.
2023-09-20 12:22:48.867 +02:00 [DBG] Connection id "0HMTPOD6NB3B5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:22:48.871 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:22:48.871 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:22:48.871 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:22:48.871 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:22:48.871 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:22:48.871 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:22:48.872 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:22:48.873 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:22:48.873 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:22:48.873 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:22:48.873 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:22:48.875 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:22:48.875 +02:00 [DBG] Connection id "0HMTPOD6NB3B5" stopped.
2023-09-20 12:22:48.875 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:22:48.876 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:22:48.876 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:22:48.876 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:22:48.876 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:22:48.877 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:22:48.877 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:22:48.877 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:22:48.877 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:22:48.877 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:22:48.877 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:22:48.877 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:22:48.877 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:22:48.877 +02:00 [DBG] Connection id "0HMTPOD6NB3B6", Request id "0HMTPOD6NB3B6:00000004": started reading request body.
2023-09-20 12:22:48.877 +02:00 [DBG] Connection id "0HMTPOD6NB3B6", Request id "0HMTPOD6NB3B6:00000004": done reading request body.
2023-09-20 12:22:48.877 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:22:48.877 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:22:48.877 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:22:48.877 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:22:48.878 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:22:48.878 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:22:48.878 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:22:48.878 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:22:48.879 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:22:48.879 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:22:48.879 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:22:48.879 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:22:48.879 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:22:48.879 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:22:48.879 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:22:48.879 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:22:48.880 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:22:48.880 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:22:48.880 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:22:48.881 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:22:58.924 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:22:58.924 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:22:58.924 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:22:58.924 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:22:58.925 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 10049.517ms
2023-09-20 12:22:58.925 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:22:58.925 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" completed keep alive response.
2023-09-20 12:22:58.925 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:22:58.925 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:22:58.925 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:22:58.925 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 10056.0978ms
2023-09-20 12:23:01.431 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:23:01.431 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:23:01.432 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:23:01.432 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:23:01.432 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:23:01.432 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:23:01.432 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:23:01.433 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:23:01.433 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:23:01.433 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:23:01.434 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:23:01.434 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:23:01.434 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:23:01.437 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:23:01.438 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:23:01.439 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:23:01.439 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:23:01.439 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:23:01.440 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:23:01.440 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:23:01.440 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:23:01.440 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:23:01.440 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:23:01.440 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:23:01.441 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:23:01.441 +02:00 [DBG] Connection id "0HMTPOD6NB3B6", Request id "0HMTPOD6NB3B6:00000005": started reading request body.
2023-09-20 12:23:01.441 +02:00 [DBG] Connection id "0HMTPOD6NB3B6", Request id "0HMTPOD6NB3B6:00000005": done reading request body.
2023-09-20 12:23:01.442 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:23:01.442 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:23:01.442 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:23:01.442 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:24:17.646 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:24:24.112 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:24:24.112 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:24:24.112 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:24:24.112 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:24:24.113 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:24:24.113 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:24:24.113 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:24:24.114 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:24:24.114 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:24:24.114 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:24:24.114 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:24:24.115 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:24:24.115 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:24:24.116 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:24:24.117 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:24:45.175 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" received FIN.
2023-09-20 12:24:45.251 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:24:45.269 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" disconnecting.
2023-09-20 12:25:39.085 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:25:39.086 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:25:39.138 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" accepted.
2023-09-20 12:25:39.138 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:25:39.141 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" started.
2023-09-20 12:25:39.141 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:25:39.193 +02:00 [DBG] Connection id "0HMTPOD6NB3B8" accepted.
2023-09-20 12:25:39.194 +02:00 [DBG] Connection id "0HMTPOD6NB3B8" started.
2023-09-20 12:25:39.218 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 157782.5522ms
2023-09-20 12:25:39.218 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:39.218 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:25:39.220 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:39.221 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 12:25:39.222 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 157791.7335ms
2023-09-20 12:25:39.225 +02:00 [DBG] Connection id "0HMTPOD6NB3B6" stopped.
2023-09-20 12:25:39.227 +02:00 [DBG] Connection 0HMTPOD6NB3B7 established using the following protocol: "Tls12"
2023-09-20 12:25:39.232 +02:00 [DBG] Connection 0HMTPOD6NB3B8 established using the following protocol: "Tls12"
2023-09-20 12:25:39.237 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:25:39.237 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:25:39.237 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:25:39.237 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:25:39.237 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:25:39.237 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:25:39.237 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:25:39.237 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:25:39.237 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:25:39.237 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:25:39.237 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:25:39.237 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:25:39.237 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:25:39.237 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:25:39.237 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:25:39.237 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:39.237 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:39.238 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:25:39.238 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:25:39.238 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:39.238 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:39.238 +02:00 [INF] Getting all villas
2023-09-20 12:25:39.238 +02:00 [INF] Getting all villas
2023-09-20 12:25:39.239 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:25:39.239 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:25:39.239 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:25:39.239 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:25:39.239 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:25:39.239 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:25:39.239 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:39.239 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:39.239 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:39.239 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:39.239 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:39.239 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:39.239 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:39.239 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:25:39.351 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:25:39.400 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.400 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.400 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.400 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.400 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.400 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.400 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.401 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.401 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.401 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.401 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:39.401 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 27ms reading results.
2023-09-20 12:25:39.401 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:39.401 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:39.401 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:25:39.401 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:25:39.402 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:25:39.402 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:25:39.427 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:39.427 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 190.072ms
2023-09-20 12:25:39.428 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:25:39.428 +02:00 [DBG] Connection id "0HMTPOD6NB3B8" completed keep alive response.
2023-09-20 12:25:39.428 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:25:39.428 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:25:39.428 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:39.428 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:39.428 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 191.1098ms
2023-09-20 12:25:39.429 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:25:39.429 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.429 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.429 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.430 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.430 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.430 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.430 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.430 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.430 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.430 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:39.430 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:39.430 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:25:39.430 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:39.430 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:39.430 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:25:39.430 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:25:39.430 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:25:39.430 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:25:39.430 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 193.0152ms
2023-09-20 12:25:39.430 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:25:39.430 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" completed keep alive response.
2023-09-20 12:25:39.430 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:25:39.430 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:39.430 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:39.430 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 193.8807ms
2023-09-20 12:25:50.005 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:25:50.006 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:25:50.006 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:25:50.006 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:50.006 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:25:50.006 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:50.006 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:25:50.006 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:25:50.006 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:25:50.006 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:25:50.007 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:25:50.007 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:25:50.007 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:50.008 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:25:50.008 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:50.008 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:25:50.008 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:25:50.008 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:50.008 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:50.008 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:25:50.008 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:50.012 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:25:50.012 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:25:50.012 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:25:50.012 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:50.012 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:50.012 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:50.012 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:50.012 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:25:50.040 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:25:50.090 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:50.092 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:50.092 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 50ms reading results.
2023-09-20 12:25:50.092 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:50.093 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:50.093 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:25:50.093 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:25:50.093 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:25:50.093 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:25:50.094 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 87.1094ms
2023-09-20 12:25:50.095 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:50.095 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" completed keep alive response.
2023-09-20 12:25:50.095 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:25:50.095 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:50.095 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:50.095 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 89.6778ms
2023-09-20 12:25:54.282 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:25:54.282 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:25:54.282 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:25:54.282 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:54.282 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:25:54.282 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:54.283 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:25:54.283 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:25:54.283 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:25:54.283 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:25:54.283 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:25:54.283 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:25:54.283 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:54.284 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:25:54.284 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:54.284 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:25:54.284 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:25:54.284 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:54.284 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:54.284 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:25:54.284 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:54.284 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:25:54.284 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:25:54.284 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:25:54.284 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:25:54.284 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000003": started reading request body.
2023-09-20 12:25:54.285 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000003": done reading request body.
2023-09-20 12:25:54.285 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:25:54.285 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:25:54.285 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:25:54.285 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:25:54.285 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:54.285 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:25:54.285 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:25:54.285 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:25:54.286 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:25:54.286 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:25:54.286 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:54.286 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:54.286 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:25:54.286 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:54.286 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:54.286 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:25:54.287 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:25:54.287 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:54.287 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:54.288 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:25:54.325 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:25:54.325 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:25:54.325 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:25:54.325 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:25:54.325 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 42.5305ms
2023-09-20 12:25:54.325 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:54.325 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" completed keep alive response.
2023-09-20 12:25:54.325 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:25:54.325 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:54.326 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:54.326 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 43.8918ms
2023-09-20 12:25:59.740 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:25:59.740 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:25:59.740 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:25:59.741 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:59.741 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:25:59.741 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:59.741 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:25:59.741 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:25:59.742 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:25:59.742 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:25:59.742 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:25:59.742 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:25:59.742 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:59.745 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:25:59.745 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:25:59.745 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:25:59.746 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:25:59.746 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:59.746 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:59.746 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:25:59.746 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:25:59.746 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:25:59.746 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:25:59.746 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:25:59.746 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:25:59.746 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000004": started reading request body.
2023-09-20 12:25:59.746 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000004": done reading request body.
2023-09-20 12:25:59.747 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:25:59.748 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:25:59.748 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:25:59.748 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:25:59.749 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:25:59.749 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:25:59.749 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:25:59.749 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:25:59.750 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:25:59.750 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:25:59.750 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:59.750 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:59.751 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:25:59.751 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:59.751 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:25:59.752 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:25:59.753 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:25:59.753 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:25:59.753 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:59.755 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:25:59.804 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:25:59.805 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:25:59.805 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:25:59.805 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:25:59.805 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 62.7482ms
2023-09-20 12:25:59.805 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:25:59.805 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" completed keep alive response.
2023-09-20 12:25:59.805 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:25:59.805 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:25:59.805 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:25:59.805 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 66.2045ms
2023-09-20 12:26:00.950 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:26:00.950 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:26:00.951 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:26:00.951 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:00.951 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:26:00.951 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:00.952 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:26:00.952 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:26:00.952 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:26:00.952 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:26:00.952 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:26:00.952 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:26:00.953 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:26:00.954 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:26:00.954 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:26:00.954 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:26:00.955 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:26:00.955 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:00.955 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:00.955 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:26:00.955 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:00.955 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:26:00.955 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:26:00.955 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:26:00.955 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:26:00.955 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000005": started reading request body.
2023-09-20 12:26:00.955 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000005": done reading request body.
2023-09-20 12:26:00.955 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:00.955 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:00.955 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:26:00.955 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:00.955 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:26:00.956 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:26:00.956 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:26:00.956 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:26:00.956 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:26:00.956 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:26:00.956 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:26:00.956 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:26:00.956 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:26:00.956 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:26:00.956 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:26:00.957 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:26:00.957 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:26:00.958 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:26:00.958 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:26:00.959 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:26:01.010 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:26:01.010 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:26:01.010 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:26:01.010 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:26:01.010 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 57.2397ms
2023-09-20 12:26:01.010 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:01.010 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" completed keep alive response.
2023-09-20 12:26:01.010 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:26:01.010 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:26:01.010 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:26:01.011 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 60.7217ms
2023-09-20 12:26:01.867 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:26:01.867 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:26:01.868 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:26:01.868 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:01.868 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:26:01.868 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:01.868 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:26:01.868 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:26:01.868 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:26:01.868 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:26:01.868 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:26:01.869 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:26:01.869 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:26:01.870 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:26:01.870 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:26:01.870 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:26:01.870 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:26:01.870 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:01.870 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:01.870 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:26:01.871 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:01.871 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:26:01.871 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:26:01.871 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:26:01.871 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:26:01.871 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000006": started reading request body.
2023-09-20 12:26:01.871 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000006": done reading request body.
2023-09-20 12:26:01.871 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:01.871 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:01.871 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:26:01.871 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:01.871 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:26:01.871 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:26:01.871 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:26:01.872 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:26:01.872 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:26:01.872 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:26:01.872 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:26:01.872 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:26:01.872 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:26:01.872 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:26:01.872 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:26:01.872 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:26:01.873 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:26:01.874 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:26:01.874 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:26:01.875 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:26:01.928 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:26:01.929 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:26:01.929 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:26:01.929 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:26:01.929 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 60.0049ms
2023-09-20 12:26:01.929 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:01.929 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" completed keep alive response.
2023-09-20 12:26:01.929 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:26:01.929 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:26:01.929 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:26:01.929 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 62.1419ms
2023-09-20 12:26:08.274 +02:00 [DBG] Connection id "0HMTPOD6NB3B4" received FIN.
2023-09-20 12:26:08.277 +02:00 [DBG] Connection id "0HMTPOD6NB3B4" disconnecting.
2023-09-20 12:26:08.278 +02:00 [DBG] Connection id "0HMTPOD6NB3B4" stopped.
2023-09-20 12:26:08.284 +02:00 [DBG] Connection id "0HMTPOD6NB3B4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:26:08.284 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:26:08.284 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:26:08.285 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:26:08.285 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:08.285 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:26:08.285 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:08.285 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:26:08.285 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:26:08.285 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:26:08.285 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:26:08.285 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:26:08.285 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:26:08.285 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:26:08.286 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:26:08.286 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:26:08.286 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:26:08.286 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:26:08.286 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:08.286 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:08.287 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:26:08.287 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:26:08.287 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:26:08.287 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:26:08.287 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:26:08.287 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:26:08.287 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000007": started reading request body.
2023-09-20 12:26:08.287 +02:00 [DBG] Connection id "0HMTPOD6NB3B7", Request id "0HMTPOD6NB3B7:00000007": done reading request body.
2023-09-20 12:26:08.287 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:08.287 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:08.287 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:26:08.287 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:26:08.287 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:26:08.287 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:26:08.287 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:26:08.287 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:26:08.287 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:26:08.288 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:26:08.288 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:26:08.288 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:26:08.288 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:26:08.288 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:26:08.288 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:26:08.288 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:26:08.289 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:26:08.289 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:26:08.289 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:26:08.290 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:26:08.328 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:26:08.328 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:26:08.328 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:26:08.328 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:26:08.328 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 42.7954ms
2023-09-20 12:26:08.328 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:26:08.328 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" completed keep alive response.
2023-09-20 12:26:08.328 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:26:08.328 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:26:08.328 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:26:08.328 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 44.1935ms
2023-09-20 12:26:51.672 +02:00 [DBG] Connection id "0HMTPOD6NB3B8" received FIN.
2023-09-20 12:26:51.672 +02:00 [DBG] Connection id "0HMTPOD6NB3B8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:26:51.672 +02:00 [DBG] Connection id "0HMTPOD6NB3B8" disconnecting.
2023-09-20 12:26:51.676 +02:00 [DBG] Connection id "0HMTPOD6NB3B8" stopped.
2023-09-20 12:27:21.675 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" received FIN.
2023-09-20 12:27:21.677 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" disconnecting.
2023-09-20 12:27:21.688 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" stopped.
2023-09-20 12:27:21.721 +02:00 [DBG] Connection id "0HMTPOD6NB3B7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:28:04.195 +02:00 [DBG] Connection id "0HMTPOD6NB3B9" accepted.
2023-09-20 12:28:04.216 +02:00 [DBG] Connection id "0HMTPOD6NB3B9" started.
2023-09-20 12:28:04.256 +02:00 [DBG] Connection 0HMTPOD6NB3B9 established using the following protocol: "Tls12"
2023-09-20 12:28:04.258 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:28:04.258 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:28:04.258 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:28:04.258 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:28:04.258 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:28:04.258 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:28:04.258 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:28:04.258 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:28:04.258 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:28:04.258 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:28:04.258 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:28:04.258 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:28:04.258 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:28:04.259 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:28:04.259 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:28:04.259 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:28:04.259 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:28:04.259 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:28:04.259 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:28:04.259 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:28:04.259 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:28:04.259 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:28:04.259 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:28:04.259 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:28:04.259 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:28:04.259 +02:00 [DBG] Connection id "0HMTPOD6NB3B9", Request id "0HMTPOD6NB3B9:00000001": started reading request body.
2023-09-20 12:28:04.259 +02:00 [DBG] Connection id "0HMTPOD6NB3B9", Request id "0HMTPOD6NB3B9:00000001": done reading request body.
2023-09-20 12:28:04.259 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:28:04.259 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:28:04.259 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:28:04.259 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:28:24.283 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:28:34.974 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:28:34.974 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:28:34.975 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:28:34.975 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:28:34.975 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:28:34.975 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:28:34.975 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:28:34.975 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:28:34.975 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:28:34.975 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:28:34.975 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:28:34.976 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:28:34.976 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:28:34.976 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:28:34.978 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:28:41.730 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:28:41.730 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:28:41.730 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:28:41.730 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:28:41.731 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 37472.774ms
2023-09-20 12:28:41.731 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:28:41.731 +02:00 [DBG] Connection id "0HMTPOD6NB3B9" completed keep alive response.
2023-09-20 12:28:41.731 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:28:41.731 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:28:41.731 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:28:41.731 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 37473.4594ms
2023-09-20 12:29:49.205 +02:00 [DBG] Connection id "0HMTPOD6NB3B9" received FIN.
2023-09-20 12:29:49.207 +02:00 [DBG] Connection id "0HMTPOD6NB3B9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:29:49.212 +02:00 [DBG] Connection id "0HMTPOD6NB3B9" disconnecting.
2023-09-20 12:29:49.212 +02:00 [DBG] Connection id "0HMTPOD6NB3B9" stopped.
2023-09-20 12:34:12.758 +02:00 [DBG] Connection id "0HMTPOD6NB3BA" accepted.
2023-09-20 12:34:12.791 +02:00 [DBG] Connection id "0HMTPOD6NB3BA" started.
2023-09-20 12:34:12.832 +02:00 [DBG] Connection 0HMTPOD6NB3BA established using the following protocol: "Tls12"
2023-09-20 12:34:12.839 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:34:12.839 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:34:12.839 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:34:12.839 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:34:12.839 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:34:12.839 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:34:12.839 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:34:12.839 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:34:12.839 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:34:12.840 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:34:12.840 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:34:12.840 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:34:12.840 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:34:12.841 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:34:12.841 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:34:12.841 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:34:12.841 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:34:12.841 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:34:12.841 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:34:12.841 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:34:12.841 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:34:12.841 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:34:12.841 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:34:12.841 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:34:12.841 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:34:12.841 +02:00 [DBG] Connection id "0HMTPOD6NB3BA", Request id "0HMTPOD6NB3BA:00000001": started reading request body.
2023-09-20 12:34:12.841 +02:00 [DBG] Connection id "0HMTPOD6NB3BA", Request id "0HMTPOD6NB3BA:00000001": done reading request body.
2023-09-20 12:34:12.842 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:34:12.842 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:34:12.842 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:34:12.842 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:34:12.842 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:34:33.047 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:34:39.664 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:34:44.468 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:34:44.469 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:34:44.469 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:34:44.469 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:34:44.538 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:34:44.540 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:34:44.540 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:34:44.540 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:34:44.540 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:34:44.541 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:34:44.542 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:34:46.902 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (2359ms).
2023-09-20 12:34:46.944 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:38:22.112 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:38:22.113 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:38:22.113 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:38:22.113 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:38:22.113 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 249273.6258ms
2023-09-20 12:38:22.113 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:38:22.113 +02:00 [DBG] Connection id "0HMTPOD6NB3BA" completed keep alive response.
2023-09-20 12:38:22.113 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:38:22.113 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:38:22.113 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:38:22.113 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 249274.9396ms
2023-09-20 12:38:22.115 +02:00 [DBG] Connection id "0HMTPOD6NB3BA" reset.
2023-09-20 12:38:22.115 +02:00 [DBG] Connection id "0HMTPOD6NB3BA" reset.
2023-09-20 12:38:22.115 +02:00 [DBG] Connection id "0HMTPOD6NB3BA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:38:22.115 +02:00 [DBG] Connection id "0HMTPOD6NB3BA" disconnecting.
2023-09-20 12:38:22.119 +02:00 [DBG] Connection id "0HMTPOD6NB3BA" stopped.
2023-09-20 12:40:40.401 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" accepted.
2023-09-20 12:40:40.402 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" started.
2023-09-20 12:40:40.514 +02:00 [DBG] Connection 0HMTPOD6NB3BB established using the following protocol: "Tls12"
2023-09-20 12:40:40.522 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:40:40.522 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:40:40.522 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:40:40.522 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:40:40.522 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:40:40.522 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:40:40.522 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:40:40.522 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:40:40.522 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:40:40.522 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:40:40.522 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:40:40.522 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:40:40.522 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:40:44.282 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:40:44.282 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:40:44.283 +02:00 [INF] Getting all villas
2023-09-20 12:40:44.283 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:40:44.283 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:40:44.283 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:40:44.283 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:40:44.283 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:40:44.283 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:40:44.283 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:40:44.284 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:40:44.288 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:40:44.340 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.393 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.393 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.393 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.393 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.394 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:44.394 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:40:44.394 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 103ms reading results.
2023-09-20 12:40:44.394 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:40:44.394 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:40:44.395 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:40:44.395 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:40:44.395 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:40:44.395 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:40:44.395 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3873.0837ms
2023-09-20 12:40:44.395 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:40:44.395 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" completed keep alive response.
2023-09-20 12:40:44.395 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:40:44.396 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:40:44.396 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:40:44.396 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 3873.9354ms
2023-09-20 12:40:46.470 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:40:46.471 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:40:46.471 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:40:46.471 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:40:46.471 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:40:46.471 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:40:46.471 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:40:46.472 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:40:46.472 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:40:46.472 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:40:46.472 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:40:46.472 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:40:46.472 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:40:46.473 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:40:46.473 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:40:46.473 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:40:46.473 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:40:46.473 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:40:46.473 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:40:46.473 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:40:46.473 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:40:46.474 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:40:46.474 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:40:46.474 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:40:46.474 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:40:46.474 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:40:46.474 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:40:46.474 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:40:46.474 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:40:46.529 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:40:46.587 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:46.587 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:40:46.588 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 12:40:46.590 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:40:46.590 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:40:46.591 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:40:46.591 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:40:46.591 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:40:46.591 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:40:46.591 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 119.5274ms
2023-09-20 12:40:46.591 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:40:46.591 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" completed keep alive response.
2023-09-20 12:40:46.591 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:40:46.592 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:40:46.592 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:40:46.592 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 121.4838ms
2023-09-20 12:40:51.300 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:40:51.300 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:40:51.300 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:40:51.300 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:40:51.300 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:40:51.300 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:40:51.300 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:40:51.300 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:40:51.300 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:40:51.300 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:40:51.300 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:40:51.300 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:40:51.300 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:40:51.301 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:40:51.301 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:40:51.301 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:40:51.302 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:40:51.302 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:40:51.302 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:40:51.302 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:40:51.302 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:40:51.302 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:40:51.302 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:40:51.302 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:40:51.302 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:40:51.302 +02:00 [DBG] Connection id "0HMTPOD6NB3BB", Request id "0HMTPOD6NB3BB:00000003": started reading request body.
2023-09-20 12:40:51.302 +02:00 [DBG] Connection id "0HMTPOD6NB3BB", Request id "0HMTPOD6NB3BB:00000003": done reading request body.
2023-09-20 12:40:51.302 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:40:51.302 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:40:51.302 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:40:51.302 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:40:51.302 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:40:53.727 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:40:53.727 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:40:53.727 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:40:53.727 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:40:53.727 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:40:53.727 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:40:53.728 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:40:53.728 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:40:53.728 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:40:53.728 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:40:53.728 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:40:53.729 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:40:53.730 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:40:53.730 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:40:53.732 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:41:04.848 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:41:04.848 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:41:04.848 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:41:04.848 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:41:04.848 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 13547.5376ms
2023-09-20 12:41:04.848 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:41:04.848 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" completed keep alive response.
2023-09-20 12:41:04.848 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:41:04.848 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:41:04.848 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:41:04.848 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 13548.6006ms
2023-09-20 12:42:10.412 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" received FIN.
2023-09-20 12:42:10.417 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:42:10.420 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" disconnecting.
2023-09-20 12:42:10.420 +02:00 [DBG] Connection id "0HMTPOD6NB3BB" stopped.
2023-09-20 12:42:43.337 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" accepted.
2023-09-20 12:42:43.338 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" started.
2023-09-20 12:42:43.365 +02:00 [DBG] Connection 0HMTPOD6NB3BC established using the following protocol: "Tls12"
2023-09-20 12:42:43.371 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:42:43.371 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:42:43.371 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:42:43.371 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:42:43.371 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:42:43.371 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:42:43.371 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:42:43.371 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:42:43.371 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:42:43.371 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:42:43.371 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:42:43.371 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:42:43.371 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:42:43.372 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:42:43.372 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:42:43.372 +02:00 [INF] Getting all villas
2023-09-20 12:42:43.372 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:42:43.372 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:42:43.372 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:42:43.372 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:42:43.372 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:42:43.372 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:42:43.372 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:43.373 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:42:43.375 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:42:43.424 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.474 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.474 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.474 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.475 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.475 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.475 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.475 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.475 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.475 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:43.475 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:43.475 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 76ms reading results.
2023-09-20 12:42:43.475 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:43.475 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:42:43.475 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:42:43.475 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:42:43.475 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:42:43.475 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:42:43.476 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 104.0385ms
2023-09-20 12:42:43.476 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:42:43.476 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:42:43.476 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:42:43.476 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:42:43.476 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:42:43.476 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 104.6793ms
2023-09-20 12:42:46.146 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:42:46.146 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:42:46.146 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:42:46.146 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:46.146 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:42:46.146 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:46.147 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:42:46.147 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:42:46.147 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:42:46.147 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:42:46.147 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:42:46.147 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:42:46.147 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:42:46.148 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:42:46.148 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:42:46.148 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:42:46.148 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:42:46.148 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:46.148 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:46.148 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:42:46.148 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:46.149 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:42:46.149 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:42:46.149 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:42:46.149 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:42:46.149 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:42:46.149 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:42:46.149 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:46.150 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:42:46.204 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:42:46.207 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:46.207 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:46.207 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:42:46.208 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:46.208 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:42:46.208 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:42:46.208 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:42:46.208 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:42:46.208 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:42:46.208 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 61.2543ms
2023-09-20 12:42:46.208 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:46.208 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:42:46.208 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:42:46.208 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:42:46.208 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:42:46.208 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 62.4334ms
2023-09-20 12:42:49.532 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:42:49.533 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:42:49.533 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:42:49.533 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:49.533 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:42:49.533 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:49.533 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:42:49.533 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:42:49.533 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:42:49.533 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:42:49.533 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:42:49.533 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:42:49.533 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:42:49.534 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:42:49.534 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:42:49.534 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:42:49.535 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:42:49.535 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:49.535 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:49.535 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:42:49.535 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:49.535 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:42:49.535 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:42:49.535 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:42:49.535 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:42:49.535 +02:00 [DBG] Connection id "0HMTPOD6NB3BC", Request id "0HMTPOD6NB3BC:00000003": started reading request body.
2023-09-20 12:42:49.535 +02:00 [DBG] Connection id "0HMTPOD6NB3BC", Request id "0HMTPOD6NB3BC:00000003": done reading request body.
2023-09-20 12:42:49.535 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:42:49.535 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:42:49.535 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:42:49.535 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:42:49.535 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:49.536 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:42:49.536 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:42:49.536 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:42:49.536 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:42:49.536 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:42:49.536 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:42:49.536 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:49.536 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:42:49.536 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:42:49.536 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:42:49.536 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:42:49.537 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:42:49.538 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:49.538 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:42:49.539 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:42:49.576 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:42:49.577 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:42:49.577 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:42:49.577 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:42:49.577 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 43.5264ms
2023-09-20 12:42:49.577 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:49.577 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:42:49.577 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:42:49.577 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:42:49.577 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:42:49.577 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 44.7324ms
2023-09-20 12:42:57.840 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112
2023-09-20 12:42:57.840 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:42:57.840 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:42:57.840 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:57.841 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:42:57.841 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:57.841 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:42:57.841 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:42:57.841 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:42:57.841 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:42:57.841 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:42:57.841 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:42:57.841 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:42:57.842 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:42:57.842 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:42:57.842 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:42:57.842 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:42:57.843 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:57.843 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:57.843 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:42:57.843 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:42:57.843 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:42:57.843 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:42:57.843 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:42:57.843 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:42:57.843 +02:00 [DBG] Connection id "0HMTPOD6NB3BC", Request id "0HMTPOD6NB3BC:00000004": started reading request body.
2023-09-20 12:42:57.843 +02:00 [DBG] Connection id "0HMTPOD6NB3BC", Request id "0HMTPOD6NB3BC:00000004": done reading request body.
2023-09-20 12:42:57.843 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:42:57.843 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:42:57.843 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:42:57.843 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:42:57.843 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:42:57.843 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:42:57.844 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:42:57.844 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:42:57.844 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:42:57.844 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:42:57.844 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:42:57.844 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:57.844 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:42:57.844 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:42:57.844 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:42:57.844 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:42:57.845 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:42:57.846 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:42:57.846 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:42:57.847 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:42:57.903 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:42:57.903 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:42:57.903 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:42:57.903 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:42:57.903 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 61.6637ms
2023-09-20 12:42:57.903 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:42:57.903 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:42:57.903 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:42:57.903 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:42:57.903 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:42:57.903 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 112 - 400 3838 application/json;+charset=utf-8 63.7136ms
2023-09-20 12:43:00.739 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:43:00.739 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:43:00.739 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:43:00.739 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:00.739 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:43:00.740 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:00.740 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:43:00.740 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:43:00.741 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:43:00.741 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:43:00.741 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:43:00.741 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:43:00.742 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:00.744 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:43:00.744 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:00.744 +02:00 [INF] Getting all villas
2023-09-20 12:43:00.745 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:43:00.745 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:43:00.746 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:43:00.746 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:00.746 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:00.746 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:00.746 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:00.747 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:43:00.782 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:43:00.814 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.815 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.815 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.815 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.815 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.815 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.816 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.816 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.816 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.817 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:00.817 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:00.817 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2023-09-20 12:43:00.817 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:00.818 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:00.818 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:43:00.818 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:43:00.819 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:43:00.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:43:00.820 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 78.5446ms
2023-09-20 12:43:00.820 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:00.820 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:43:00.820 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:43:00.820 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:00.820 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:00.821 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 82.0624ms
2023-09-20 12:43:04.956 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:43:04.956 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:43:04.957 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:43:04.957 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:04.957 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:43:04.957 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:04.958 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:43:04.958 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:43:04.959 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:43:04.959 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:43:04.959 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:43:04.959 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:43:04.960 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:04.963 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:43:04.964 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:04.964 +02:00 [INF] Getting all villas
2023-09-20 12:43:04.965 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:43:04.965 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:43:04.965 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:43:04.965 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:04.966 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:04.966 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:04.966 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:04.968 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:43:05.030 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:43:05.080 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:05.082 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:05.083 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2023-09-20 12:43:05.083 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:05.083 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:05.084 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:43:05.084 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:43:05.084 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:43:05.084 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:43:05.086 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 125.6706ms
2023-09-20 12:43:05.086 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:05.086 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:43:05.086 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:43:05.086 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:05.086 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:05.087 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 130.6436ms
2023-09-20 12:43:12.504 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:43:12.505 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:43:12.505 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:43:12.505 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:12.505 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:43:12.505 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:12.506 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:43:12.506 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:43:12.506 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:43:12.506 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:43:12.506 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:43:12.506 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:43:12.506 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:12.509 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:43:12.510 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:12.510 +02:00 [INF] Getting all villas
2023-09-20 12:43:12.510 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:43:12.510 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:43:12.510 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:43:12.510 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:12.510 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:12.511 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:12.511 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:12.513 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:43:12.526 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:43:12.658 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.659 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.659 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.660 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.660 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.660 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.661 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.661 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.662 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.662 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:12.662 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:12.662 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 58ms reading results.
2023-09-20 12:43:12.663 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:12.663 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:12.664 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:43:12.664 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:43:12.664 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:43:12.664 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:43:12.665 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 159.0257ms
2023-09-20 12:43:12.665 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:12.666 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:43:12.666 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:43:12.666 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:12.666 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:12.666 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 161.8862ms
2023-09-20 12:43:18.982 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:43:18.982 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:43:18.982 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:43:18.983 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:18.983 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:43:18.984 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:18.985 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:43:18.985 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:43:18.985 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:43:18.985 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:43:18.985 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:43:18.985 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:43:18.985 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:18.989 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:43:18.990 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:18.990 +02:00 [INF] Getting all villas
2023-09-20 12:43:18.990 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:43:18.990 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:43:18.990 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:43:18.990 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:18.990 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:18.990 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:18.990 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:18.991 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:43:19.106 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:19.142 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:19.142 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:43:19.143 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:19.143 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:19.143 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:43:19.143 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:43:19.143 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:43:19.143 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:43:19.143 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 158.0088ms
2023-09-20 12:43:19.143 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:43:19.143 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:43:19.143 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:43:19.143 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:19.143 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:19.144 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 161.6857ms
2023-09-20 12:43:23.487 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - -
2023-09-20 12:43:23.487 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:43:23.488 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:43:23.488 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:43:23.488 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:43:23.489 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:43:23.489 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:43:23.489 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:43:23.489 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:43:23.489 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:43:23.489 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:43:23.489 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:43:23.490 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:23.493 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:43:23.493 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:23.494 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:43:23.494 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:43:23.494 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:43:23.495 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:43:23.495 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:43:23.495 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:43:23.497 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:43:23.497 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:43:23.498 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:43:23.498 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-20 12:43:23.498 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-09-20 12:43:23.498 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:23.498 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:23.499 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:43:23.557 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 12:43:23.617 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:23.618 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:23.618 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 29ms reading results.
2023-09-20 12:43:23.622 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:23.622 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:23.623 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:43:23.623 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:43:23.623 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:43:23.623 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:43:23.623 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 133.9391ms
2023-09-20 12:43:23.624 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 12:43:23.624 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:43:23.624 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:43:23.624 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:23.624 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:23.624 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/14 - - - 200 181 application/json;+charset=utf-8 137.1125ms
2023-09-20 12:43:26.999 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 115
2023-09-20 12:43:26.999 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/14'
2023-09-20 12:43:27.000 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/14'
2023-09-20 12:43:27.002 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:43:27.002 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:43:27.002 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:43:27.003 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:43:27.003 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:43:27.003 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:43:27.003 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:43:27.003 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:43:27.003 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:43:27.003 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:27.004 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:43:27.004 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:43:27.004 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 12:43:27.004 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 12:43:27.004 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:43:27.004 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 12:43:27.004 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 12:43:27.004 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 12:43:27.004 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:43:27.004 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 12:43:27.004 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:43:27.004 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:43:27.004 +02:00 [DBG] Connection id "0HMTPOD6NB3BC", Request id "0HMTPOD6NB3BC:0000000A": started reading request body.
2023-09-20 12:43:27.004 +02:00 [DBG] Connection id "0HMTPOD6NB3BC", Request id "0HMTPOD6NB3BC:0000000A": done reading request body.
2023-09-20 12:43:27.005 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:43:27.005 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:43:27.005 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 12:43:27.005 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 12:43:27.005 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:43:27.005 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:43:27.005 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:43:27.005 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:43:27.005 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:43:27.005 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:43:27.005 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:27.119 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:27.121 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:43:27.121 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:27.122 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:43:27.122 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:43:27.123 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 12:43:27.124 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:43:27.124 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:27.127 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 12:43:27.193 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:43:27.193 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:43:27.193 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:43:27.193 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:43:27.193 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 190.5304ms
2023-09-20 12:43:27.193 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:43:27.193 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" completed keep alive response.
2023-09-20 12:43:27.193 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:43:27.194 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:43:27.194 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:43:27.194 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/14 application/json;+charset=utf-8 115 - 400 3838 application/json;+charset=utf-8 194.9993ms
2023-09-20 12:44:28.352 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" received FIN.
2023-09-20 12:44:28.354 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" disconnecting.
2023-09-20 12:44:28.355 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" stopped.
2023-09-20 12:44:28.357 +02:00 [DBG] Connection id "0HMTPOD6NB3BC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:44:36.742 +02:00 [DBG] Connection id "0HMTPOD6NB3BD" accepted.
2023-09-20 12:44:36.743 +02:00 [DBG] Connection id "0HMTPOD6NB3BD" started.
2023-09-20 12:44:36.772 +02:00 [DBG] Connection 0HMTPOD6NB3BD established using the following protocol: "Tls12"
2023-09-20 12:44:36.775 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:44:36.775 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:44:36.775 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:44:36.775 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:44:36.775 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:44:36.775 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:44:36.775 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:44:36.775 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:44:36.775 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:44:36.775 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:44:36.775 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:44:36.775 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:44:36.775 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:44:36.776 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:44:36.776 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:44:36.776 +02:00 [INF] Getting all villas
2023-09-20 12:44:36.776 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:44:36.776 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:44:36.776 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:44:36.776 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:44:36.776 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:44:36.777 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:44:36.777 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:44:36.777 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:44:36.833 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:44:36.886 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.887 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.887 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.887 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.887 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.887 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.887 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.888 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.888 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.888 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:44:36.888 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:44:36.888 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 29ms reading results.
2023-09-20 12:44:36.889 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:44:36.889 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:44:36.889 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:44:36.889 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:44:36.889 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:44:36.890 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:44:36.890 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 114.7761ms
2023-09-20 12:44:36.890 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:44:36.891 +02:00 [DBG] Connection id "0HMTPOD6NB3BD" completed keep alive response.
2023-09-20 12:44:36.891 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:44:36.891 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:44:36.891 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:44:36.891 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2288 application/json;+charset=utf-8 116.1864ms
2023-09-20 12:45:02.647 +02:00 [DBG] Connection id "0HMTPOD6NB3BE" accepted.
2023-09-20 12:45:02.650 +02:00 [DBG] Connection id "0HMTPOD6NB3BE" started.
2023-09-20 12:45:02.679 +02:00 [DBG] Connection 0HMTPOD6NB3BE established using the following protocol: "Tls12"
2023-09-20 12:45:02.683 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 114
2023-09-20 12:45:02.683 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:45:02.683 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:45:02.683 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:45:02.683 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:45:02.683 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:45:02.686 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:45:02.687 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:45:02.687 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:45:02.687 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:45:02.687 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:45:02.687 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:45:02.687 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:45:02.688 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:45:02.688 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:45:02.688 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 12:45:02.688 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 12:45:02.688 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:45:02.688 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:45:02.688 +02:00 [DBG] Connection id "0HMTPOD6NB3BE", Request id "0HMTPOD6NB3BE:00000001": started reading request body.
2023-09-20 12:45:02.688 +02:00 [DBG] Connection id "0HMTPOD6NB3BE", Request id "0HMTPOD6NB3BE:00000001": done reading request body.
2023-09-20 12:45:02.691 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:45:02.691 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:45:02.691 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 12:45:02.693 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:45:02.696 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 12:45:02.740 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 12:45:02.745 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:45:02.745 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:45:02.745 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:45:02.745 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:45:02.745 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:45:02.745 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:45:02.745 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:02.745 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 12:45:02.804 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 12:45:02.807 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:02.808 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:45:02.808 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:02.809 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:45:02.827 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:02.831 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:02.831 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:45:02.831 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:45:02.834 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:45:02.845 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:45:02.846 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:02.846 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:45:02.846 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:45:02.846 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:45:02.846 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 12:45:02.851 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 12:45:02.858 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 12:45:02.860 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:02.860 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2023-09-20 12:45:02.860 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:02.860 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:45:02.865 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:02.865 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 12:45:02.866 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:45:02.866 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:45:02.866 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:45:02.866 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:45:02.878 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[15])
2023-09-20 12:45:02.883 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/15 and 
2023-09-20 12:45:02.883 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/15
2023-09-20 12:45:02.884 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 196.9831ms
2023-09-20 12:45:02.884 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:45:02.884 +02:00 [DBG] Connection id "0HMTPOD6NB3BE" completed keep alive response.
2023-09-20 12:45:02.884 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:45:02.884 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:45:02.884 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:45:02.884 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 114 - 201 188 application/json;+charset=utf-8 201.4222ms
2023-09-20 12:45:02.889 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:45:02.889 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:45:02.889 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:45:02.889 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:45:02.889 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:45:02.889 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:45:02.889 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:45:02.889 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:45:02.889 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:45:02.889 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:45:02.890 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:45:02.890 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:45:02.890 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:45:02.890 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:45:02.890 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:45:02.890 +02:00 [INF] Getting all villas
2023-09-20 12:45:02.890 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:45:02.890 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:45:02.890 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:45:02.890 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:45:02.890 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:45:02.890 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:45:02.890 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:02.890 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:45:02.943 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:45:02.994 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:03.019 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:03.019 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:03.019 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:03.019 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:03.019 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:45:03.019 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:03.019 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 74ms reading results.
2023-09-20 12:45:03.019 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:45:03.019 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:45:03.019 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:45:03.019 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:45:03.019 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:45:03.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:45:03.020 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 130.1758ms
2023-09-20 12:45:03.020 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:45:03.020 +02:00 [DBG] Connection id "0HMTPOD6NB3BE" completed keep alive response.
2023-09-20 12:45:03.020 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:45:03.020 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:45:03.020 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:45:03.020 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1818 application/json;+charset=utf-8 130.8077ms
2023-09-20 12:45:43.353 +02:00 [DBG] Connection id "0HMTPOD6NB3BD" received FIN.
2023-09-20 12:45:43.354 +02:00 [DBG] Connection id "0HMTPOD6NB3BD" disconnecting.
2023-09-20 12:45:43.354 +02:00 [DBG] Connection id "0HMTPOD6NB3BD" stopped.
2023-09-20 12:45:43.357 +02:00 [DBG] Connection id "0HMTPOD6NB3BD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:46:17.623 +02:00 [DBG] Connection id "0HMTPOD6NB3BE" received FIN.
2023-09-20 12:46:17.624 +02:00 [DBG] Connection id "0HMTPOD6NB3BE" disconnecting.
2023-09-20 12:46:17.624 +02:00 [DBG] Connection id "0HMTPOD6NB3BE" stopped.
2023-09-20 12:46:17.649 +02:00 [DBG] Connection id "0HMTPOD6NB3BE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:47:58.088 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" accepted.
2023-09-20 12:47:58.113 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" started.
2023-09-20 12:47:58.143 +02:00 [DBG] Connection 0HMTPOD6NB3BF established using the following protocol: "Tls12"
2023-09-20 12:47:58.150 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:47:58.150 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:47:58.150 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:47:58.150 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:47:58.150 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:47:58.150 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:47:58.150 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:47:58.150 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:47:58.150 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:47:58.150 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:47:58.150 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:47:58.150 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:47:58.150 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:47:58.151 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:47:58.152 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:47:58.152 +02:00 [INF] Getting all villas
2023-09-20 12:47:58.152 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:47:58.152 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:47:58.152 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:47:58.152 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:47:58.152 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:47:58.152 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:47:58.152 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:47:58.152 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:47:58.204 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:47:58.278 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:47:58.305 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:47:58.305 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:47:58.305 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:47:58.305 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:47:58.305 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:47:58.305 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:47:58.305 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 75ms reading results.
2023-09-20 12:47:58.306 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:47:58.306 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:47:58.306 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:47:58.306 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:47:58.306 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:47:58.306 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:47:58.307 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 156.6087ms
2023-09-20 12:47:58.307 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:47:58.307 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" completed keep alive response.
2023-09-20 12:47:58.307 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:47:58.307 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:47:58.307 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:47:58.308 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1818 application/json;+charset=utf-8 157.8310ms
2023-09-20 12:48:06.158 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116
2023-09-20 12:48:06.158 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:48:06.158 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:48:06.158 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:48:06.158 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:48:06.158 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:48:06.158 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:48:06.158 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:48:06.159 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:48:06.159 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:48:06.159 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:48:06.159 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:48:06.159 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:48:06.159 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:48:06.160 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:48:06.160 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 12:48:06.160 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 12:48:06.160 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:48:06.160 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:48:06.160 +02:00 [DBG] Connection id "0HMTPOD6NB3BF", Request id "0HMTPOD6NB3BF:00000002": started reading request body.
2023-09-20 12:48:06.160 +02:00 [DBG] Connection id "0HMTPOD6NB3BF", Request id "0HMTPOD6NB3BF:00000002": done reading request body.
2023-09-20 12:48:06.160 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:48:06.160 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:48:06.160 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 12:48:06.160 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:48:06.162 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:48:06.162 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:48:06.162 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:48:06.162 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:48:06.162 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:48:06.162 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:48:06.162 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.162 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 12:48:06.216 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 12:48:06.240 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.241 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 23ms reading results.
2023-09-20 12:48:06.241 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.241 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:48:06.242 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.242 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.243 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:48:06.243 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:48:06.243 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:48:06.243 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:48:06.243 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.243 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:48:06.243 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:48:06.243 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:48:06.243 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 12:48:06.322 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 12:48:06.345 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 12:48:06.345 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.345 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:48:06.345 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.346 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:48:06.346 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.346 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 12:48:06.346 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:48:06.346 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:48:06.346 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:48:06.346 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:48:06.346 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[16])
2023-09-20 12:48:06.346 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/16 and 
2023-09-20 12:48:06.347 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/16
2023-09-20 12:48:06.347 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 188.1337ms
2023-09-20 12:48:06.347 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:48:06.347 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" completed keep alive response.
2023-09-20 12:48:06.347 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:48:06.347 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:48:06.347 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:48:06.347 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116 - 201 190 application/json;+charset=utf-8 189.3009ms
2023-09-20 12:48:06.353 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:48:06.354 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:48:06.354 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:48:06.354 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:48:06.354 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:48:06.354 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:48:06.354 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:48:06.354 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:48:06.354 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:48:06.354 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:48:06.354 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:48:06.354 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:48:06.354 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:48:06.355 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:48:06.355 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:48:06.355 +02:00 [INF] Getting all villas
2023-09-20 12:48:06.355 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:48:06.355 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:48:06.355 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:48:06.355 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:48:06.355 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:48:06.355 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:48:06.355 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.356 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:48:06.358 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:48:06.359 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.381 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.432 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.432 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.432 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.432 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.433 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:48:06.433 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.433 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 73ms reading results.
2023-09-20 12:48:06.433 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:48:06.433 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:48:06.433 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:48:06.433 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:48:06.433 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:48:06.433 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:48:06.434 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 79.4103ms
2023-09-20 12:48:06.434 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:48:06.434 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" completed keep alive response.
2023-09-20 12:48:06.434 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:48:06.434 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:48:06.434 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:48:06.434 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1943 application/json;+charset=utf-8 80.3708ms
2023-09-20 12:49:13.070 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" received FIN.
2023-09-20 12:49:13.106 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" disconnecting.
2023-09-20 12:49:13.110 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 12:49:13.117 +02:00 [DBG] Connection id "0HMTPOD6NB3BF" stopped.
2023-09-20 12:58:45.143 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" accepted.
2023-09-20 12:58:45.144 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" started.
2023-09-20 12:58:45.269 +02:00 [DBG] Connection 0HMTPOD6NB3BG established using the following protocol: "Tls12"
2023-09-20 12:58:45.276 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:58:45.276 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:58:45.276 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:58:45.276 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:58:45.276 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:58:45.276 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:58:45.277 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:58:45.277 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:58:45.277 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:58:45.277 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:58:45.277 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:58:45.277 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:58:45.277 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:58:45.277 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:58:45.277 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:58:45.277 +02:00 [INF] Getting all villas
2023-09-20 12:58:45.277 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:58:45.277 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:58:45.277 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:58:45.278 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:58:45.278 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:58:45.278 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:58:45.282 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:45.309 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:58:45.311 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:58:45.311 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:45.311 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:45.311 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:45.311 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:45.311 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:45.311 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:45.311 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:58:45.312 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:45.312 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:58:45.312 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:58:45.312 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:58:45.312 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:58:45.312 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:58:45.312 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 35.3502ms
2023-09-20 12:58:45.312 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:58:45.312 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" completed keep alive response.
2023-09-20 12:58:45.312 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:58:45.312 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:58:45.312 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:58:45.312 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 36.1574ms
2023-09-20 12:58:50.888 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 114
2023-09-20 12:58:50.889 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:58:50.889 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:58:50.889 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:58:50.889 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:58:50.889 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:58:50.889 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:58:50.889 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:58:50.889 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:58:50.889 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:58:50.889 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:58:50.889 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:58:50.889 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:58:50.890 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:58:50.890 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:58:50.891 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 12:58:50.891 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 12:58:50.891 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:58:50.891 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 12:58:50.891 +02:00 [DBG] Connection id "0HMTPOD6NB3BG", Request id "0HMTPOD6NB3BG:00000002": started reading request body.
2023-09-20 12:58:50.891 +02:00 [DBG] Connection id "0HMTPOD6NB3BG", Request id "0HMTPOD6NB3BG:00000002": done reading request body.
2023-09-20 12:58:50.891 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:58:50.891 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:58:50.891 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 12:58:50.891 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 12:58:50.892 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:58:50.892 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:58:50.892 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:58:50.892 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:58:50.892 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:58:50.892 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:58:50.892 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:50.893 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 12:58:50.943 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 12:58:50.994 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:51.015 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 47ms reading results.
2023-09-20 12:58:51.015 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:51.015 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:58:51.016 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.016 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.016 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 12:58:51.016 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 12:58:51.016 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 12:58:51.016 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:58:51.016 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:51.016 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:58:51.016 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:58:51.016 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:58:51.016 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 12:58:51.020 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 12:58:51.021 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 12:58:51.021 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:51.021 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 12:58:51.021 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:51.021 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:58:51.021 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.021 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 12:58:51.021 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:58:51.021 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:58:51.021 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:58:51.022 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:58:51.022 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[17])
2023-09-20 12:58:51.022 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/17 and 
2023-09-20 12:58:51.022 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/17
2023-09-20 12:58:51.022 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 132.5893ms
2023-09-20 12:58:51.022 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 12:58:51.022 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" completed keep alive response.
2023-09-20 12:58:51.022 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:58:51.022 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:58:51.022 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:58:51.022 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 114 - 201 188 application/json;+charset=utf-8 134.3312ms
2023-09-20 12:58:51.028 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 12:58:51.028 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 12:58:51.028 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 12:58:51.028 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:58:51.028 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 12:58:51.028 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:58:51.028 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 12:58:51.028 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 12:58:51.028 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 12:58:51.028 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 12:58:51.028 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 12:58:51.028 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 12:58:51.028 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:58:51.029 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 12:58:51.029 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 12:58:51.029 +02:00 [INF] Getting all villas
2023-09-20 12:58:51.029 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 12:58:51.029 +02:00 [DBG] Creating DbConnection.
2023-09-20 12:58:51.029 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 12:58:51.029 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:58:51.029 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 12:58:51.029 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:58:51.029 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:51.029 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:58:51.055 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 12:58:51.108 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.109 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 12:58:51.109 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:51.109 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 26ms reading results.
2023-09-20 12:58:51.109 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 12:58:51.109 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:58:51.109 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 12:58:51.109 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 12:58:51.110 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 12:58:51.110 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 12:58:51.110 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 81.5361ms
2023-09-20 12:58:51.110 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 12:58:51.110 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" completed keep alive response.
2023-09-20 12:58:51.110 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 12:58:51.110 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 12:58:51.110 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 12:58:51.110 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1818 application/json;+charset=utf-8 82.4186ms
2023-09-20 13:00:00.127 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" received FIN.
2023-09-20 13:00:00.129 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" disconnecting.
2023-09-20 13:00:00.130 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" stopped.
2023-09-20 13:00:00.156 +02:00 [DBG] Connection id "0HMTPOD6NB3BG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:02:01.633 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" accepted.
2023-09-20 13:02:01.634 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" started.
2023-09-20 13:02:01.713 +02:00 [DBG] Connection 0HMTPOD6NB3BH established using the following protocol: "Tls12"
2023-09-20 13:02:01.719 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:02:01.719 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:02:01.719 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:02:01.719 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:02:01.719 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:02:01.720 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:02:01.720 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:02:01.720 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:02:01.720 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:02:01.720 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:02:01.720 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:02:01.720 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:02:01.720 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:01.720 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:02:01.720 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:01.720 +02:00 [INF] Getting all villas
2023-09-20 13:02:01.721 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:02:01.721 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:02:01.721 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:02:01.721 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:01.721 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:01.721 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:01.721 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:01.721 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:02:01.723 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:02:01.749 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:01.749 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:01.750 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:01.801 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:01.801 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:01.802 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:01.802 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:01.802 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 78ms reading results.
2023-09-20 13:02:01.802 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:01.802 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:01.802 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:02:01.802 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:02:01.802 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:02:01.802 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:02:01.802 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 82.7174ms
2023-09-20 13:02:01.802 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:02:01.803 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" completed keep alive response.
2023-09-20 13:02:01.803 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:02:01.803 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:01.803 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:01.803 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1818 application/json;+charset=utf-8 83.4165ms
2023-09-20 13:02:03.673 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - -
2023-09-20 13:02:03.673 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:02:03.673 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:02:03.673 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:03.673 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:02:03.674 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:03.674 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:02:03.674 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:02:03.674 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:02:03.674 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:02:03.674 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:02:03.674 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:02:03.674 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:03.675 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:02:03.675 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:03.675 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:03.675 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:02:03.675 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:03.676 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:03.676 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:03.676 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:03.676 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:02:03.676 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:02:03.676 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:02:03.676 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:03.676 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:03.676 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:03.676 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:03.677 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:02:03.730 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:02:03.856 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:03.856 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:03.856 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 49ms reading results.
2023-09-20 13:02:03.856 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:03.856 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:03.857 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:02:03.857 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:02:03.857 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:02:03.857 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:02:03.857 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 183.1977ms
2023-09-20 13:02:03.857 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:03.857 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" completed keep alive response.
2023-09-20 13:02:03.857 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:02:03.857 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:03.857 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:03.858 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - - - 200 188 application/json;+charset=utf-8 184.6595ms
2023-09-20 13:02:07.776 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119
2023-09-20 13:02:07.777 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:02:07.777 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:02:07.777 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:07.777 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:02:07.777 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:07.777 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:02:07.777 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:02:07.777 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:02:07.777 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:02:07.777 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:02:07.777 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:02:07.777 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:07.778 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:02:07.778 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:07.778 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:07.778 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:02:07.778 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:07.778 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:07.778 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:07.779 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:07.779 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:07.779 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:02:07.779 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:07.779 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:07.779 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000003": started reading request body.
2023-09-20 13:02:07.779 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000003": done reading request body.
2023-09-20 13:02:07.779 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:07.779 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:07.779 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:07.779 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:07.780 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:07.780 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:02:07.780 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:02:07.780 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:02:07.780 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:02:07.780 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:02:07.780 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:07.780 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:07.780 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:02:07.780 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:07.780 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:07.781 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:02:07.781 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:02:07.782 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:07.782 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:07.783 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:02:07.822 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:02:07.822 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:02:07.822 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:02:07.822 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:02:07.822 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 45.0407ms
2023-09-20 13:02:07.822 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:07.822 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" completed keep alive response.
2023-09-20 13:02:07.822 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:02:07.822 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:07.822 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:07.822 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119 - 400 3838 application/json;+charset=utf-8 46.2027ms
2023-09-20 13:02:11.688 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119
2023-09-20 13:02:11.689 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:02:11.689 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:02:11.689 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:11.689 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:02:11.690 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:11.690 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:02:11.690 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:02:11.690 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:02:11.690 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:02:11.690 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:02:11.690 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:02:11.690 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:11.691 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:02:11.691 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:11.691 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:11.691 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:02:11.692 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:11.692 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:11.692 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:11.692 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:11.692 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:11.692 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:02:11.692 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:11.692 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:11.692 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000004": started reading request body.
2023-09-20 13:02:11.692 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000004": done reading request body.
2023-09-20 13:02:11.692 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:11.692 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:11.692 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:11.692 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:11.692 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:11.692 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:02:11.693 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:02:11.693 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:02:11.693 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:02:11.693 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:02:11.693 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:11.693 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:11.693 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:02:11.693 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:11.693 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:11.694 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:02:11.694 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:02:11.695 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:11.695 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:11.696 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:02:11.755 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:02:11.755 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:02:11.755 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:02:11.755 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:02:11.755 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 65.2542ms
2023-09-20 13:02:11.755 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:11.756 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" completed keep alive response.
2023-09-20 13:02:11.756 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:02:11.756 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:11.756 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:11.756 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119 - 400 3838 application/json;+charset=utf-8 67.4235ms
2023-09-20 13:02:12.683 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119
2023-09-20 13:02:12.684 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:02:12.684 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:02:12.684 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:12.684 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:02:12.684 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:12.685 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:02:12.685 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:02:12.685 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:02:12.685 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:02:12.685 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:02:12.685 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:02:12.685 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:12.686 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:02:12.686 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:12.686 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:12.686 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:02:12.686 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:12.686 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:12.686 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:12.686 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:12.686 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:12.686 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:02:12.686 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:12.686 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:12.686 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000005": started reading request body.
2023-09-20 13:02:12.686 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000005": done reading request body.
2023-09-20 13:02:12.687 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:12.687 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:12.687 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:12.687 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:12.687 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:12.687 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:02:12.687 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:02:12.687 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:02:12.687 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:02:12.687 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:02:12.688 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:12.688 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:12.688 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:02:12.688 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:12.688 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:12.688 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:02:12.689 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:02:12.690 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:12.690 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:12.691 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:02:12.746 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:02:12.746 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:02:12.746 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:02:12.746 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:02:12.746 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 61.2512ms
2023-09-20 13:02:12.746 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:12.746 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" completed keep alive response.
2023-09-20 13:02:12.746 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:02:12.746 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:12.746 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:12.746 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119 - 400 3838 application/json;+charset=utf-8 63.9012ms
2023-09-20 13:02:13.446 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119
2023-09-20 13:02:13.446 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:02:13.446 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:02:13.447 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:13.450 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:02:13.450 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:13.450 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:02:13.451 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:02:13.451 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:02:13.451 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:02:13.451 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:02:13.451 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:02:13.451 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:13.452 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:02:13.452 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:13.453 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:13.453 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:02:13.453 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:13.453 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:13.453 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:13.453 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:13.453 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:13.453 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:02:13.453 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:13.453 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:13.453 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000006": started reading request body.
2023-09-20 13:02:13.453 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000006": done reading request body.
2023-09-20 13:02:13.453 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:13.453 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:13.453 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:13.454 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:13.454 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:02:13.454 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:02:13.454 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:02:13.454 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:02:13.454 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:02:13.454 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:02:13.454 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:13.454 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:13.455 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:02:13.455 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:13.455 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:02:13.455 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:02:13.456 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:02:13.456 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:02:13.456 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:13.457 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:02:13.509 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:02:13.509 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:02:13.509 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:02:13.510 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:02:13.510 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 58.5607ms
2023-09-20 13:02:13.510 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:13.510 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" completed keep alive response.
2023-09-20 13:02:13.510 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:02:13.510 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:02:13.510 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:02:13.510 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119 - 400 3838 application/json;+charset=utf-8 64.4356ms
2023-09-20 13:02:37.008 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119
2023-09-20 13:02:37.008 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:02:37.008 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:02:37.009 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:37.009 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:02:37.009 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:02:37.009 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:02:37.009 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:02:37.009 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:02:37.010 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:02:37.010 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:02:37.010 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:02:37.010 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:37.012 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:02:37.012 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:02:37.012 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:37.012 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:02:37.012 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:37.012 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:37.012 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:02:37.012 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:02:37.012 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:37.012 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:02:37.012 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:37.013 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:02:37.013 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000007": started reading request body.
2023-09-20 13:02:37.013 +02:00 [DBG] Connection id "0HMTPOD6NB3BH", Request id "0HMTPOD6NB3BH:00000007": done reading request body.
2023-09-20 13:02:37.013 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:37.013 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:02:37.013 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:02:37.013 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:03:35.073 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:04:26.651 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" received FIN.
2023-09-20 13:04:26.678 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:04:26.715 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:04:26.715 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" disconnecting.
2023-09-20 13:04:26.715 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:04:26.753 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:04:26.772 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:04:26.782 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-20 13:04:26.794 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:04:26.803 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:04:26.823 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:04:26.833 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2023-09-20 13:04:26.842 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2023-09-20 13:04:26.852 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:04:26.862 +02:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:04:26.871 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:04:26.880 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (8ms).
2023-09-20 13:04:26.888 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:04.956 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" accepted.
2023-09-20 13:05:04.956 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" started.
2023-09-20 13:05:04.986 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:04.986 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:04.986 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:04.986 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:04.986 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 147975.5882ms
2023-09-20 13:05:04.986 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:04.986 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:04.986 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:04.986 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:04.986 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119 - 400 3838 application/json;+charset=utf-8 147977.7111ms
2023-09-20 13:05:04.986 +02:00 [DBG] Connection id "0HMTPOD6NB3BH" stopped.
2023-09-20 13:05:05.012 +02:00 [DBG] Connection 0HMTPOD6NB3BI established using the following protocol: "Tls12"
2023-09-20 13:05:05.014 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:05:05.014 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:05:05.014 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:05:05.014 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:05:05.014 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:05.014 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:05:05.014 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:05.014 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:05.014 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:05.014 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:05.015 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:05.015 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:05.015 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:05.015 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:05.015 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:05.015 +02:00 [INF] Getting all villas
2023-09-20 13:05:05.015 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:05.015 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:05.015 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:05.015 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:05.015 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:05.015 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:05.015 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:05.016 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:05:05.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:05:05.018 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:05.020 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:05.020 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:05.020 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:05.020 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:05.020 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:05.020 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:05.020 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2023-09-20 13:05:05.020 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:05.020 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:05.021 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:05.021 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:05.021 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:05.021 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:05.021 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 6.2267ms
2023-09-20 13:05:05.021 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:05:05.021 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:05.021 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:05.021 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:05.021 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:05.021 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1818 application/json;+charset=utf-8 6.8672ms
2023-09-20 13:05:07.293 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/1 - -
2023-09-20 13:05:07.295 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:07.295 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:07.295 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:07.295 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:07.296 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:07.296 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:07.296 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:07.296 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:07.296 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:07.296 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:07.296 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:07.296 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:07.298 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:07.298 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:07.298 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:07.299 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:07.299 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:07.299 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:07.300 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:07.300 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:07.300 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:07.300 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:07.300 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:07.300 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:07.300 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:07.301 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:07.301 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:07.301 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:05:07.306 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:05:07.362 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:07.362 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:07.363 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 26ms reading results.
2023-09-20 13:05:07.420 +02:00 [DBG] Connection id "0HMTPOD6NB3BJ" accepted.
2023-09-20 13:05:07.420 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:07.426 +02:00 [DBG] Connection id "0HMTPOD6NB3BJ" started.
2023-09-20 13:05:07.426 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (6ms).
2023-09-20 13:05:07.427 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:07.427 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:07.427 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:07.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:07.427 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 130.984ms
2023-09-20 13:05:07.427 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:07.427 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:07.427 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:07.427 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:07.428 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:07.428 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/1 - - - 200 386 application/json;+charset=utf-8 134.5647ms
2023-09-20 13:05:07.431 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/1 - -
2023-09-20 13:05:07.431 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:07.431 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:07.431 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:07.431 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:07.431 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:07.431 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:07.431 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:07.431 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:07.431 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:07.431 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:07.431 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:07.431 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:07.432 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:07.432 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:07.432 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:07.432 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:07.432 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:07.432 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:07.432 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:07.432 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:07.432 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:07.432 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:07.432 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:07.432 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:07.432 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:07.432 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:07.433 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:07.433 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:05:07.526 +02:00 [DBG] Connection 0HMTPOD6NB3BJ established using the following protocol: "Tls12"
2023-09-20 13:05:07.535 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:05:07.566 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:07.567 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:07.567 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 13:05:07.567 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:07.567 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:07.567 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:07.567 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:07.567 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:07.567 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:07.568 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 136.5425ms
2023-09-20 13:05:07.568 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:07.568 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:07.568 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:07.568 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:07.568 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:07.568 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/1 - - - 200 386 application/json;+charset=utf-8 137.4002ms
2023-09-20 13:05:10.745 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:05:10.745 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:10.745 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:10.745 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:10.745 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:10.746 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:10.746 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:10.746 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:10.746 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:10.746 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:10.746 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:10.746 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:10.746 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:10.747 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:10.748 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:10.748 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:10.748 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:10.748 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:10.748 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:10.748 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:10.748 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:10.748 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:10.748 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:10.748 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:10.748 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:10.748 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000004": started reading request body.
2023-09-20 13:05:10.748 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000004": done reading request body.
2023-09-20 13:05:10.749 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:10.749 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:10.749 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:10.749 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:14.858 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:15.545 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:15.545 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:15.545 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:15.546 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:15.546 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:15.546 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:15.546 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:15.546 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:15.546 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:15.546 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:15.547 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:15.548 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:15.548 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:15.548 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:15.550 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:18.937 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:18.938 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:18.938 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:18.938 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:18.938 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 8191.6856ms
2023-09-20 13:05:18.938 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:18.938 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:18.938 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:18.938 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:18.938 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:18.938 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322 - 400 3838 application/json;+charset=utf-8 8193.8597ms
2023-09-20 13:05:24.213 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:05:24.218 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:24.219 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:24.219 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:24.219 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:24.219 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:24.220 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:24.220 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:24.220 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:24.220 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:24.220 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:24.220 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:24.220 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:24.221 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:24.221 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:24.221 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:24.221 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:24.221 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:24.221 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:24.221 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:24.221 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:24.222 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:24.222 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:24.222 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:24.222 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:24.222 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000005": started reading request body.
2023-09-20 13:05:24.222 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000005": done reading request body.
2023-09-20 13:05:24.222 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:24.222 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:24.222 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:24.222 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:24.222 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:24.222 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:24.222 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:24.222 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:24.223 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:24.223 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:24.223 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:24.223 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:24.223 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:24.223 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:24.223 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:24.223 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:24.224 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:24.224 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:24.224 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:24.226 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:24.279 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:24.279 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:24.279 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:24.279 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:24.279 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 59.3893ms
2023-09-20 13:05:24.279 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:24.280 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:24.280 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:24.280 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:24.280 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:24.280 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322 - 400 3838 application/json;+charset=utf-8 66.8171ms
2023-09-20 13:05:25.012 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:05:25.013 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:25.013 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:25.013 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:25.013 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:25.016 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:25.017 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:25.017 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:25.018 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:25.018 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:25.018 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:25.019 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:25.019 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:25.021 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:25.021 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:25.021 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:25.022 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:25.022 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:25.022 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:25.022 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:25.022 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:25.022 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:25.022 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:25.022 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:25.022 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:25.022 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000006": started reading request body.
2023-09-20 13:05:25.022 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000006": done reading request body.
2023-09-20 13:05:25.022 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:25.022 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:25.022 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:25.022 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:25.023 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:25.023 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:25.023 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:25.023 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:25.023 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:25.023 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:25.023 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:25.023 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:25.023 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:25.024 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:25.024 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:25.024 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:25.024 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:25.025 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:25.025 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:25.026 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:25.080 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:25.080 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:25.080 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:25.080 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:25.080 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 60.7868ms
2023-09-20 13:05:25.080 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:25.080 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:25.080 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:25.080 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:25.080 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:25.080 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322 - 400 3838 application/json;+charset=utf-8 68.3090ms
2023-09-20 13:05:25.475 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:05:25.476 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:25.476 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:25.476 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:25.476 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:25.476 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:25.477 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:25.477 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:25.477 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:25.477 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:25.477 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:25.477 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:25.477 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:25.479 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:25.480 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:25.480 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:25.480 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:25.481 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:25.481 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:25.481 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:25.481 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:25.481 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:25.481 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:25.481 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:25.481 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:25.482 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000007": started reading request body.
2023-09-20 13:05:25.482 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000007": done reading request body.
2023-09-20 13:05:25.482 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:25.482 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:25.482 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:25.483 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:25.483 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:25.483 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:25.484 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:25.484 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:25.485 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:25.486 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:25.486 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:25.486 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:25.486 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:25.487 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:25.487 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:25.487 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:25.491 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:25.492 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:25.494 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (1ms).
2023-09-20 13:05:25.496 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:25.545 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:25.545 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:25.545 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:25.545 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:25.546 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 68.249ms
2023-09-20 13:05:25.546 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:25.546 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:25.546 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:25.546 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:25.546 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:25.546 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322 - 400 3838 application/json;+charset=utf-8 70.6776ms
2023-09-20 13:05:26.049 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:05:26.050 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:26.050 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:26.050 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:26.050 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:26.050 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:26.051 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:26.051 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:26.051 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:26.051 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:26.051 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:26.051 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:26.051 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:26.052 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:26.052 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:26.052 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:26.052 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:26.053 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:26.053 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:26.053 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:26.053 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:26.053 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:26.053 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:26.053 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:26.053 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:26.053 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000008": started reading request body.
2023-09-20 13:05:26.053 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000008": done reading request body.
2023-09-20 13:05:26.053 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:26.053 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:26.053 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:26.053 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:26.053 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:26.054 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:26.054 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:26.054 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:26.054 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:26.054 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:26.054 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:26.054 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:26.054 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:26.054 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:26.054 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:26.055 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:26.055 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:26.056 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:26.056 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:26.057 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:26.108 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:26.109 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:26.109 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:26.109 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:26.109 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 57.9322ms
2023-09-20 13:05:26.109 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:26.109 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:26.109 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:26.109 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:26.109 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:26.109 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322 - 400 3838 application/json;+charset=utf-8 60.3307ms
2023-09-20 13:05:26.521 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:05:26.522 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:26.522 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:26.522 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:26.523 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:26.523 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:26.523 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:26.523 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:26.524 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:26.524 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:26.524 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:26.524 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:26.524 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:26.526 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:26.527 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:26.527 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:26.527 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:26.527 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:26.527 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:26.527 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:26.527 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:26.527 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:26.527 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:26.527 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:26.527 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:26.528 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000009": started reading request body.
2023-09-20 13:05:26.528 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:00000009": done reading request body.
2023-09-20 13:05:26.528 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:26.528 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:26.528 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:26.528 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:26.528 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:26.528 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:26.528 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:26.528 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:26.529 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:26.529 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:26.529 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:26.529 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:26.529 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:26.529 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:26.529 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:26.529 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:26.530 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:26.530 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:26.530 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:26.532 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:26.583 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:26.583 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:26.583 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:26.584 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:26.584 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 59.841ms
2023-09-20 13:05:26.584 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:26.584 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:26.584 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:26.584 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:26.584 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:26.584 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322 - 400 3838 application/json;+charset=utf-8 63.0814ms
2023-09-20 13:05:35.594 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 324
2023-09-20 13:05:35.594 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:35.594 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:35.595 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:35.595 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:35.595 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:35.596 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:35.596 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:35.596 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:35.596 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:35.596 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:35.598 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:35.598 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:35.600 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:35.601 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:35.601 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:35.601 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:35.601 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:35.601 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:35.601 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:35.601 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:35.601 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:35.602 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:35.602 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:35.602 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:35.602 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:0000000A": started reading request body.
2023-09-20 13:05:35.602 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:0000000A": done reading request body.
2023-09-20 13:05:35.604 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:35.604 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:35.604 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:35.604 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:35.604 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:35.604 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:35.604 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:35.605 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:35.605 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:35.605 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:35.605 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:35.824 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:35.828 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:35.828 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:35.828 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:35.828 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:35.830 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:35.831 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:35.831 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:35.833 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:35.899 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:35.899 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:35.899 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:35.899 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:35.899 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 301.2957ms
2023-09-20 13:05:35.899 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:35.899 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:35.899 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:35.899 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:35.899 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:35.899 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 324 - 400 3838 application/json;+charset=utf-8 305.3429ms
2023-09-20 13:05:36.425 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 324
2023-09-20 13:05:36.425 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:36.426 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:36.426 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:36.426 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:36.426 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:36.427 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:36.427 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:36.427 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:36.428 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:36.428 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:36.428 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:36.429 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:36.431 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:36.431 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:36.431 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:36.431 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:36.432 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:36.432 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:36.432 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:36.432 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:36.432 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:36.432 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:36.432 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:36.432 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:36.432 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:0000000B": started reading request body.
2023-09-20 13:05:36.432 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:0000000B": done reading request body.
2023-09-20 13:05:36.432 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:36.432 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:36.432 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:36.432 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:36.433 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:36.433 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:36.433 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:36.433 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:36.433 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:36.433 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:36.433 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:36.433 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:36.433 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:36.434 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:36.434 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:36.434 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:36.434 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:36.435 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:36.435 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:36.436 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:36.488 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:36.488 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:36.488 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:36.488 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:36.488 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 59.6207ms
2023-09-20 13:05:36.488 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:36.488 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:36.488 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:36.488 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:36.488 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:36.488 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 324 - 400 3838 application/json;+charset=utf-8 63.6022ms
2023-09-20 13:05:37.141 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 324
2023-09-20 13:05:37.141 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:05:37.141 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:05:37.142 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:37.142 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:05:37.142 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:37.143 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:05:37.143 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:05:37.143 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:05:37.143 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:05:37.143 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:05:37.144 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:05:37.144 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:37.145 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:05:37.146 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:05:37.146 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:37.146 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:05:37.146 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:37.146 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:37.146 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:05:37.146 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:05:37.147 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:37.147 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:05:37.147 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:37.147 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:05:37.147 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:0000000C": started reading request body.
2023-09-20 13:05:37.147 +02:00 [DBG] Connection id "0HMTPOD6NB3BI", Request id "0HMTPOD6NB3BI:0000000C": done reading request body.
2023-09-20 13:05:37.147 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:37.147 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:37.147 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:05:37.147 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:05:37.147 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:05:37.147 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:37.147 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:05:37.148 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:05:37.148 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:05:37.148 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:05:37.148 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:37.148 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:37.148 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:05:37.148 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:37.148 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:05:37.148 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:37.149 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:05:37.149 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:05:37.150 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:37.151 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:05:37.199 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:05:37.199 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:05:37.199 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:05:37.199 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:05:37.199 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 55.4562ms
2023-09-20 13:05:37.199 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:05:37.199 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" completed keep alive response.
2023-09-20 13:05:37.199 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:05:37.199 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:05:37.199 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:05:37.199 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 324 - 400 3838 application/json;+charset=utf-8 58.7827ms
2023-09-20 13:06:22.456 +02:00 [DBG] Connection id "0HMTPOD6NB3BJ" received FIN.
2023-09-20 13:06:22.456 +02:00 [DBG] Connection id "0HMTPOD6NB3BJ" disconnecting.
2023-09-20 13:06:22.456 +02:00 [DBG] Connection id "0HMTPOD6NB3BJ" stopped.
2023-09-20 13:06:22.459 +02:00 [DBG] Connection id "0HMTPOD6NB3BJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:06:37.456 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" received FIN.
2023-09-20 13:06:37.457 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" disconnecting.
2023-09-20 13:06:37.460 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" stopped.
2023-09-20 13:06:37.492 +02:00 [DBG] Connection id "0HMTPOD6NB3BI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:06:44.482 +02:00 [DBG] Connection id "0HMTPOD6NB3BK" accepted.
2023-09-20 13:06:44.482 +02:00 [DBG] Connection id "0HMTPOD6NB3BK" started.
2023-09-20 13:06:44.510 +02:00 [DBG] Connection 0HMTPOD6NB3BK established using the following protocol: "Tls12"
2023-09-20 13:06:44.513 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 324
2023-09-20 13:06:44.513 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:06:44.513 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:06:44.513 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:06:44.513 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:06:44.513 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:06:44.513 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:06:44.513 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:06:44.513 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:06:44.513 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:06:44.513 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:06:44.513 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:06:44.513 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:06:44.514 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:06:44.514 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:06:44.514 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:06:44.514 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:06:44.514 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:06:44.514 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:06:44.514 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:06:44.514 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:06:44.514 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:06:44.514 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:06:44.514 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:06:44.514 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:06:44.514 +02:00 [DBG] Connection id "0HMTPOD6NB3BK", Request id "0HMTPOD6NB3BK:00000001": started reading request body.
2023-09-20 13:06:44.514 +02:00 [DBG] Connection id "0HMTPOD6NB3BK", Request id "0HMTPOD6NB3BK:00000001": done reading request body.
2023-09-20 13:06:44.514 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:06:44.514 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:06:44.514 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:06:44.514 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:06:47.662 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:14:23.487 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:14:23.542 +02:00 [DBG] Connection id "0HMTPOD6NB3BK" reset.
2023-09-20 13:14:23.542 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:14:23.545 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:14:23.571 +02:00 [DBG] Connection id "0HMTPOD6NB3BK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:14:23.597 +02:00 [DBG] Connection id "0HMTPOD6NB3BK" disconnecting.
2023-09-20 13:14:23.597 +02:00 [DBG] Connection id "0HMTPOD6NB3BL" accepted.
2023-09-20 13:14:23.600 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:14:23.600 +02:00 [DBG] Connection id "0HMTPOD6NB3BL" started.
2023-09-20 13:14:23.626 +02:00 [DBG] Created DbConnection. (26ms).
2023-09-20 13:14:23.627 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:14:23.627 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:14:23.633 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:14:23.633 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:14:23.633 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:14:23.633 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:14:23.634 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:14:23.634 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:14:23.634 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:14:23.636 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:14:23.679 +02:00 [DBG] Connection 0HMTPOD6NB3BL established using the following protocol: "Tls12"
2023-09-20 13:14:23.730 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:14:23.730 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:14:23.730 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:14:23.730 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:14:23.730 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:14:23.730 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:14:23.730 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:14:23.730 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:14:23.730 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:14:23.730 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:14:23.730 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 459202.8652ms
2023-09-20 13:14:23.730 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:14:23.730 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:14:23.730 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:14:23.730 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:14:23.730 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:14:23.730 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:14:23.730 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:14:23.730 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:14:23.730 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:14:23.730 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:14:23.730 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 324 - 400 3838 application/json;+charset=utf-8 459203.5356ms
2023-09-20 13:14:23.730 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:14:23.731 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:14:23.731 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:14:23.731 +02:00 [INF] Getting all villas
2023-09-20 13:14:23.731 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:14:23.731 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:14:23.731 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:14:23.731 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:14:23.731 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:14:23.731 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:14:23.731 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:14:23.731 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:14:23.757 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:14:23.808 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:14:23.808 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:14:23.808 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:14:23.809 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:14:23.809 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:14:23.809 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:14:23.809 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:14:23.809 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:14:23.809 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:14:23.809 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:14:23.809 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:14:23.809 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:14:23.809 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:14:23.809 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:14:23.809 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 78.9357ms
2023-09-20 13:14:23.809 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:14:23.809 +02:00 [DBG] Connection id "0HMTPOD6NB3BK" stopped.
2023-09-20 13:14:23.809 +02:00 [DBG] Connection id "0HMTPOD6NB3BL" completed keep alive response.
2023-09-20 13:14:23.810 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:14:23.810 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:14:23.810 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:14:23.810 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1818 application/json;+charset=utf-8 79.8583ms
2023-09-20 13:14:29.216 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/1 - -
2023-09-20 13:14:29.217 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:14:29.217 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:14:29.217 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:14:29.217 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:14:29.217 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:14:29.217 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:14:29.217 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:14:29.217 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:14:29.217 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:14:29.217 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:14:29.217 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:14:29.217 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:14:29.218 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:14:29.218 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:14:29.218 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:14:29.218 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:14:29.218 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:14:29.218 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:14:29.218 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:14:29.218 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:14:29.218 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:14:29.218 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:14:29.218 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:14:29.218 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:14:29.218 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:14:29.218 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:14:29.218 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:14:29.219 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:14:29.272 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:14:29.348 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:14:29.350 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:14:29.350 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 52ms reading results.
2023-09-20 13:14:29.351 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:14:29.351 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:14:29.352 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:14:29.353 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:14:29.353 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:14:29.353 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:14:29.353 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 136.2985ms
2023-09-20 13:14:29.353 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:14:29.353 +02:00 [DBG] Connection id "0HMTPOD6NB3BL" completed keep alive response.
2023-09-20 13:14:29.354 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:14:29.354 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:14:29.354 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:14:29.354 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/1 - - - 200 386 application/json;+charset=utf-8 137.3805ms
2023-09-20 13:14:32.529 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:14:32.529 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:14:32.529 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:14:32.529 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:14:32.529 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:14:32.530 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:14:32.530 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:14:32.530 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:14:32.530 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:14:32.530 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:14:32.530 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:14:32.530 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:14:32.530 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:14:32.531 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:14:32.531 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:14:32.531 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:14:32.531 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:14:32.531 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:14:32.531 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:14:32.531 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:14:32.531 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:14:32.531 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:14:32.531 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:14:32.531 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:14:32.531 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:14:32.532 +02:00 [DBG] Connection id "0HMTPOD6NB3BL", Request id "0HMTPOD6NB3BL:00000003": started reading request body.
2023-09-20 13:14:32.532 +02:00 [DBG] Connection id "0HMTPOD6NB3BL", Request id "0HMTPOD6NB3BL:00000003": done reading request body.
2023-09-20 13:14:32.532 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:14:32.532 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:14:32.532 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:14:32.532 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:15:02.193 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:15:03.628 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:15:03.628 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:15:03.628 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:15:03.628 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:15:03.628 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:15:03.628 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:15:03.628 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:15:03.629 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:15:03.629 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:15:03.629 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:15:03.629 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:15:03.630 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:15:03.630 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:15:03.630 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:15:03.632 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-20 13:15:06.289 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:15:06.289 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:15:06.289 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:15:06.289 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:15:06.289 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 33759.2258ms
2023-09-20 13:15:06.290 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:15:06.290 +02:00 [DBG] Connection id "0HMTPOD6NB3BL" completed keep alive response.
2023-09-20 13:15:06.290 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:15:06.290 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:15:06.290 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:15:06.290 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322 - 400 3838 application/json;+charset=utf-8 33760.6158ms
2023-09-20 13:15:27.375 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:15:27.378 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:15:27.381 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:15:27.381 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:15:27.381 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:15:27.381 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:15:27.381 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:15:27.381 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:15:27.381 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:15:27.381 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:15:27.381 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:15:27.381 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:15:27.381 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:15:27.382 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:15:27.382 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:15:27.382 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:15:27.382 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:15:27.382 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:15:27.382 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:15:27.382 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:15:27.382 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:15:27.383 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:15:27.383 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:15:27.383 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:15:27.383 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:15:27.383 +02:00 [DBG] Connection id "0HMTPOD6NB3BL", Request id "0HMTPOD6NB3BL:00000004": started reading request body.
2023-09-20 13:15:27.383 +02:00 [DBG] Connection id "0HMTPOD6NB3BL", Request id "0HMTPOD6NB3BL:00000004": done reading request body.
2023-09-20 13:15:27.383 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:15:27.383 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:15:27.383 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:15:27.383 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:18:11.217 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 13:18:11.272 +02:00 [DBG] Hosting starting
2023-09-20 13:18:11.438 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 13:18:11.438 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 13:18:11.438 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 13:18:11.438 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 13:18:11.438 +02:00 [INF] Hosting environment: Development
2023-09-20 13:18:11.438 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 13:18:11.438 +02:00 [DBG] Hosting started
2023-09-20 13:18:11.750 +02:00 [DBG] Connection id "0HMTPPD3A1MLD" received FIN.
2023-09-20 13:18:11.752 +02:00 [DBG] Connection id "0HMTPPD3A1MLD" accepted.
2023-09-20 13:18:11.752 +02:00 [DBG] Connection id "0HMTPPD3A1MLD" started.
2023-09-20 13:18:11.758 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 13:18:11.773 +02:00 [DBG] Connection id "0HMTPPD3A1MLD" stopped.
2023-09-20 13:18:11.775 +02:00 [DBG] Connection id "0HMTPPD3A1MLD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:18:11.837 +02:00 [DBG] Connection id "0HMTPPD3A1MLE" accepted.
2023-09-20 13:18:11.837 +02:00 [DBG] Connection id "0HMTPPD3A1MLE" started.
2023-09-20 13:18:11.837 +02:00 [DBG] Connection id "0HMTPPD3A1MLF" accepted.
2023-09-20 13:18:11.837 +02:00 [DBG] Connection id "0HMTPPD3A1MLF" started.
2023-09-20 13:18:11.871 +02:00 [DBG] Connection 0HMTPPD3A1MLF established using the following protocol: "Tls12"
2023-09-20 13:18:11.872 +02:00 [DBG] Connection 0HMTPPD3A1MLE established using the following protocol: "Tls12"
2023-09-20 13:18:11.893 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 13:18:11.894 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 13:18:11.906 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 13:18:11.906 +02:00 [DBG] Request did not match any endpoints
2023-09-20 13:18:11.974 +02:00 [DBG] Connection id "0HMTPPD3A1MLF" completed keep alive response.
2023-09-20 13:18:11.975 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 82.6074ms
2023-09-20 13:18:11.991 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - -
2023-09-20 13:18:11.992 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-20 13:18:11.992 +02:00 [DBG] Request did not match any endpoints
2023-09-20 13:18:12.012 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-20 13:18:12.014 +02:00 [DBG] Connection id "0HMTPPD3A1MLF" completed keep alive response.
2023-09-20 13:18:12.014 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 22.3435ms
2023-09-20 13:18:12.101 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 13:18:12.101 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 13:18:12.101 +02:00 [DBG] Request did not match any endpoints
2023-09-20 13:18:12.226 +02:00 [DBG] Connection id "0HMTPPD3A1MLF" completed keep alive response.
2023-09-20 13:18:12.226 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.1364ms
2023-09-20 13:18:19.178 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" accepted.
2023-09-20 13:18:19.178 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" started.
2023-09-20 13:18:19.204 +02:00 [DBG] Connection 0HMTPPD3A1MLG established using the following protocol: "Tls12"
2023-09-20 13:18:19.210 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:18:19.212 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:18:19.214 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:18:19.214 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:19.214 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:19.215 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:19.222 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:19.223 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:19.223 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:19.223 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:19.223 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:19.223 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:19.223 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:19.292 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 13:18:19.794 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:19.852 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:19.853 +02:00 [INF] Getting all villas
2023-09-20 13:18:19.872 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 13:18:19.956 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 13:18:19.977 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:19.978 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:20.002 +02:00 [DBG] Created DbConnection. (21ms).
2023-09-20 13:18:20.006 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-20 13:18:20.007 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-09-20 13:18:20.010 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:20.078 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:20.087 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:18:20.111 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:18:20.135 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:20.159 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:20.159 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:20.159 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:20.159 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:20.160 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:20.164 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:20.171 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 55ms reading results.
2023-09-20 13:18:20.176 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:20.180 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 13:18:20.198 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:20.202 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:20.202 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:20.202 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:20.247 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1021.15ms
2023-09-20 13:18:20.248 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:20.249 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:20.252 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:20.256 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:20.258 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 13:18:20.258 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1818 application/json;+charset=utf-8 1048.3982ms
2023-09-20 13:18:22.329 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/1 - -
2023-09-20 13:18:22.330 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:18:22.330 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:18:22.331 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:22.331 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:22.331 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:22.341 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:22.341 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:22.341 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:22.341 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:22.341 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:22.341 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:22.341 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:22.375 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:22.375 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:22.377 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:18:22.378 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:18:22.378 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:22.378 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:22.378 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:18:22.379 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:22.390 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 13:18:22.435 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 13:18:22.441 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:22.441 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:22.441 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:18:22.442 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:22.444 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 13:18:22.444 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:22.444 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:22.446 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:18:22.454 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:18:22.455 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:22.455 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:22.455 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:18:22.455 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:22.455 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:22.457 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:22.457 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:22.457 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:22.457 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:22.457 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 115.9376ms
2023-09-20 13:18:22.457 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:22.457 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:22.457 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:22.457 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:22.457 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:22.457 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/1 - - - 200 386 application/json;+charset=utf-8 128.4386ms
2023-09-20 13:18:25.754 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322
2023-09-20 13:18:25.754 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/1'
2023-09-20 13:18:25.754 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/1'
2023-09-20 13:18:25.754 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:25.754 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:25.755 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:25.758 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:25.758 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:25.758 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:25.758 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:25.758 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:25.758 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:25.758 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:25.766 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:25.767 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:25.767 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:18:25.767 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:18:25.767 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:25.767 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:25.767 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:18:25.767 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:25.767 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:18:25.768 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:18:25.768 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:18:25.768 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:18:25.772 +02:00 [DBG] Connection id "0HMTPPD3A1MLG", Request id "0HMTPPD3A1MLG:00000003": started reading request body.
2023-09-20 13:18:25.772 +02:00 [DBG] Connection id "0HMTPPD3A1MLG", Request id "0HMTPPD3A1MLG:00000003": done reading request body.
2023-09-20 13:18:25.795 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:18:25.795 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:18:25.795 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:18:25.800 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:18:25.810 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:25.813 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:18:25.815 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:18:25.820 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:18:25.858 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:25.858 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:18:25.858 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:25.858 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:25.859 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:25.859 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:25.860 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:25.860 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:18:25.869 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:18:25.871 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:25.871 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 13:18:25.871 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:25.871 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:25.878 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:25.879 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:18:25.879 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:25.880 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:25.880 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:25.880 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:25.880 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 121.6348ms
2023-09-20 13:18:25.880 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:25.880 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:25.880 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:25.880 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:25.880 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:25.880 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/1 application/json;+charset=utf-8 322 - 200 70 application/json;+charset=utf-8 125.9585ms
2023-09-20 13:18:25.883 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:18:25.884 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:18:25.884 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:18:25.884 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:25.884 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:25.884 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:25.884 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:25.884 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:25.884 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:25.884 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:25.884 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:25.884 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:25.884 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:25.884 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:25.884 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:25.884 +02:00 [INF] Getting all villas
2023-09-20 13:18:25.885 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:25.885 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:25.885 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:18:25.885 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:25.885 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:25.885 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:25.885 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:25.885 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:18:25.886 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:18:25.886 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:25.886 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:25.886 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:25.886 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:25.886 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:25.886 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:25.886 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:25.886 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:18:25.886 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:25.886 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:25.887 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:25.887 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:25.887 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:25.887 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:25.887 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.0115ms
2023-09-20 13:18:25.887 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:25.887 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:25.887 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:25.887 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:25.887 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:25.887 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1820 application/json;+charset=utf-8 3.5458ms
2023-09-20 13:18:31.131 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - -
2023-09-20 13:18:31.131 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:18:31.131 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:18:31.131 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:31.132 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:31.132 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:31.132 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:31.132 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:31.132 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:31.132 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:31.132 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:31.132 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:31.133 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:31.139 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:31.139 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:31.140 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:18:31.140 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:18:31.140 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:31.140 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:31.140 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:18:31.140 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:31.146 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:31.146 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:31.146 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:18:31.146 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:31.146 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:31.146 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:31.146 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:31.147 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:18:31.148 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:18:31.148 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:31.148 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:31.148 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:18:31.149 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:31.149 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:31.149 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:31.149 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:31.149 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:31.149 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:31.149 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 16.6142ms
2023-09-20 13:18:31.149 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:31.149 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:31.149 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:31.149 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:31.149 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:31.150 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - - - 200 188 application/json;+charset=utf-8 18.8262ms
2023-09-20 13:18:34.659 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119
2023-09-20 13:18:34.660 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:18:34.660 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:18:34.660 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:34.662 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:34.671 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:34.673 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:34.673 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:34.673 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:34.673 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:34.673 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:34.674 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:34.674 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:34.679 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:34.679 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:34.679 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:18:34.679 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:18:34.679 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:34.679 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:34.679 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:18:34.679 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:18:34.679 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:18:34.680 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:18:34.680 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:18:34.680 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:18:34.680 +02:00 [DBG] Connection id "0HMTPPD3A1MLG", Request id "0HMTPPD3A1MLG:00000006": started reading request body.
2023-09-20 13:18:34.680 +02:00 [DBG] Connection id "0HMTPPD3A1MLG", Request id "0HMTPPD3A1MLG:00000006": done reading request body.
2023-09-20 13:18:34.680 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:18:34.680 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:18:34.680 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:18:34.680 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:18:34.680 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:34.681 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:18:34.681 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:18:34.681 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:18:34.681 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:34.681 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:18:34.681 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:34.681 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:34.681 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:34.681 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:34.681 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:34.681 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:18:34.686 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:18:34.686 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:34.686 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:18:34.686 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:34.686 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:34.687 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:34.687 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:18:34.687 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:34.687 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:34.687 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:34.687 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:34.687 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 13.3237ms
2023-09-20 13:18:34.687 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:34.687 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:34.687 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:34.687 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:34.687 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:34.687 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 119 - 200 70 application/json;+charset=utf-8 27.8590ms
2023-09-20 13:18:34.691 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:18:34.691 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:18:34.691 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:18:34.691 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:34.691 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:34.691 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:34.691 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:34.691 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:34.691 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:34.691 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:34.691 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:34.691 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:34.691 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:34.692 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:34.692 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:34.692 +02:00 [INF] Getting all villas
2023-09-20 13:18:34.692 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:34.692 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:34.692 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:18:34.692 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:34.692 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:34.692 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:34.692 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:34.692 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:18:34.693 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:18:34.693 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:34.693 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:34.693 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:34.693 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:34.693 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:34.693 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:34.693 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:34.693 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:18:34.693 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:34.693 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:34.694 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:34.694 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:34.694 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:34.694 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:34.694 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.4886ms
2023-09-20 13:18:34.694 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:34.694 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:34.694 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:34.694 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:34.694 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:34.694 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1817 application/json;+charset=utf-8 3.1622ms
2023-09-20 13:18:40.142 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116
2023-09-20 13:18:40.142 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:18:40.142 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:18:40.142 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:40.142 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:40.142 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:40.145 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:40.145 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:40.145 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:40.145 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:40.145 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:40.145 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:40.145 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:40.146 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:40.146 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:40.146 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 13:18:40.146 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 13:18:40.146 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:18:40.146 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:18:40.146 +02:00 [DBG] Connection id "0HMTPPD3A1MLG", Request id "0HMTPPD3A1MLG:00000008": started reading request body.
2023-09-20 13:18:40.146 +02:00 [DBG] Connection id "0HMTPPD3A1MLG", Request id "0HMTPPD3A1MLG:00000008": done reading request body.
2023-09-20 13:18:40.149 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 13:18:40.149 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 13:18:40.149 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 13:18:40.151 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 13:18:40.153 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 13:18:40.197 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 13:18:40.203 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:40.203 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:40.203 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:18:40.203 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:40.203 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:40.203 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:40.203 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.203 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 13:18:40.204 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 13:18:40.204 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.204 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:18:40.204 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.204 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:40.223 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.227 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.228 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:18:40.228 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:18:40.230 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:18:40.243 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:40.243 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.243 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:40.243 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:40.243 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:40.243 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 13:18:40.245 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 13:18:40.249 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 13:18:40.251 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.251 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2023-09-20 13:18:40.251 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.251 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:40.252 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.252 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:18:40.253 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:40.253 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:40.253 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:40.253 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:40.264 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[18])
2023-09-20 13:18:40.268 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/18 and 
2023-09-20 13:18:40.268 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/18
2023-09-20 13:18:40.269 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 123.7607ms
2023-09-20 13:18:40.269 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:18:40.269 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:40.269 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:40.269 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:40.269 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:40.269 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 116 - 201 190 application/json;+charset=utf-8 127.4373ms
2023-09-20 13:18:40.272 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:18:40.272 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:18:40.272 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:18:40.272 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:40.272 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:18:40.272 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:40.272 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:18:40.272 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:18:40.272 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:18:40.272 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:18:40.272 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:18:40.272 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:18:40.272 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:40.272 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:18:40.272 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:18:40.272 +02:00 [INF] Getting all villas
2023-09-20 13:18:40.272 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:18:40.272 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:18:40.272 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:18:40.272 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:40.272 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:18:40.272 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:40.272 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.273 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:18:40.273 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:18:40.273 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.273 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.273 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.273 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.273 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.273 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.273 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:18:40.273 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.273 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:18:40.274 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:18:40.274 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:40.274 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:18:40.274 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:18:40.274 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:18:40.274 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:18:40.274 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1.9299ms
2023-09-20 13:18:40.274 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:18:40.274 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" completed keep alive response.
2023-09-20 13:18:40.274 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:18:40.274 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:18:40.274 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:18:40.274 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1942 application/json;+charset=utf-8 2.3623ms
2023-09-20 13:19:49.188 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" received FIN.
2023-09-20 13:19:49.190 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:19:49.192 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" disconnecting.
2023-09-20 13:19:49.193 +02:00 [DBG] Connection id "0HMTPPD3A1MLG" stopped.
2023-09-20 13:20:22.437 +02:00 [DBG] Connection id "0HMTPPD3A1MLF" disconnecting.
2023-09-20 13:20:22.437 +02:00 [DBG] Connection id "0HMTPPD3A1MLE" disconnecting.
2023-09-20 13:20:22.437 +02:00 [DBG] Connection id "0HMTPPD3A1MLE" stopped.
2023-09-20 13:20:22.437 +02:00 [DBG] Connection id "0HMTPPD3A1MLF" stopped.
2023-09-20 13:20:22.437 +02:00 [DBG] Connection id "0HMTPPD3A1MLE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:20:22.437 +02:00 [DBG] Connection id "0HMTPPD3A1MLF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:20:30.699 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" accepted.
2023-09-20 13:20:30.700 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" started.
2023-09-20 13:20:30.726 +02:00 [DBG] Connection 0HMTPPD3A1MLH established using the following protocol: "Tls12"
2023-09-20 13:20:30.732 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:20:30.732 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:20:30.732 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:20:30.732 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:20:30.732 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:20:30.732 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:20:30.732 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:20:30.732 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:20:30.732 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:20:30.732 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:20:30.732 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:20:30.732 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:20:30.732 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:20:30.733 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:20:30.733 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:20:30.734 +02:00 [INF] Getting all villas
2023-09-20 13:20:30.734 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:20:30.734 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:20:30.734 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:20:30.734 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:20:30.734 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:20:30.734 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:20:30.734 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:30.734 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:20:30.735 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:20:30.735 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:30.735 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:30.735 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:30.735 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:30.735 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:30.735 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:30.735 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:30.736 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:30.736 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:20:30.736 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:30.736 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:20:30.736 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:20:30.736 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:20:30.736 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:20:30.736 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:20:30.736 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.5738ms
2023-09-20 13:20:30.736 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:20:30.736 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" completed keep alive response.
2023-09-20 13:20:30.736 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:20:30.736 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:20:30.736 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:20:30.736 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1942 application/json;+charset=utf-8 4.2151ms
2023-09-20 13:20:33.489 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - -
2023-09-20 13:20:33.489 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:20:33.489 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:20:33.489 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:20:33.489 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:20:33.489 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:20:33.489 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:20:33.489 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:20:33.489 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:20:33.489 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:20:33.490 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:20:33.490 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:20:33.490 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:20:33.490 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:20:33.490 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:20:33.490 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:20:33.491 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:20:33.491 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:20:33.491 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:20:33.491 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:20:33.491 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:20:33.491 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:20:33.491 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:20:33.491 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:20:33.492 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:20:33.492 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:20:33.492 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:20:33.492 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:33.492 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:20:33.493 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:20:33.493 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:33.493 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:33.493 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:20:33.493 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:33.493 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:20:33.494 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:20:33.494 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:20:33.494 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:20:33.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:20:33.494 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 4.4858ms
2023-09-20 13:20:33.494 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:20:33.494 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" completed keep alive response.
2023-09-20 13:20:33.494 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:20:33.494 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:20:33.494 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:20:33.494 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - - - 200 185 application/json;+charset=utf-8 5.3509ms
2023-09-20 13:20:38.835 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116
2023-09-20 13:20:38.835 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:20:38.835 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:20:38.835 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:20:38.835 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:20:38.835 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:20:38.836 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:20:38.836 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:20:38.836 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:20:38.836 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:20:38.836 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:20:38.836 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:20:38.836 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:20:38.836 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:20:38.836 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:20:38.836 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:20:38.837 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:20:38.837 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:20:38.837 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:20:38.837 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:20:38.837 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:20:38.837 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:20:38.837 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:20:38.837 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:20:38.837 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:20:38.837 +02:00 [DBG] Connection id "0HMTPPD3A1MLH", Request id "0HMTPPD3A1MLH:00000003": started reading request body.
2023-09-20 13:20:38.837 +02:00 [DBG] Connection id "0HMTPPD3A1MLH", Request id "0HMTPPD3A1MLH:00000003": done reading request body.
2023-09-20 13:20:38.837 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:20:38.837 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:20:38.837 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:20:38.837 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:20:38.837 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.837 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:20:38.837 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:20:38.837 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:20:38.838 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:20:38.838 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:20:38.838 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:20:38.838 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:38.838 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:20:38.838 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:20:38.838 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:20:38.838 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:20:38.840 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:20:38.840 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:38.840 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:20:38.840 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:38.840 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:20:38.840 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.840 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:20:38.840 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:20:38.840 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:20:38.840 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:20:38.840 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:20:38.841 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 5.1354ms
2023-09-20 13:20:38.841 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:20:38.841 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" completed keep alive response.
2023-09-20 13:20:38.841 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:20:38.841 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:20:38.841 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:20:38.841 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116 - 200 70 application/json;+charset=utf-8 6.2026ms
2023-09-20 13:20:38.845 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:20:38.845 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:20:38.845 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:20:38.845 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:20:38.846 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:20:38.846 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:20:38.846 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:20:38.846 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:20:38.846 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:20:38.846 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:20:38.846 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:20:38.846 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:20:38.846 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:20:38.846 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:20:38.846 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:20:38.846 +02:00 [INF] Getting all villas
2023-09-20 13:20:38.846 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:20:38.846 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:20:38.846 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:20:38.846 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:20:38.846 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:20:38.846 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:20:38.846 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:38.847 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:20:38.847 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:20:38.847 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.848 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.848 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.848 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.848 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.848 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.848 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:20:38.848 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:38.848 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:20:38.848 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:20:38.848 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:20:38.848 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:20:38.848 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:20:38.848 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:20:38.848 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:20:38.848 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.2986ms
2023-09-20 13:20:38.848 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:20:38.848 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" completed keep alive response.
2023-09-20 13:20:38.848 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:20:38.848 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:20:38.848 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:20:38.848 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1939 application/json;+charset=utf-8 2.8314ms
2023-09-20 13:20:59.687 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" received FIN.
2023-09-20 13:20:59.688 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:20:59.688 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" disconnecting.
2023-09-20 13:20:59.688 +02:00 [DBG] Connection id "0HMTPPD3A1MLH" stopped.
2023-09-20 13:21:06.404 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" accepted.
2023-09-20 13:21:06.405 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" started.
2023-09-20 13:21:06.431 +02:00 [DBG] Connection 0HMTPPD3A1MLI established using the following protocol: "Tls12"
2023-09-20 13:21:06.437 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:21:06.437 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:21:06.437 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:21:06.437 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:06.437 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:06.437 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:06.437 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:06.437 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:06.437 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:06.437 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:06.437 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:06.437 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:06.437 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:06.438 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:06.438 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:06.438 +02:00 [INF] Getting all villas
2023-09-20 13:21:06.438 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:06.438 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:06.438 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:06.438 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:06.438 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:06.438 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:06.438 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:06.438 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:21:06.439 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:21:06.439 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:06.439 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:06.439 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:06.439 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:06.439 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:06.439 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:06.439 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:06.439 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:06.439 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:06.439 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:06.439 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:06.439 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:06.439 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:06.439 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:06.439 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:06.439 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.1197ms
2023-09-20 13:21:06.440 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:06.440 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:06.440 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:06.440 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:06.440 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:06.440 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1939 application/json;+charset=utf-8 2.7214ms
2023-09-20 13:21:08.228 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - -
2023-09-20 13:21:08.228 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:21:08.228 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:21:08.228 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:08.228 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:08.228 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:08.229 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:08.229 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:08.229 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:08.229 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:08.229 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:08.229 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:08.229 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:08.230 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:08.230 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:08.230 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:08.230 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:21:08.230 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:08.230 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:08.230 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:08.230 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:08.230 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:08.230 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:08.230 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:08.230 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:08.231 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:08.231 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:08.231 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:08.231 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:21:08.234 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:21:08.234 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:08.234 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:08.234 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:08.234 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:08.234 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:08.235 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:08.235 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:08.235 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:08.235 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:08.235 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 6.1936ms
2023-09-20 13:21:08.235 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:08.235 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:08.235 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:08.235 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:08.235 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:08.235 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - - - 200 182 application/json;+charset=utf-8 7.1911ms
2023-09-20 13:21:10.411 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116
2023-09-20 13:21:10.412 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:21:10.412 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:21:10.412 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:10.412 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:10.412 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:10.412 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:10.412 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:10.412 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:10.412 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:10.412 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:10.412 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:10.412 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:10.413 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:10.413 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:10.413 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:10.413 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:21:10.413 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:10.413 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:10.413 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:10.413 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:10.413 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:21:10.413 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:21:10.413 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:21:10.413 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:21:10.413 +02:00 [DBG] Connection id "0HMTPPD3A1MLI", Request id "0HMTPPD3A1MLI:00000003": started reading request body.
2023-09-20 13:21:10.413 +02:00 [DBG] Connection id "0HMTPPD3A1MLI", Request id "0HMTPPD3A1MLI:00000003": done reading request body.
2023-09-20 13:21:10.413 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:10.413 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:10.413 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:21:10.413 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:10.413 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.413 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:21:10.413 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:21:10.413 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:21:10.414 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:10.414 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:10.414 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:10.414 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:10.414 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:10.414 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:10.414 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:10.414 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:21:10.416 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:21:10.416 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:10.416 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:10.416 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:10.416 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:10.416 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.416 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:21:10.416 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:10.416 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:10.416 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:10.416 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:10.417 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 4.5145ms
2023-09-20 13:21:10.417 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:10.417 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:10.417 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:10.417 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:10.417 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:10.417 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116 - 200 70 application/json;+charset=utf-8 5.3364ms
2023-09-20 13:21:10.421 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:21:10.421 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:21:10.421 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:21:10.421 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:10.421 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:10.421 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:10.421 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:10.421 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:10.421 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:10.421 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:10.421 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:10.421 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:10.421 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:10.422 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:10.422 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:10.422 +02:00 [INF] Getting all villas
2023-09-20 13:21:10.422 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:10.422 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:10.422 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:10.422 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:10.422 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:10.422 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:10.422 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:10.422 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:21:10.423 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:21:10.423 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.423 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.423 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.423 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.423 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.423 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.423 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:10.423 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:10.423 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:10.423 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:10.423 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:10.423 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:10.423 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:10.423 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:10.423 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:10.424 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.481ms
2023-09-20 13:21:10.424 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:10.424 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:10.424 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:10.424 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:10.424 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:10.424 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1939 application/json;+charset=utf-8 3.0364ms
2023-09-20 13:21:26.866 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - -
2023-09-20 13:21:26.867 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:21:26.868 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:21:26.869 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:26.869 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:26.869 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:26.870 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:26.870 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:26.870 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:26.870 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:26.870 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:26.870 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:26.870 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:26.874 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:26.875 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:26.875 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:26.875 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:21:26.875 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:26.875 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:26.875 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:26.875 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:26.876 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:26.876 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:26.876 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:26.876 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:26.876 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:26.876 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:26.876 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:26.876 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:21:26.878 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:21:26.878 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:26.878 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:26.878 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:26.878 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:26.878 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:26.879 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:26.879 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:26.879 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:26.879 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:26.879 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 9.1195ms
2023-09-20 13:21:26.879 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:26.879 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:26.879 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:26.879 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:26.879 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:26.879 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - - - 200 182 application/json;+charset=utf-8 13.1940ms
2023-09-20 13:21:27.809 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116
2023-09-20 13:21:27.809 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:21:27.809 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:21:27.809 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:27.809 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:27.810 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:27.810 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:27.810 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:27.810 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:27.810 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:27.810 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:27.810 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:27.810 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:27.811 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:27.811 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:27.811 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:27.811 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:21:27.811 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:27.811 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:27.811 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:27.811 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:27.811 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:21:27.811 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:21:27.811 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:21:27.811 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:21:27.811 +02:00 [DBG] Connection id "0HMTPPD3A1MLI", Request id "0HMTPPD3A1MLI:00000006": started reading request body.
2023-09-20 13:21:27.811 +02:00 [DBG] Connection id "0HMTPPD3A1MLI", Request id "0HMTPPD3A1MLI:00000006": done reading request body.
2023-09-20 13:21:27.811 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:27.811 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:27.811 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:21:27.812 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:27.812 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.812 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:21:27.812 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:21:27.812 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:21:27.812 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:27.812 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:27.812 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:27.812 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:27.812 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:27.813 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:27.813 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:27.813 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:21:27.815 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:21:27.815 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:27.815 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:27.815 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:27.815 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:27.815 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.815 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:21:27.815 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:27.815 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:27.815 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:27.815 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:27.816 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 5.6243ms
2023-09-20 13:21:27.816 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:27.816 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:27.816 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:27.816 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:27.816 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:27.816 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116 - 200 70 application/json;+charset=utf-8 7.0028ms
2023-09-20 13:21:27.820 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:21:27.820 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:21:27.820 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:21:27.820 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:27.820 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:27.820 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:27.820 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:27.820 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:27.820 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:27.820 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:27.820 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:27.820 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:27.820 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:27.821 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:27.821 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:27.821 +02:00 [INF] Getting all villas
2023-09-20 13:21:27.821 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:27.821 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:27.821 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:27.821 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:27.821 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:27.821 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:27.821 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:27.822 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:21:27.822 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:21:27.823 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.823 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.823 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.823 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.823 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.823 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.823 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:27.823 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:27.823 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:27.823 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:27.823 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:27.823 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:27.823 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:27.823 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:27.823 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:27.823 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.1794ms
2023-09-20 13:21:27.824 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:27.824 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:27.824 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:27.824 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:27.824 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:27.824 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1939 application/json;+charset=utf-8 3.8468ms
2023-09-20 13:21:31.726 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - -
2023-09-20 13:21:31.726 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:21:31.726 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:21:31.726 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:31.726 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:31.727 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:31.727 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:31.727 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:31.727 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:31.727 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:31.727 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:31.727 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:31.727 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:31.731 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:31.732 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:31.732 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:31.732 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:21:31.732 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:31.732 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:31.732 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:31.732 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:31.735 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:31.736 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:31.736 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:31.736 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:31.736 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:31.736 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:31.736 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:31.736 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:21:31.737 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:21:31.738 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:31.738 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:31.738 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:31.738 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:31.738 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:31.738 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:31.738 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:31.738 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:31.738 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:31.738 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 10.9073ms
2023-09-20 13:21:31.738 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:31.738 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:31.738 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:31.738 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:31.739 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:31.739 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - - - 200 182 application/json;+charset=utf-8 12.7857ms
2023-09-20 13:21:35.712 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116
2023-09-20 13:21:35.712 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:21:35.712 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:21:35.712 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:35.712 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:35.712 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:35.713 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:35.713 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:35.713 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:35.714 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:35.714 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:35.714 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:35.714 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:35.715 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:35.716 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:35.716 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:35.716 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:21:35.716 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:35.716 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:35.716 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:21:35.716 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:21:35.716 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:21:35.717 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:21:35.717 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:21:35.717 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:21:35.717 +02:00 [DBG] Connection id "0HMTPPD3A1MLI", Request id "0HMTPPD3A1MLI:00000009": started reading request body.
2023-09-20 13:21:35.717 +02:00 [DBG] Connection id "0HMTPPD3A1MLI", Request id "0HMTPPD3A1MLI:00000009": done reading request body.
2023-09-20 13:21:35.718 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:35.718 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:35.718 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:21:35.719 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:21:35.719 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.719 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:21:35.719 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:21:35.720 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:21:35.720 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:35.720 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:35.720 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:35.720 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:35.721 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:35.721 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:35.721 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:35.721 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:21:35.724 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:21:35.724 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:35.724 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:35.724 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:35.724 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:35.724 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.724 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:21:35.724 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:35.724 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:35.724 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:35.724 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:35.724 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 10.3655ms
2023-09-20 13:21:35.725 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:21:35.725 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:35.725 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:35.725 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:35.725 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:35.725 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116 - 200 70 application/json;+charset=utf-8 13.3472ms
2023-09-20 13:21:35.729 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:21:35.729 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:21:35.729 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:21:35.729 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:35.729 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:21:35.729 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:35.729 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:21:35.729 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:21:35.729 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:21:35.729 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:21:35.729 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:21:35.729 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:21:35.729 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:35.730 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:21:35.730 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:21:35.730 +02:00 [INF] Getting all villas
2023-09-20 13:21:35.730 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:21:35.730 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:21:35.730 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:21:35.730 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:35.730 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:21:35.730 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:35.730 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:35.730 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:21:35.732 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:21:35.732 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.732 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.732 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.732 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.732 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.732 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.732 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:21:35.732 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:35.732 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 13:21:35.732 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:21:35.732 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:35.732 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:21:35.732 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:21:35.732 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:21:35.732 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:21:35.733 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.3087ms
2023-09-20 13:21:35.733 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:21:35.733 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" completed keep alive response.
2023-09-20 13:21:35.733 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:21:35.733 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:21:35.733 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:21:35.733 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1939 application/json;+charset=utf-8 4.2010ms
2023-09-20 13:21:52.576 +02:00 [INF] Application is shutting down...
2023-09-20 13:21:52.578 +02:00 [DBG] Hosting stopping
2023-09-20 13:21:52.585 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" disconnecting.
2023-09-20 13:21:52.585 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" stopped.
2023-09-20 13:21:52.585 +02:00 [DBG] Connection id "0HMTPPD3A1MLI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:21:52.589 +02:00 [DBG] Hosting stopped
2023-09-20 13:22:01.054 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 13:22:01.112 +02:00 [DBG] Hosting starting
2023-09-20 13:22:01.336 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 13:22:01.337 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 13:22:01.337 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 13:22:01.337 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 13:22:01.338 +02:00 [INF] Hosting environment: Development
2023-09-20 13:22:01.338 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 13:22:01.338 +02:00 [DBG] Hosting started
2023-09-20 13:22:01.793 +02:00 [DBG] Connection id "0HMTPPF7RT3QR" received FIN.
2023-09-20 13:22:01.797 +02:00 [DBG] Connection id "0HMTPPF7RT3QR" accepted.
2023-09-20 13:22:01.798 +02:00 [DBG] Connection id "0HMTPPF7RT3QR" started.
2023-09-20 13:22:01.809 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 13:22:01.825 +02:00 [DBG] Connection id "0HMTPPF7RT3QS" accepted.
2023-09-20 13:22:01.828 +02:00 [DBG] Connection id "0HMTPPF7RT3QS" started.
2023-09-20 13:22:01.828 +02:00 [DBG] Connection id "0HMTPPF7RT3QT" accepted.
2023-09-20 13:22:01.828 +02:00 [DBG] Connection id "0HMTPPF7RT3QT" started.
2023-09-20 13:22:01.857 +02:00 [DBG] Connection id "0HMTPPF7RT3QR" stopped.
2023-09-20 13:22:01.860 +02:00 [DBG] Connection id "0HMTPPF7RT3QR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:22:01.909 +02:00 [DBG] Connection 0HMTPPF7RT3QS established using the following protocol: "Tls12"
2023-09-20 13:22:01.909 +02:00 [DBG] Connection 0HMTPPF7RT3QT established using the following protocol: "Tls12"
2023-09-20 13:22:01.934 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 13:22:01.934 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 13:22:01.947 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 13:22:01.948 +02:00 [DBG] Request did not match any endpoints
2023-09-20 13:22:02.025 +02:00 [DBG] Connection id "0HMTPPF7RT3QS" completed keep alive response.
2023-09-20 13:22:02.026 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 92.4313ms
2023-09-20 13:22:02.152 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 13:22:02.152 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 13:22:02.152 +02:00 [DBG] Request did not match any endpoints
2023-09-20 13:22:02.304 +02:00 [DBG] Connection id "0HMTPPF7RT3QS" completed keep alive response.
2023-09-20 13:22:02.304 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.5761ms
2023-09-20 13:22:08.795 +02:00 [DBG] Connection id "0HMTPPF7RT3QU" accepted.
2023-09-20 13:22:08.796 +02:00 [DBG] Connection id "0HMTPPF7RT3QU" started.
2023-09-20 13:22:08.834 +02:00 [DBG] Connection 0HMTPPF7RT3QU established using the following protocol: "Tls12"
2023-09-20 13:22:08.839 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:22:08.854 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:22:08.856 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:22:08.857 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:22:08.858 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:22:08.859 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:22:08.869 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:22:08.869 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:22:08.869 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:22:08.870 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:22:08.870 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:22:08.870 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:22:08.871 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:22:08.977 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 13:22:09.552 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:22:09.616 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:22:09.618 +02:00 [INF] Getting all villas
2023-09-20 13:22:09.643 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 13:22:09.745 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 13:22:09.769 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:22:09.770 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:22:09.802 +02:00 [DBG] Created DbConnection. (29ms).
2023-09-20 13:22:09.807 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2023-09-20 13:22:09.808 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (40ms).
2023-09-20 13:22:09.811 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:22:09.902 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:22:09.913 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:22:09.944 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:22:09.974 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:22:09.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:22:09.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:22:09.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:22:09.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:22:09.998 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:22:09.999 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:22:10.005 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:22:10.013 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 62ms reading results.
2023-09-20 13:22:10.019 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:22:10.024 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 13:22:10.050 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:22:10.054 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:22:10.055 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:22:10.055 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:22:10.109 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1235.6342ms
2023-09-20 13:22:10.111 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:22:10.116 +02:00 [DBG] Connection id "0HMTPPF7RT3QU" completed keep alive response.
2023-09-20 13:22:10.120 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:22:10.126 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:22:10.129 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 13:22:10.130 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1939 application/json;+charset=utf-8 1290.5970ms
2023-09-20 13:22:11.593 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - -
2023-09-20 13:22:11.596 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:22:11.597 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:22:11.597 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:22:11.598 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:22:11.599 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:22:11.616 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:22:11.616 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:22:11.616 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:22:11.616 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:22:11.616 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:22:11.616 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:22:11.616 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:22:11.643 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:22:11.643 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:22:11.648 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:22:11.650 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:22:11.650 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:22:11.650 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:22:11.650 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:22:11.651 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:22:11.669 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 13:22:11.723 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 13:22:11.731 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:22:11.731 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:22:11.731 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:22:11.731 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:22:11.734 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-09-20 13:22:11.734 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:22:11.734 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:22:11.737 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:22:11.747 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 13:22:11.747 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:22:11.749 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:22:11.749 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 13:22:11.749 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:22:11.749 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:22:11.750 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:22:11.750 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:22:11.750 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:22:11.750 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:22:11.750 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 134.2965ms
2023-09-20 13:22:11.750 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 13:22:11.751 +02:00 [DBG] Connection id "0HMTPPF7RT3QU" completed keep alive response.
2023-09-20 13:22:11.751 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:22:11.751 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:22:11.751 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:22:11.751 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/17 - - - 200 182 application/json;+charset=utf-8 157.4839ms
2023-09-20 13:22:14.690 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116
2023-09-20 13:22:14.691 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/17'
2023-09-20 13:22:14.691 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/17'
2023-09-20 13:22:14.691 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:22:14.691 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:22:14.692 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:22:14.697 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:22:14.697 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:22:14.697 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:22:14.697 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:22:14.697 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:22:14.697 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:22:14.698 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:22:14.703 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:22:14.704 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:22:14.705 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 13:22:14.705 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 13:22:14.705 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:22:14.705 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 13:22:14.705 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 13:22:14.705 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 13:22:14.705 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:22:14.706 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2023-09-20 13:22:14.707 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:22:14.707 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:22:14.714 +02:00 [DBG] Connection id "0HMTPPF7RT3QU", Request id "0HMTPPF7RT3QU:00000003": started reading request body.
2023-09-20 13:22:14.714 +02:00 [DBG] Connection id "0HMTPPF7RT3QU", Request id "0HMTPPF7RT3QU:00000003": done reading request body.
2023-09-20 13:22:14.752 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:22:14.753 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:22:14.753 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2023-09-20 13:22:14.759 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2023-09-20 13:22:30.570 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:16.015 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:23:16.020 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:23:16.029 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:23:16.076 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:23:16.076 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:23:16.076 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:23:16.076 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:23:16.078 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:23:16.078 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:23:16.078 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:23:16.078 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:23:16.089 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Villas" SET "Amenity" = @p0, "CreatedDate" = @p1, "Details" = @p2, "ImageUrl" = @p3, "Name" = @p4, "Occupancy" = @p5, "Rate" = @p6, "Sqft" = @p7, "UpdatedDate" = @p8
WHERE "Id" = @p9;
2023-09-20 13:23:16.092 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:23:16.092 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2023-09-20 13:23:16.100 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:23:16.100 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:23:16.131 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:16.133 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:23:21.071 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:23:21.074 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:23:21.074 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:23:21.075 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:23:21.075 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI) in 66376.9186ms
2023-09-20 13:23:21.075 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.UpdateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:23:21.075 +02:00 [DBG] Connection id "0HMTPPF7RT3QU" completed keep alive response.
2023-09-20 13:23:21.075 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:23:21.075 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:23:21.075 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:23:21.076 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaApi/17 application/json;+charset=utf-8 116 - 200 70 application/json;+charset=utf-8 66386.1185ms
2023-09-20 13:23:21.079 +02:00 [DBG] Connection id "0HMTPPF7RT3QT" received FIN.
2023-09-20 13:23:21.080 +02:00 [DBG] Connection id "0HMTPPF7RT3QT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:23:21.081 +02:00 [DBG] Connection id "0HMTPPF7RT3QT" disconnecting.
2023-09-20 13:23:21.083 +02:00 [DBG] Connection id "0HMTPPF7RT3QV" accepted.
2023-09-20 13:23:21.083 +02:00 [DBG] Connection id "0HMTPPF7RT3QV" started.
2023-09-20 13:23:21.112 +02:00 [DBG] Connection id "0HMTPPF7RT3QT" stopped.
2023-09-20 13:23:21.137 +02:00 [DBG] Connection 0HMTPPF7RT3QV established using the following protocol: "Tls12"
2023-09-20 13:23:21.140 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:23:21.141 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:23:21.141 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:23:21.141 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:23:21.141 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:23:21.141 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:23:21.141 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:23:21.141 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:23:21.141 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:23:21.141 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:23:21.141 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:23:21.141 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:23:21.141 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:23:21.142 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:23:21.142 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:23:21.142 +02:00 [INF] Getting all villas
2023-09-20 13:23:21.143 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:23:21.143 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:23:21.144 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:23:21.144 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:23:21.144 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:23:21.144 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:23:21.144 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:23:21.144 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:23:21.171 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:23:21.197 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:21.223 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:21.224 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:21.224 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:21.224 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:21.225 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:21.225 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:23:21.225 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:23:21.225 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 53ms reading results.
2023-09-20 13:23:21.225 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:23:21.225 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:23:21.226 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:23:21.226 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:23:21.226 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:23:21.226 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:23:21.227 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 85.6228ms
2023-09-20 13:23:21.227 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:23:21.227 +02:00 [DBG] Connection id "0HMTPPF7RT3QV" completed keep alive response.
2023-09-20 13:23:21.227 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:23:21.227 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:23:21.227 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:23:21.227 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1939 application/json;+charset=utf-8 86.7303ms
2023-09-20 13:24:18.792 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 13:24:18.852 +02:00 [DBG] Hosting starting
2023-09-20 13:24:19.073 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 13:24:19.073 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 13:24:19.073 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 13:24:19.073 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 13:24:19.074 +02:00 [INF] Hosting environment: Development
2023-09-20 13:24:19.074 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 13:24:19.074 +02:00 [DBG] Hosting started
2023-09-20 13:24:19.490 +02:00 [DBG] Connection id "0HMTPPGGT2URJ" received FIN.
2023-09-20 13:24:19.493 +02:00 [DBG] Connection id "0HMTPPGGT2URJ" accepted.
2023-09-20 13:24:19.493 +02:00 [DBG] Connection id "0HMTPPGGT2URJ" started.
2023-09-20 13:24:19.501 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 13:24:19.518 +02:00 [DBG] Connection id "0HMTPPGGT2URJ" stopped.
2023-09-20 13:24:19.520 +02:00 [DBG] Connection id "0HMTPPGGT2URJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:24:19.583 +02:00 [DBG] Connection id "0HMTPPGGT2URK" accepted.
2023-09-20 13:24:19.583 +02:00 [DBG] Connection id "0HMTPPGGT2URL" accepted.
2023-09-20 13:24:19.583 +02:00 [DBG] Connection id "0HMTPPGGT2URK" started.
2023-09-20 13:24:19.591 +02:00 [DBG] Connection id "0HMTPPGGT2URL" started.
2023-09-20 13:24:19.626 +02:00 [DBG] Connection 0HMTPPGGT2URK established using the following protocol: "Tls12"
2023-09-20 13:24:19.626 +02:00 [DBG] Connection 0HMTPPGGT2URL established using the following protocol: "Tls12"
2023-09-20 13:24:19.651 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 13:24:19.652 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 13:24:19.664 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 13:24:19.665 +02:00 [DBG] Request did not match any endpoints
2023-09-20 13:24:19.743 +02:00 [DBG] Connection id "0HMTPPGGT2URK" completed keep alive response.
2023-09-20 13:24:19.744 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 94.0742ms
2023-09-20 13:24:19.824 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 13:24:19.824 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 13:24:19.824 +02:00 [DBG] Request did not match any endpoints
2023-09-20 13:24:19.971 +02:00 [DBG] Connection id "0HMTPPGGT2URK" completed keep alive response.
2023-09-20 13:24:19.972 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.6201ms
2023-09-20 13:24:27.601 +02:00 [DBG] Connection id "0HMTPPGGT2URM" accepted.
2023-09-20 13:24:27.602 +02:00 [DBG] Connection id "0HMTPPGGT2URM" started.
2023-09-20 13:24:27.626 +02:00 [DBG] Connection 0HMTPPGGT2URM established using the following protocol: "Tls12"
2023-09-20 13:24:27.636 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:24:27.640 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:24:27.641 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:24:27.642 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:24:27.642 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:24:27.644 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:24:27.653 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:24:27.653 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:24:27.653 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:24:27.653 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:24:27.653 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:24:27.654 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:24:27.654 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:24:27.751 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 13:24:28.328 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:24:28.393 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:24:28.394 +02:00 [INF] Getting all villas
2023-09-20 13:24:28.419 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 13:24:28.522 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 13:24:28.544 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:24:28.546 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:24:28.574 +02:00 [DBG] Created DbConnection. (25ms).
2023-09-20 13:24:28.579 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (32ms).
2023-09-20 13:24:28.580 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2023-09-20 13:24:28.583 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:24:28.672 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:28.683 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:24:28.713 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:24:28.741 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:28.765 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:28.765 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:28.765 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:28.765 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:28.765 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:28.765 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:28.771 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:28.780 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 60ms reading results.
2023-09-20 13:24:28.785 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:28.791 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 13:24:28.812 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:24:28.815 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:24:28.816 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:24:28.816 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:24:28.871 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1213.3236ms
2023-09-20 13:24:28.872 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:24:28.878 +02:00 [DBG] Connection id "0HMTPPGGT2URM" completed keep alive response.
2023-09-20 13:24:28.883 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:24:28.889 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:24:28.892 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 13:24:28.893 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1939 application/json;+charset=utf-8 1256.9128ms
2023-09-20 13:24:33.762 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107
2023-09-20 13:24:33.763 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:24:33.763 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:24:33.763 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:24:33.763 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:24:33.763 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:24:33.773 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:24:33.773 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:24:33.773 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:24:33.773 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:24:33.773 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:24:33.773 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:24:33.773 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:24:33.797 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:24:33.797 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:24:33.803 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 13:24:33.805 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 13:24:33.805 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:24:33.805 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 13:24:33.810 +02:00 [DBG] Connection id "0HMTPPGGT2URM", Request id "0HMTPPGGT2URM:00000002": started reading request body.
2023-09-20 13:24:33.810 +02:00 [DBG] Connection id "0HMTPPGGT2URM", Request id "0HMTPPGGT2URM:00000002": done reading request body.
2023-09-20 13:24:33.836 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 13:24:33.836 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 13:24:33.836 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 13:24:33.842 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 13:24:33.855 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 13:24:33.935 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 13:24:33.946 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:24:33.946 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:24:33.947 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:24:33.947 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:24:33.949 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 13:24:33.949 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:24:33.949 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:33.952 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 13:24:33.963 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 13:24:33.965 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:33.965 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 13:24:33.965 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:33.965 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:24:33.985 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:33.991 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:33.993 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 13:24:33.995 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 13:24:34.003 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 13:24:34.040 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:24:34.040 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:34.041 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:24:34.041 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:24:34.041 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:24:34.041 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 13:24:34.048 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 13:24:34.055 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 13:24:34.057 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:34.057 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2023-09-20 13:24:34.058 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:34.058 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:24:34.066 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.068 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 13:24:34.069 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:24:34.069 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:24:34.069 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:24:34.069 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:24:34.083 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[19])
2023-09-20 13:24:34.089 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/19 and 
2023-09-20 13:24:34.089 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/19
2023-09-20 13:24:34.090 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 316.683ms
2023-09-20 13:24:34.090 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 13:24:34.090 +02:00 [DBG] Connection id "0HMTPPGGT2URM" completed keep alive response.
2023-09-20 13:24:34.090 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:24:34.090 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:24:34.090 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:24:34.090 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 107 - 201 181 application/json;+charset=utf-8 328.4000ms
2023-09-20 13:24:34.094 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 13:24:34.094 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 13:24:34.094 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 13:24:34.094 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:24:34.094 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 13:24:34.094 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:24:34.094 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 13:24:34.094 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 13:24:34.094 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 13:24:34.094 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 13:24:34.094 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 13:24:34.095 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 13:24:34.095 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:24:34.098 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 13:24:34.098 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 13:24:34.098 +02:00 [INF] Getting all villas
2023-09-20 13:24:34.098 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 13:24:34.099 +02:00 [DBG] Creating DbConnection.
2023-09-20 13:24:34.099 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 13:24:34.099 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:24:34.099 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 13:24:34.099 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:24:34.099 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:34.099 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:24:34.100 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 13:24:34.126 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.173 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.173 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.173 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.173 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.173 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.173 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.173 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 13:24:34.173 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:34.173 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 72ms reading results.
2023-09-20 13:24:34.173 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 13:24:34.173 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:24:34.174 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 13:24:34.174 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 13:24:34.174 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 13:24:34.174 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 13:24:34.174 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 79.7192ms
2023-09-20 13:24:34.174 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 13:24:34.174 +02:00 [DBG] Connection id "0HMTPPGGT2URM" completed keep alive response.
2023-09-20 13:24:34.174 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 13:24:34.174 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 13:24:34.174 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 13:24:34.174 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 2055 application/json;+charset=utf-8 80.3737ms
2023-09-20 13:25:36.098 +02:00 [DBG] Connection id "0HMTPPGGT2URM" received FIN.
2023-09-20 13:25:36.136 +02:00 [DBG] Connection id "0HMTPPGGT2URM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:25:36.140 +02:00 [DBG] Connection id "0HMTPPGGT2URM" disconnecting.
2023-09-20 13:25:36.147 +02:00 [DBG] Connection id "0HMTPPGGT2URM" stopped.
2023-09-20 13:26:07.438 +02:00 [DBG] Connection id "0HMTPPGGT2URL" received FIN.
2023-09-20 13:26:07.439 +02:00 [DBG] Connection id "0HMTPPGGT2URL" disconnecting.
2023-09-20 13:26:07.442 +02:00 [DBG] Connection id "0HMTPPGGT2URL" stopped.
2023-09-20 13:26:07.445 +02:00 [DBG] Connection id "0HMTPPGGT2URL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 13:37:10.665 +02:00 [DBG] Connection id "0HMTPPGGT2URK" received FIN.
2023-09-20 13:37:10.668 +02:00 [DBG] Connection id "0HMTPPGGT2URK" disconnecting.
2023-09-20 13:37:10.669 +02:00 [DBG] Connection id "0HMTPPGGT2URK" stopped.
2023-09-20 13:37:10.671 +02:00 [DBG] Connection id "0HMTPPGGT2URK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:33:42.266 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 14:33:42.325 +02:00 [DBG] Hosting starting
2023-09-20 14:33:42.561 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 14:33:42.561 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 14:33:42.561 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 14:33:42.561 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 14:33:42.561 +02:00 [INF] Hosting environment: Development
2023-09-20 14:33:42.561 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 14:33:42.561 +02:00 [DBG] Hosting started
2023-09-20 14:33:43.026 +02:00 [DBG] Connection id "0HMTPQN9NL9RP" received FIN.
2023-09-20 14:33:43.030 +02:00 [DBG] Connection id "0HMTPQN9NL9RP" accepted.
2023-09-20 14:33:43.030 +02:00 [DBG] Connection id "0HMTPQN9NL9RP" started.
2023-09-20 14:33:43.039 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 14:33:43.056 +02:00 [DBG] Connection id "0HMTPQN9NL9RP" stopped.
2023-09-20 14:33:43.058 +02:00 [DBG] Connection id "0HMTPQN9NL9RP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:33:43.133 +02:00 [DBG] Connection id "0HMTPQN9NL9RQ" accepted.
2023-09-20 14:33:43.133 +02:00 [DBG] Connection id "0HMTPQN9NL9RQ" started.
2023-09-20 14:33:43.133 +02:00 [DBG] Connection id "0HMTPQN9NL9RR" accepted.
2023-09-20 14:33:43.133 +02:00 [DBG] Connection id "0HMTPQN9NL9RR" started.
2023-09-20 14:33:43.181 +02:00 [DBG] Connection 0HMTPQN9NL9RR established using the following protocol: "Tls12"
2023-09-20 14:33:43.181 +02:00 [DBG] Connection 0HMTPQN9NL9RQ established using the following protocol: "Tls12"
2023-09-20 14:33:43.206 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 14:33:43.207 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 14:33:43.221 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 14:33:43.221 +02:00 [DBG] Request did not match any endpoints
2023-09-20 14:33:43.303 +02:00 [DBG] Connection id "0HMTPQN9NL9RQ" completed keep alive response.
2023-09-20 14:33:43.304 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 98.5867ms
2023-09-20 14:33:43.384 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 14:33:43.384 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 14:33:43.384 +02:00 [DBG] Request did not match any endpoints
2023-09-20 14:33:43.536 +02:00 [DBG] Connection id "0HMTPQN9NL9RQ" completed keep alive response.
2023-09-20 14:33:43.537 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.4376ms
2023-09-20 14:33:56.820 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" accepted.
2023-09-20 14:33:56.822 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" started.
2023-09-20 14:33:56.838 +02:00 [DBG] Connection 0HMTPQN9NL9RS established using the following protocol: "Tls12"
2023-09-20 14:33:56.841 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 14:33:56.845 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 14:33:56.846 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 14:33:56.846 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:33:56.847 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:33:56.849 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:33:56.857 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:33:56.858 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:33:56.858 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:33:56.858 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:33:56.858 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:33:56.858 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:33:56.859 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:33:56.965 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 14:33:57.554 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:33:57.619 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:33:57.620 +02:00 [INF] Getting all villas
2023-09-20 14:33:57.648 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 14:33:57.749 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 14:33:57.774 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:33:57.776 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:33:57.811 +02:00 [DBG] Created DbConnection. (32ms).
2023-09-20 14:33:57.816 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2023-09-20 14:33:57.818 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (44ms).
2023-09-20 14:33:57.821 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:33:57.920 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:33:57.930 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:33:57.960 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:33:57.990 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:33:58.015 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:33:58.015 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:33:58.015 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:33:58.015 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:33:58.021 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:33:58.030 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 63ms reading results.
2023-09-20 14:33:58.036 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:33:58.042 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-20 14:33:58.064 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:33:58.068 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:33:58.069 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:33:58.069 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:33:58.124 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1262.3413ms
2023-09-20 14:33:58.125 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:33:58.130 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" completed keep alive response.
2023-09-20 14:33:58.136 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:33:58.142 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:33:58.145 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-20 14:33:58.146 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 1305.4333ms
2023-09-20 14:34:06.824 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 114
2023-09-20 14:34:06.825 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 14:34:06.825 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 14:34:06.825 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 14:34:06.825 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:34:06.826 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 14:34:06.838 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:34:06.838 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:34:06.838 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:34:06.838 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:34:06.839 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:34:06.839 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:34:06.839 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:34:06.863 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:34:06.863 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:34:06.869 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 14:34:06.871 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-20 14:34:06.872 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 14:34:06.872 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-20 14:34:06.879 +02:00 [DBG] Connection id "0HMTPQN9NL9RS", Request id "0HMTPQN9NL9RS:00000002": started reading request body.
2023-09-20 14:34:06.879 +02:00 [DBG] Connection id "0HMTPQN9NL9RS", Request id "0HMTPQN9NL9RS:00000002": done reading request body.
2023-09-20 14:34:06.908 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 14:34:06.908 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 14:34:06.908 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-20 14:34:06.913 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-20 14:34:06.926 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-20 14:34:07.006 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 14:34:07.018 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:34:07.019 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:34:07.019 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:34:07.019 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:34:07.021 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-09-20 14:34:07.022 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:34:07.022 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.024 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 14:34:07.037 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-20 14:34:07.037 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.038 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:34:07.038 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.038 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:34:07.066 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.073 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.076 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 14:34:07.079 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 14:34:07.091 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 14:34:07.145 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:34:07.145 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.147 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:34:07.147 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:34:07.147 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:34:07.147 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 14:34:07.162 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-20 14:34:07.169 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-20 14:34:07.172 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.172 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2023-09-20 14:34:07.172 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.172 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:34:07.181 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.183 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 14:34:07.184 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:34:07.184 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:34:07.184 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:34:07.185 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:34:07.200 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[20])
2023-09-20 14:34:07.206 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/20 and 
2023-09-20 14:34:07.206 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/20
2023-09-20 14:34:07.206 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 367.3575ms
2023-09-20 14:34:07.206 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-20 14:34:07.206 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" completed keep alive response.
2023-09-20 14:34:07.206 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:34:07.206 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:34:07.206 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:34:07.206 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 114 - 201 188 application/json;+charset=utf-8 382.3996ms
2023-09-20 14:34:07.213 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 14:34:07.213 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 14:34:07.214 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 14:34:07.214 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:34:07.214 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:34:07.214 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:34:07.214 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:34:07.214 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:34:07.214 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:34:07.214 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:34:07.214 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:34:07.214 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:34:07.214 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:34:07.217 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:34:07.217 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:34:07.217 +02:00 [INF] Getting all villas
2023-09-20 14:34:07.217 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:34:07.217 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:34:07.217 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:34:07.217 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:34:07.217 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:34:07.218 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:34:07.218 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.218 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:34:07.269 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:34:07.295 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.296 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.296 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.296 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.296 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.296 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:34:07.296 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.296 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:34:07.296 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:34:07.296 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:34:07.297 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:34:07.297 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:34:07.297 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:34:07.297 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:34:07.297 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 82.9969ms
2023-09-20 14:34:07.297 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:34:07.297 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" completed keep alive response.
2023-09-20 14:34:07.297 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:34:07.297 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:34:07.297 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:34:07.297 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1820 application/json;+charset=utf-8 83.6158ms
2023-09-20 14:35:11.856 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" received FIN.
2023-09-20 14:35:11.864 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:35:11.866 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" disconnecting.
2023-09-20 14:35:11.872 +02:00 [DBG] Connection id "0HMTPQN9NL9RS" stopped.
2023-09-20 14:35:18.225 +02:00 [DBG] Connection id "0HMTPQN9NL9RR" received FIN.
2023-09-20 14:35:18.226 +02:00 [DBG] Connection id "0HMTPQN9NL9RR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:35:18.226 +02:00 [DBG] Connection id "0HMTPQN9NL9RR" disconnecting.
2023-09-20 14:35:18.226 +02:00 [DBG] Connection id "0HMTPQN9NL9RR" stopped.
2023-09-20 14:35:20.061 +02:00 [DBG] Connection id "0HMTPQN9NL9RT" accepted.
2023-09-20 14:35:20.068 +02:00 [DBG] Connection id "0HMTPQN9NL9RT" started.
2023-09-20 14:35:20.096 +02:00 [DBG] Connection 0HMTPQN9NL9RT established using the following protocol: "Tls12"
2023-09-20 14:35:20.100 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/4 - -
2023-09-20 14:35:20.100 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/4'
2023-09-20 14:35:20.101 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/4'
2023-09-20 14:35:20.101 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:35:20.101 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:35:20.101 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:35:20.103 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:35:20.103 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:35:20.103 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:35:20.103 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:35:20.103 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:35:20.103 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:35:20.103 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:35:20.104 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:35:20.104 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:35:20.104 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 14:35:20.104 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 14:35:20.105 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:35:20.105 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:35:20.105 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 14:35:20.105 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 14:35:20.106 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 14:35:20.109 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 14:35:20.109 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:35:20.109 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:35:20.109 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:35:20.109 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:35:20.109 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:35:20.109 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:35:20.109 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:35:20.109 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:35:20.112 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:35:20.163 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:35:20.187 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:35:20.187 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 73ms reading results.
2023-09-20 14:35:20.187 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:35:20.187 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:35:20.188 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:35:20.188 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:35:20.188 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:35:20.188 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:35:20.189 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 85.4269ms
2023-09-20 14:35:20.189 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:35:20.189 +02:00 [DBG] Connection id "0HMTPQN9NL9RT" completed keep alive response.
2023-09-20 14:35:20.189 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:35:20.189 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:35:20.189 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:35:20.189 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/4 - - - 200 388 application/json;+charset=utf-8 88.9550ms
2023-09-20 14:38:10.912 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 14:38:10.964 +02:00 [DBG] Hosting starting
2023-09-20 14:38:11.115 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 14:38:11.115 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 14:38:11.115 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 14:38:11.115 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 14:38:11.115 +02:00 [INF] Hosting environment: Development
2023-09-20 14:38:11.115 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 14:38:11.115 +02:00 [DBG] Hosting started
2023-09-20 14:38:11.467 +02:00 [DBG] Connection id "0HMTPQPPNMT7R" received FIN.
2023-09-20 14:38:11.470 +02:00 [DBG] Connection id "0HMTPQPPNMT7R" accepted.
2023-09-20 14:38:11.471 +02:00 [DBG] Connection id "0HMTPQPPNMT7R" started.
2023-09-20 14:38:11.486 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 14:38:11.495 +02:00 [DBG] Connection id "0HMTPQPPNMT7R" stopped.
2023-09-20 14:38:11.498 +02:00 [DBG] Connection id "0HMTPQPPNMT7R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:38:11.548 +02:00 [DBG] Connection id "0HMTPQPPNMT7S" accepted.
2023-09-20 14:38:11.548 +02:00 [DBG] Connection id "0HMTPQPPNMT7S" started.
2023-09-20 14:38:11.548 +02:00 [DBG] Connection id "0HMTPQPPNMT7T" accepted.
2023-09-20 14:38:11.548 +02:00 [DBG] Connection id "0HMTPQPPNMT7T" started.
2023-09-20 14:38:11.581 +02:00 [DBG] Connection 0HMTPQPPNMT7S established using the following protocol: "Tls12"
2023-09-20 14:38:11.581 +02:00 [DBG] Connection 0HMTPQPPNMT7T established using the following protocol: "Tls12"
2023-09-20 14:38:11.602 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 14:38:11.603 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 14:38:11.614 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 14:38:11.615 +02:00 [DBG] Request did not match any endpoints
2023-09-20 14:38:11.682 +02:00 [DBG] Connection id "0HMTPQPPNMT7T" completed keep alive response.
2023-09-20 14:38:11.683 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 81.1620ms
2023-09-20 14:38:11.761 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 14:38:11.761 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 14:38:11.761 +02:00 [DBG] Request did not match any endpoints
2023-09-20 14:38:11.875 +02:00 [DBG] Connection id "0HMTPQPPNMT7T" completed keep alive response.
2023-09-20 14:38:11.875 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.8555ms
2023-09-20 14:38:18.616 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" accepted.
2023-09-20 14:38:18.616 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" started.
2023-09-20 14:38:18.639 +02:00 [DBG] Connection 0HMTPQPPNMT7U established using the following protocol: "Tls12"
2023-09-20 14:38:18.645 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 14:38:18.648 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 14:38:18.649 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 14:38:18.649 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:38:18.650 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:38:18.651 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:38:18.659 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:38:18.659 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:38:18.659 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:38:18.660 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:38:18.660 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:38:18.660 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:38:18.660 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:38:18.732 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 14:38:19.234 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:38:19.291 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:38:19.292 +02:00 [INF] Getting all villas
2023-09-20 14:38:19.312 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 14:38:19.400 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 14:38:19.420 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:38:19.421 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:38:19.445 +02:00 [DBG] Created DbConnection. (21ms).
2023-09-20 14:38:19.449 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-20 14:38:19.450 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-09-20 14:38:19.453 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:38:19.525 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:38:19.533 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:38:19.559 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:38:19.584 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:38:19.608 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:38:19.609 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:38:19.609 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:38:19.609 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:38:19.609 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:38:19.614 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:38:19.621 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 56ms reading results.
2023-09-20 14:38:19.625 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:38:19.630 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 14:38:19.650 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:38:19.653 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:38:19.653 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:38:19.653 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:38:19.700 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1037.0814ms
2023-09-20 14:38:19.701 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:38:19.704 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" completed keep alive response.
2023-09-20 14:38:19.707 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:38:19.711 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:38:19.713 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 14:38:19.714 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1820 application/json;+charset=utf-8 1068.3949ms
2023-09-20 14:38:21.540 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/2 - -
2023-09-20 14:38:21.541 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/2'
2023-09-20 14:38:21.542 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/2'
2023-09-20 14:38:21.542 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:38:21.542 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:38:21.542 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:38:21.552 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:38:21.552 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:38:21.552 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:38:21.552 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:38:21.552 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:38:21.552 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:38:21.552 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:38:21.585 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:38:21.586 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:38:21.588 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 14:38:21.588 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 14:38:21.589 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:38:21.589 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:38:21.589 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 14:38:21.589 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 14:38:21.601 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 14:38:21.644 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 14:38:21.651 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:38:21.651 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:38:21.651 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:38:21.651 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:38:21.654 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 14:38:21.655 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:38:21.655 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:38:21.657 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:38:21.666 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:38:21.667 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:38:21.667 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:38:21.667 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:38:21.667 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:38:21.667 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:38:21.668 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:38:21.668 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:38:21.669 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:38:21.669 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:38:21.669 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 116.5754ms
2023-09-20 14:38:21.669 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:38:21.669 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" completed keep alive response.
2023-09-20 14:38:21.669 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:38:21.669 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:38:21.669 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:38:21.669 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/2 - - - 200 393 application/json;+charset=utf-8 128.8393ms
2023-09-20 14:39:00.309 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/0 - -
2023-09-20 14:39:00.310 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/0'
2023-09-20 14:39:00.310 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/0'
2023-09-20 14:39:00.310 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:00.310 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:39:00.310 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:00.310 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:39:00.310 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:39:00.310 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:39:00.310 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:39:00.310 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:39:00.310 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:39:00.310 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:39:00.318 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:39:00.318 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:39:00.318 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 14:39:00.319 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 14:39:00.319 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:00.319 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:00.319 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 14:39:00.319 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:00.319 +02:00 [ERR] Get villa Error with id 0
2023-09-20 14:39:00.319 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:39:00.319 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:39:00.319 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:39:00.319 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:39:00.319 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 9.0605ms
2023-09-20 14:39:00.319 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:00.319 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" completed keep alive response.
2023-09-20 14:39:00.319 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:39:00.319 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/0 - - - 400 71 application/json;+charset=utf-8 9.9856ms
2023-09-20 14:39:54.135 +02:00 [DBG] Connection id "0HMTPQPPNMT7S" received FIN.
2023-09-20 14:39:54.139 +02:00 [DBG] Connection id "0HMTPQPPNMT7S" disconnecting.
2023-09-20 14:39:54.144 +02:00 [DBG] Connection id "0HMTPQPPNMT7S" stopped.
2023-09-20 14:39:54.145 +02:00 [DBG] Connection id "0HMTPQPPNMT7S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:39:54.149 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/2 - -
2023-09-20 14:39:54.149 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/2'
2023-09-20 14:39:54.149 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/2'
2023-09-20 14:39:54.149 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:54.150 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:39:54.150 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:54.150 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:39:54.150 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:39:54.150 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:39:54.150 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:39:54.150 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:39:54.150 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:39:54.150 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:39:54.151 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:39:54.151 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:39:54.151 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 14:39:54.151 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 14:39:54.151 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:54.151 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:54.151 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 14:39:54.151 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:54.155 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:39:54.155 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:39:54.155 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:39:54.155 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:39:54.155 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:39:54.155 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:39:54.155 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:39:54.155 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:39:54.157 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:39:54.157 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:39:54.158 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:39:54.158 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:39:54.158 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:39:54.158 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:39:54.158 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:39:54.158 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:39:54.158 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:39:54.158 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:39:54.159 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 8.9726ms
2023-09-20 14:39:54.159 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:54.159 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" completed keep alive response.
2023-09-20 14:39:54.159 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:39:54.159 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:39:54.159 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:39:54.159 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/2 - - - 200 393 application/json;+charset=utf-8 9.8074ms
2023-09-20 14:39:55.901 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/0 - -
2023-09-20 14:39:55.901 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/0'
2023-09-20 14:39:55.901 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/0'
2023-09-20 14:39:55.901 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:55.902 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:39:55.902 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:55.902 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:39:55.902 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:39:55.902 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:39:55.902 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:39:55.902 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:39:55.902 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:39:55.902 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:39:55.911 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:39:55.912 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:39:55.912 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 14:39:55.912 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 14:39:55.912 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:55.912 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:55.912 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 14:39:55.912 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:55.912 +02:00 [ERR] Get villa Error with id 0
2023-09-20 14:39:55.912 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:39:55.912 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:39:55.912 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:39:55.912 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:39:55.913 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 10.8054ms
2023-09-20 14:39:55.913 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:55.913 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" completed keep alive response.
2023-09-20 14:39:55.913 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:39:55.913 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/0 - - - 400 71 application/json;+charset=utf-8 12.4660ms
2023-09-20 14:39:56.861 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/2 - -
2023-09-20 14:39:56.861 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/2'
2023-09-20 14:39:56.861 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/2'
2023-09-20 14:39:56.861 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:56.861 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:39:56.861 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:56.862 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:39:56.862 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:39:56.862 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:39:56.862 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:39:56.862 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:39:56.862 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:39:56.862 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:39:56.863 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:39:56.863 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:39:56.863 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 14:39:56.863 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 14:39:56.863 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:56.863 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:56.863 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 14:39:56.863 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 14:39:56.864 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:39:56.864 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:39:56.864 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:39:56.864 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:39:56.864 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:39:56.864 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:39:56.864 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:39:56.864 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:39:56.866 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:39:56.866 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:39:56.867 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:39:56.867 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:39:56.867 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:39:56.867 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:39:56.867 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:39:56.867 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:39:56.867 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:39:56.867 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:39:56.868 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 5.2538ms
2023-09-20 14:39:56.868 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:39:56.868 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" completed keep alive response.
2023-09-20 14:39:56.868 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:39:56.868 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:39:56.868 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:39:56.868 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/2 - - - 200 393 application/json;+charset=utf-8 7.4054ms
2023-09-20 14:39:58.746 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" received FIN.
2023-09-20 14:39:58.746 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:39:58.746 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" disconnecting.
2023-09-20 14:39:58.747 +02:00 [DBG] Connection id "0HMTPQPPNMT7U" stopped.
2023-09-20 14:40:04.430 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" accepted.
2023-09-20 14:40:04.431 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" started.
2023-09-20 14:40:04.458 +02:00 [DBG] Connection 0HMTPQPPNMT7V established using the following protocol: "Tls12"
2023-09-20 14:40:04.464 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 14:40:04.464 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 14:40:04.464 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 14:40:04.464 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:40:04.464 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:40:04.464 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:40:04.465 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:40:04.465 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:40:04.465 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:40:04.465 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:40:04.465 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:40:04.465 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:40:04.465 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:40:04.465 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:40:04.465 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:40:04.465 +02:00 [INF] Getting all villas
2023-09-20 14:40:04.465 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:40:04.465 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:40:04.465 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:40:04.465 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:04.465 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:04.465 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:04.465 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:04.465 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:40:04.466 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:40:04.466 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:04.466 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:04.467 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:04.467 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:04.467 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:04.467 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:04.467 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:04.467 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:40:04.467 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:04.467 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:04.467 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:40:04.467 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:40:04.467 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:40:04.467 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:40:04.467 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 2.5325ms
2023-09-20 14:40:04.467 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:40:04.467 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" completed keep alive response.
2023-09-20 14:40:04.467 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:40:04.467 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:04.467 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:04.467 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1820 application/json;+charset=utf-8 3.0281ms
2023-09-20 14:40:05.980 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/20 - -
2023-09-20 14:40:05.980 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/20'
2023-09-20 14:40:05.980 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/20'
2023-09-20 14:40:05.980 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:40:05.980 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:40:05.980 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:40:05.980 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:40:05.980 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:40:05.981 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:40:05.981 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:40:05.981 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:40:05.981 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:40:05.981 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:40:05.981 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:40:05.981 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:40:05.981 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 14:40:05.982 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 14:40:05.982 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:40:05.982 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:40:05.982 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 14:40:05.982 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 14:40:05.982 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:40:05.982 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:40:05.982 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:40:05.982 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:05.982 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:05.982 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:05.982 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:05.982 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:40:05.984 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:40:05.984 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:05.984 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:05.984 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:40:05.984 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:05.984 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:05.985 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:40:05.985 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:40:05.985 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:40:05.985 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:40:05.985 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 4.3432ms
2023-09-20 14:40:05.985 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 14:40:05.985 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" completed keep alive response.
2023-09-20 14:40:05.985 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:40:05.985 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:05.985 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:05.985 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/20 - - - 200 188 application/json;+charset=utf-8 5.5868ms
2023-09-20 14:40:07.814 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7001/api/villaApi/20 - -
2023-09-20 14:40:07.814 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/20'
2023-09-20 14:40:07.814 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/20'
2023-09-20 14:40:07.815 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-20 14:40:07.815 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:40:07.815 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-20 14:40:07.818 +02:00 [INF] Route matched with {action = "DeleteVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] DeleteVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:40:07.818 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:40:07.818 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:40:07.818 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:40:07.818 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:40:07.818 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:40:07.818 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:40:07.819 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:40:07.819 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:40:07.819 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 14:40:07.819 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 14:40:07.819 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:40:07.819 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 14:40:07.819 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 14:40:07.819 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 14:40:07.821 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:40:07.822 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:40:07.822 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:40:07.822 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:07.822 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:07.822 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:07.822 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.822 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:40:07.823 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 14:40:07.824 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:07.824 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.824 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:40:07.824 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.824 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:07.839 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:07.844 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-20 14:40:07.847 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-20 14:40:07.863 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-20 14:40:07.907 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:07.907 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.908 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:40:07.908 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:07.908 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:07.908 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Villas"
WHERE "Id" = @p0;
2023-09-20 14:40:07.912 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Villas"
WHERE "Id" = @p0;
2023-09-20 14:40:07.913 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.913 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2023-09-20 14:40:07.914 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.914 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:07.917 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:07.918 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-20 14:40:07.918 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:40:07.918 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:40:07.918 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:40:07.918 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:40:07.918 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI) in 100.1319ms
2023-09-20 14:40:07.918 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.DeleteVilla (MagicVilla_VillaAPI)'
2023-09-20 14:40:07.918 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" completed keep alive response.
2023-09-20 14:40:07.919 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:40:07.919 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:07.919 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:07.919 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7001/api/villaApi/20 - - - 200 70 application/json;+charset=utf-8 104.4068ms
2023-09-20 14:40:07.921 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 14:40:07.922 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 14:40:07.922 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 14:40:07.922 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:40:07.922 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 14:40:07.922 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:40:07.922 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 14:40:07.922 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 14:40:07.922 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 14:40:07.922 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 14:40:07.922 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 14:40:07.922 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 14:40:07.922 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:40:07.922 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 14:40:07.922 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 14:40:07.922 +02:00 [INF] Getting all villas
2023-09-20 14:40:07.922 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 14:40:07.922 +02:00 [DBG] Creating DbConnection.
2023-09-20 14:40:07.922 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 14:40:07.922 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:07.922 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 14:40:07.922 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:07.922 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.922 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:40:07.923 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 14:40:07.923 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:07.923 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:07.923 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:07.923 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:07.923 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 14:40:07.923 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.923 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 14:40:07.923 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 14:40:07.923 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:07.924 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 14:40:07.924 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 14:40:07.924 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 14:40:07.924 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 14:40:07.924 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1.909ms
2023-09-20 14:40:07.924 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 14:40:07.924 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" completed keep alive response.
2023-09-20 14:40:07.924 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 14:40:07.924 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 14:40:07.924 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 14:40:07.924 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 2.3507ms
2023-09-20 14:40:17.981 +02:00 [INF] Application is shutting down...
2023-09-20 14:40:17.983 +02:00 [DBG] Hosting stopping
2023-09-20 14:40:17.995 +02:00 [DBG] Connection id "0HMTPQPPNMT7T" disconnecting.
2023-09-20 14:40:17.995 +02:00 [DBG] Connection id "0HMTPQPPNMT7T" stopped.
2023-09-20 14:40:17.995 +02:00 [DBG] Connection id "0HMTPQPPNMT7T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:40:17.995 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" disconnecting.
2023-09-20 14:40:17.995 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" stopped.
2023-09-20 14:40:17.995 +02:00 [DBG] Connection id "0HMTPQPPNMT7V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 14:40:17.998 +02:00 [DBG] Hosting stopped
2023-09-20 18:14:37.459 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 18:14:37.513 +02:00 [DBG] Hosting starting
2023-09-20 18:14:37.684 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 18:14:37.684 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 18:14:37.684 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 18:14:37.684 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 18:14:37.684 +02:00 [INF] Hosting environment: Development
2023-09-20 18:14:37.684 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 18:14:37.684 +02:00 [DBG] Hosting started
2023-09-20 18:14:37.997 +02:00 [DBG] Connection id "0HMTPUIO0TE1T" received FIN.
2023-09-20 18:14:38.000 +02:00 [DBG] Connection id "0HMTPUIO0TE1T" accepted.
2023-09-20 18:14:38.000 +02:00 [DBG] Connection id "0HMTPUIO0TE1T" started.
2023-09-20 18:14:38.008 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 18:14:38.016 +02:00 [DBG] Connection id "0HMTPUIO0TE1T" stopped.
2023-09-20 18:14:38.018 +02:00 [DBG] Connection id "0HMTPUIO0TE1T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:14:38.119 +02:00 [DBG] Connection id "0HMTPUIO0TE1U" accepted.
2023-09-20 18:14:38.119 +02:00 [DBG] Connection id "0HMTPUIO0TE1V" accepted.
2023-09-20 18:14:38.119 +02:00 [DBG] Connection id "0HMTPUIO0TE1U" started.
2023-09-20 18:14:38.119 +02:00 [DBG] Connection id "0HMTPUIO0TE1V" started.
2023-09-20 18:14:38.176 +02:00 [DBG] Connection 0HMTPUIO0TE1U established using the following protocol: "Tls12"
2023-09-20 18:14:38.176 +02:00 [DBG] Connection 0HMTPUIO0TE1V established using the following protocol: "Tls12"
2023-09-20 18:14:38.199 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 18:14:38.199 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 18:14:38.211 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 18:14:38.211 +02:00 [DBG] Request did not match any endpoints
2023-09-20 18:14:38.280 +02:00 [DBG] Connection id "0HMTPUIO0TE1V" completed keep alive response.
2023-09-20 18:14:38.281 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 83.0643ms
2023-09-20 18:14:38.368 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 18:14:38.368 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 18:14:38.368 +02:00 [DBG] Request did not match any endpoints
2023-09-20 18:14:38.489 +02:00 [DBG] Connection id "0HMTPUIO0TE1V" completed keep alive response.
2023-09-20 18:14:38.489 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.2183ms
2023-09-20 18:14:46.601 +02:00 [DBG] Connection id "0HMTPUIO0TE20" accepted.
2023-09-20 18:14:46.601 +02:00 [DBG] Connection id "0HMTPUIO0TE20" started.
2023-09-20 18:14:46.627 +02:00 [DBG] Connection 0HMTPUIO0TE20 established using the following protocol: "Tls12"
2023-09-20 18:14:46.633 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 18:14:46.636 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 18:14:46.637 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 18:14:46.637 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 18:14:46.638 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 18:14:46.639 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 18:14:46.647 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 18:14:46.647 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 18:14:46.648 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 18:14:46.648 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 18:14:46.648 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 18:14:46.648 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 18:14:46.648 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 18:14:46.721 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 18:14:47.219 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 18:14:47.276 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 18:14:47.277 +02:00 [INF] Getting all villas
2023-09-20 18:14:47.297 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 18:14:47.385 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 18:14:47.406 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 18:14:47.407 +02:00 [DBG] Creating DbConnection.
2023-09-20 18:14:47.431 +02:00 [DBG] Created DbConnection. (21ms).
2023-09-20 18:14:47.435 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-20 18:14:47.436 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-09-20 18:14:47.439 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:14:47.512 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:14:47.521 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 18:14:47.546 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 18:14:47.571 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:14:47.594 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:14:47.595 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:14:47.595 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:14:47.595 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:14:47.600 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:14:47.607 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 56ms reading results.
2023-09-20 18:14:47.612 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:14:47.617 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 18:14:47.636 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 18:14:47.639 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 18:14:47.640 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 18:14:47.640 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 18:14:47.690 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1039.0526ms
2023-09-20 18:14:47.691 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 18:14:47.695 +02:00 [DBG] Connection id "0HMTPUIO0TE20" completed keep alive response.
2023-09-20 18:14:47.698 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 18:14:47.702 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:14:47.704 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 18:14:47.704 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 1070.9941ms
2023-09-20 18:14:55.379 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi/2 - -
2023-09-20 18:14:55.380 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi/2'
2023-09-20 18:14:55.381 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/villaApi/2'
2023-09-20 18:14:55.381 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 18:14:55.381 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 18:14:55.381 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 18:14:55.391 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 18:14:55.391 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 18:14:55.391 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 18:14:55.391 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 18:14:55.391 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 18:14:55.391 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 18:14:55.391 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 18:14:55.422 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 18:14:55.423 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 18:14:55.425 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-20 18:14:55.425 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-20 18:14:55.426 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 18:14:55.426 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-20 18:14:55.426 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-20 18:14:55.426 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-20 18:14:55.437 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2023-09-20 18:14:55.480 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-20 18:14:55.486 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 18:14:55.486 +02:00 [DBG] Creating DbConnection.
2023-09-20 18:14:55.486 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 18:14:55.487 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 18:14:55.489 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-20 18:14:55.489 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:14:55.489 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:14:55.491 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 18:14:55.499 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE v."Id" = @__id_0
LIMIT 1
2023-09-20 18:14:55.499 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:14:55.500 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:14:55.500 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 18:14:55.500 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:14:55.500 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 18:14:55.501 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 18:14:55.501 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 18:14:55.501 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 18:14:55.502 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 18:14:55.502 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) in 110.876ms
2023-09-20 18:14:55.502 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)'
2023-09-20 18:14:55.502 +02:00 [DBG] Connection id "0HMTPUIO0TE20" completed keep alive response.
2023-09-20 18:14:55.502 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 18:14:55.502 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:14:55.502 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 18:14:55.502 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi/2 - - - 200 393 application/json;+charset=utf-8 122.8564ms
2023-09-20 18:16:01.614 +02:00 [DBG] Connection id "0HMTPUIO0TE20" received FIN.
2023-09-20 18:16:01.620 +02:00 [DBG] Connection id "0HMTPUIO0TE20" disconnecting.
2023-09-20 18:16:01.622 +02:00 [DBG] Connection id "0HMTPUIO0TE20" stopped.
2023-09-20 18:16:01.624 +02:00 [DBG] Connection id "0HMTPUIO0TE20" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:16:48.674 +02:00 [DBG] Connection id "0HMTPUIO0TE1V" disconnecting.
2023-09-20 18:16:48.674 +02:00 [DBG] Connection id "0HMTPUIO0TE1U" disconnecting.
2023-09-20 18:16:48.674 +02:00 [DBG] Connection id "0HMTPUIO0TE1V" stopped.
2023-09-20 18:16:48.674 +02:00 [DBG] Connection id "0HMTPUIO0TE1U" stopped.
2023-09-20 18:16:48.674 +02:00 [DBG] Connection id "0HMTPUIO0TE1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:16:48.674 +02:00 [DBG] Connection id "0HMTPUIO0TE1U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:25:44.644 +02:00 [INF] Application is shutting down...
2023-09-20 18:25:44.646 +02:00 [DBG] Hosting stopping
2023-09-20 18:25:44.654 +02:00 [DBG] Hosting stopped
2023-09-20 18:29:03.055 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 18:29:03.107 +02:00 [DBG] Hosting starting
2023-09-20 18:29:03.263 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 18:29:03.263 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 18:29:03.263 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 18:29:03.263 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 18:29:03.263 +02:00 [INF] Hosting environment: Development
2023-09-20 18:29:03.263 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 18:29:03.263 +02:00 [DBG] Hosting started
2023-09-20 18:29:03.607 +02:00 [DBG] Connection id "0HMTPUQQ00O6F" received FIN.
2023-09-20 18:29:03.613 +02:00 [DBG] Connection id "0HMTPUQQ00O6F" accepted.
2023-09-20 18:29:03.614 +02:00 [DBG] Connection id "0HMTPUQQ00O6F" started.
2023-09-20 18:29:03.641 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 18:29:03.644 +02:00 [DBG] Connection id "0HMTPUQQ00O6G" accepted.
2023-09-20 18:29:03.651 +02:00 [DBG] Connection id "0HMTPUQQ00O6G" started.
2023-09-20 18:29:03.651 +02:00 [DBG] Connection id "0HMTPUQQ00O6H" accepted.
2023-09-20 18:29:03.651 +02:00 [DBG] Connection id "0HMTPUQQ00O6H" started.
2023-09-20 18:29:03.653 +02:00 [DBG] Connection id "0HMTPUQQ00O6F" stopped.
2023-09-20 18:29:03.655 +02:00 [DBG] Connection id "0HMTPUQQ00O6F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:29:03.695 +02:00 [DBG] Connection 0HMTPUQQ00O6G established using the following protocol: "Tls12"
2023-09-20 18:29:03.695 +02:00 [DBG] Connection 0HMTPUQQ00O6H established using the following protocol: "Tls12"
2023-09-20 18:29:03.717 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 18:29:03.718 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 18:29:03.730 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 18:29:03.730 +02:00 [DBG] Request did not match any endpoints
2023-09-20 18:29:03.795 +02:00 [DBG] Connection id "0HMTPUQQ00O6H" completed keep alive response.
2023-09-20 18:29:03.796 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 79.6444ms
2023-09-20 18:29:03.877 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 18:29:03.877 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 18:29:03.877 +02:00 [DBG] Request did not match any endpoints
2023-09-20 18:29:03.997 +02:00 [DBG] Connection id "0HMTPUQQ00O6H" completed keep alive response.
2023-09-20 18:29:03.997 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.2294ms
2023-09-20 18:29:06.063 +02:00 [DBG] Connection id "0HMTPUQQ00O6I" accepted.
2023-09-20 18:29:06.063 +02:00 [DBG] Connection id "0HMTPUQQ00O6I" started.
2023-09-20 18:29:06.090 +02:00 [DBG] Connection 0HMTPUQQ00O6I established using the following protocol: "Tls12"
2023-09-20 18:29:06.097 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2023-09-20 18:29:06.099 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2023-09-20 18:29:06.100 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2023-09-20 18:29:06.100 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:29:06.102 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 18:29:06.103 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:29:06.109 +02:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumbers() on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2023-09-20 18:29:06.110 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 18:29:06.110 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 18:29:06.110 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 18:29:06.110 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 18:29:06.110 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 18:29:06.111 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-20 18:29:06.183 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 18:29:06.683 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 18:29:06.740 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-20 18:29:06.741 +02:00 [INF] Getting all villas
2023-09-20 18:29:06.761 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()'
2023-09-20 18:29:06.847 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId
        FROM VillaNumbers AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 18:29:06.867 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 18:29:06.869 +02:00 [DBG] Creating DbConnection.
2023-09-20 18:29:06.892 +02:00 [DBG] Created DbConnection. (21ms).
2023-09-20 18:29:06.896 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-09-20 18:29:06.897 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2023-09-20 18:29:06.899 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:29:06.969 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:29:06.978 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId"
FROM "VillaNumbers" AS v
2023-09-20 18:29:07.003 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId"
FROM "VillaNumbers" AS v
2023-09-20 18:29:07.020 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:29:07.035 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:29:07.041 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 33ms reading results.
2023-09-20 18:29:07.044 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:29:07.047 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-20 18:29:07.062 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 18:29:07.064 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 18:29:07.065 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 18:29:07.065 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 18:29:07.099 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI) in 986.7745ms
2023-09-20 18:29:07.100 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:29:07.103 +02:00 [DBG] Connection id "0HMTPUQQ00O6I" completed keep alive response.
2023-09-20 18:29:07.106 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 18:29:07.109 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:29:07.111 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (1ms).
2023-09-20 18:29:07.112 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 121 application/json;+charset=utf-8 1014.9530ms
2023-09-20 18:30:21.072 +02:00 [DBG] Connection id "0HMTPUQQ00O6I" received FIN.
2023-09-20 18:30:21.073 +02:00 [DBG] Connection id "0HMTPUQQ00O6I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:30:21.074 +02:00 [DBG] Connection id "0HMTPUQQ00O6I" disconnecting.
2023-09-20 18:30:21.075 +02:00 [DBG] Connection id "0HMTPUQQ00O6I" stopped.
2023-09-20 18:31:14.263 +02:00 [DBG] Connection id "0HMTPUQQ00O6H" disconnecting.
2023-09-20 18:31:14.263 +02:00 [DBG] Connection id "0HMTPUQQ00O6G" disconnecting.
2023-09-20 18:31:14.265 +02:00 [DBG] Connection id "0HMTPUQQ00O6H" stopped.
2023-09-20 18:31:14.265 +02:00 [DBG] Connection id "0HMTPUQQ00O6G" stopped.
2023-09-20 18:31:14.265 +02:00 [DBG] Connection id "0HMTPUQQ00O6H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:31:14.265 +02:00 [DBG] Connection id "0HMTPUQQ00O6G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:44:58.345 +02:00 [INF] Application is shutting down...
2023-09-20 18:44:58.348 +02:00 [DBG] Hosting stopping
2023-09-20 18:44:58.358 +02:00 [DBG] Hosting stopped
2023-09-20 18:45:00.954 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 18:45:01.010 +02:00 [DBG] Hosting starting
2023-09-20 18:45:01.176 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 18:45:01.176 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 18:45:01.176 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 18:45:01.176 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 18:45:01.177 +02:00 [INF] Hosting environment: Development
2023-09-20 18:45:01.177 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 18:45:01.177 +02:00 [DBG] Hosting started
2023-09-20 18:45:01.556 +02:00 [DBG] Connection id "0HMTPV3NFNFFJ" received FIN.
2023-09-20 18:45:01.564 +02:00 [DBG] Connection id "0HMTPV3NFNFFJ" accepted.
2023-09-20 18:45:01.565 +02:00 [DBG] Connection id "0HMTPV3NFNFFJ" started.
2023-09-20 18:45:01.578 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 18:45:01.592 +02:00 [DBG] Connection id "0HMTPV3NFNFFJ" stopped.
2023-09-20 18:45:01.595 +02:00 [DBG] Connection id "0HMTPV3NFNFFJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:45:01.680 +02:00 [DBG] Connection id "0HMTPV3NFNFFK" accepted.
2023-09-20 18:45:01.680 +02:00 [DBG] Connection id "0HMTPV3NFNFFK" started.
2023-09-20 18:45:01.680 +02:00 [DBG] Connection id "0HMTPV3NFNFFL" accepted.
2023-09-20 18:45:01.680 +02:00 [DBG] Connection id "0HMTPV3NFNFFL" started.
2023-09-20 18:45:01.728 +02:00 [DBG] Connection 0HMTPV3NFNFFL established using the following protocol: "Tls12"
2023-09-20 18:45:01.728 +02:00 [DBG] Connection 0HMTPV3NFNFFK established using the following protocol: "Tls12"
2023-09-20 18:45:01.750 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 18:45:01.751 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 18:45:01.765 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 18:45:01.765 +02:00 [DBG] Request did not match any endpoints
2023-09-20 18:45:01.836 +02:00 [DBG] Connection id "0HMTPV3NFNFFK" completed keep alive response.
2023-09-20 18:45:01.837 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 87.6983ms
2023-09-20 18:45:01.914 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 18:45:01.915 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 18:45:01.915 +02:00 [DBG] Request did not match any endpoints
2023-09-20 18:45:02.024 +02:00 [DBG] Connection id "0HMTPV3NFNFFK" completed keep alive response.
2023-09-20 18:45:02.024 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.9133ms
2023-09-20 18:45:07.104 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaNumberApi - -
2023-09-20 18:45:07.116 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaNumberApi'
2023-09-20 18:45:07.120 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/VillaNumberApi'
2023-09-20 18:45:07.121 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:45:07.124 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 18:45:07.130 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:45:07.141 +02:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumbers() on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2023-09-20 18:45:07.142 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 18:45:07.142 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 18:45:07.142 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 18:45:07.142 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 18:45:07.142 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 18:45:07.143 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-20 18:45:07.222 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 18:45:07.704 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 18:45:07.760 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-20 18:45:07.761 +02:00 [INF] Getting all villas
2023-09-20 18:45:07.778 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()'
2023-09-20 18:45:07.863 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId
        FROM VillaNumbers AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 18:45:07.883 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 18:45:07.885 +02:00 [DBG] Creating DbConnection.
2023-09-20 18:45:07.907 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-20 18:45:07.911 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-20 18:45:07.912 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2023-09-20 18:45:07.914 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:45:07.990 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:45:07.999 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId"
FROM "VillaNumbers" AS v
2023-09-20 18:45:08.024 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId"
FROM "VillaNumbers" AS v
2023-09-20 18:45:08.046 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:45:08.065 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:45:08.072 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 43ms reading results.
2023-09-20 18:45:08.077 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:45:08.082 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 18:45:08.100 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 18:45:08.103 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-20 18:45:08.104 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-20 18:45:08.104 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-20 18:45:08.104 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-20 18:45:08.104 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 18:45:08.104 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 18:45:08.149 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI) in 1003.0916ms
2023-09-20 18:45:08.150 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:45:08.153 +02:00 [DBG] Connection id "0HMTPV3NFNFFK" completed keep alive response.
2023-09-20 18:45:08.156 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 18:45:08.160 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:45:08.162 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 18:45:08.163 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaNumberApi - - - 200 134 application/json;+charset=utf-8 1059.5630ms
2023-09-20 18:47:12.164 +02:00 [DBG] Connection id "0HMTPV3NFNFFL" disconnecting.
2023-09-20 18:47:12.165 +02:00 [DBG] Connection id "0HMTPV3NFNFFL" stopped.
2023-09-20 18:47:12.165 +02:00 [DBG] Connection id "0HMTPV3NFNFFL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:47:19.174 +02:00 [DBG] Connection id "0HMTPV3NFNFFK" disconnecting.
2023-09-20 18:47:19.174 +02:00 [DBG] Connection id "0HMTPV3NFNFFK" stopped.
2023-09-20 18:47:19.174 +02:00 [DBG] Connection id "0HMTPV3NFNFFK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:53:02.214 +02:00 [INF] Application is shutting down...
2023-09-20 18:53:02.216 +02:00 [DBG] Hosting stopping
2023-09-20 18:53:02.223 +02:00 [DBG] Hosting stopped
2023-09-20 18:53:04.159 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-20 18:53:04.210 +02:00 [DBG] Hosting starting
2023-09-20 18:53:04.370 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-20 18:53:04.370 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-20 18:53:04.370 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-20 18:53:04.370 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-20 18:53:04.371 +02:00 [INF] Hosting environment: Development
2023-09-20 18:53:04.371 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-20 18:53:04.371 +02:00 [DBG] Hosting started
2023-09-20 18:53:04.681 +02:00 [DBG] Connection id "0HMTPV87F5LQJ" received FIN.
2023-09-20 18:53:04.684 +02:00 [DBG] Connection id "0HMTPV87F5LQJ" accepted.
2023-09-20 18:53:04.685 +02:00 [DBG] Connection id "0HMTPV87F5LQJ" started.
2023-09-20 18:53:04.693 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-20 18:53:04.707 +02:00 [DBG] Connection id "0HMTPV87F5LQJ" stopped.
2023-09-20 18:53:04.709 +02:00 [DBG] Connection id "0HMTPV87F5LQJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:53:04.764 +02:00 [DBG] Connection id "0HMTPV87F5LQK" accepted.
2023-09-20 18:53:04.764 +02:00 [DBG] Connection id "0HMTPV87F5LQK" started.
2023-09-20 18:53:04.765 +02:00 [DBG] Connection id "0HMTPV87F5LQL" accepted.
2023-09-20 18:53:04.765 +02:00 [DBG] Connection id "0HMTPV87F5LQL" started.
2023-09-20 18:53:04.800 +02:00 [DBG] Connection 0HMTPV87F5LQK established using the following protocol: "Tls12"
2023-09-20 18:53:04.800 +02:00 [DBG] Connection 0HMTPV87F5LQL established using the following protocol: "Tls12"
2023-09-20 18:53:04.820 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-20 18:53:04.820 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-20 18:53:04.832 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-20 18:53:04.832 +02:00 [DBG] Request did not match any endpoints
2023-09-20 18:53:04.901 +02:00 [DBG] Connection id "0HMTPV87F5LQK" completed keep alive response.
2023-09-20 18:53:04.902 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 82.5242ms
2023-09-20 18:53:04.987 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-20 18:53:04.987 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-20 18:53:04.987 +02:00 [DBG] Request did not match any endpoints
2023-09-20 18:53:05.104 +02:00 [DBG] Connection id "0HMTPV87F5LQK" completed keep alive response.
2023-09-20 18:53:05.104 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.5012ms
2023-09-20 18:53:12.950 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaNumberApi - -
2023-09-20 18:53:12.961 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaNumberApi'
2023-09-20 18:53:12.967 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/VillaNumberApi'
2023-09-20 18:53:12.968 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:53:12.970 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 18:53:12.972 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:53:12.981 +02:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumbers() on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2023-09-20 18:53:12.982 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 18:53:12.982 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 18:53:12.982 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 18:53:12.982 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 18:53:12.982 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 18:53:12.983 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-20 18:53:13.065 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-20 18:53:13.566 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 18:53:13.623 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-20 18:53:13.624 +02:00 [INF] Getting all villas
2023-09-20 18:53:13.651 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Include("Villa")'
2023-09-20 18:53:13.702 +02:00 [DBG] Including navigation: 'VillaNumber.Villa'.
2023-09-20 18:53:13.808 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Villa.Amenity (string), 6], [Property: Villa.CreatedDate (DateTime) Required, 7], [Property: Villa.Details (string), 8], [Property: Villa.ImageUrl (string), 9], [Property: Villa.Name (string) Required, 10], [Property: Villa.Occupancy (int?), 11], [Property: Villa.Rate (double) Required, 12], [Property: Villa.Sqft (int?), 13], [Property: Villa.UpdatedDate (DateTime?), 14] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId, v0.Id, v0.Amenity, v0.CreatedDate, v0.Details, v0.ImageUrl, v0.Name, v0.Occupancy, v0.Rate, v0.Sqft, v0.UpdatedDate
        FROM VillaNumbers AS v
        INNER JOIN Villas AS v0 ON v.VillaId == v0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 18:53:13.831 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 18:53:13.832 +02:00 [DBG] Creating DbConnection.
2023-09-20 18:53:13.853 +02:00 [DBG] Created DbConnection. (19ms).
2023-09-20 18:53:13.857 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-09-20 18:53:13.858 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2023-09-20 18:53:13.861 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:53:13.937 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:13.946 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId", v0."Id", v0."Amenity", v0."CreatedDate", v0."Details", v0."ImageUrl", v0."Name", v0."Occupancy", v0."Rate", v0."Sqft", v0."UpdatedDate"
FROM "VillaNumbers" AS v
INNER JOIN "Villas" AS v0 ON v."VillaId" = v0."Id"
2023-09-20 18:53:13.970 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId", v0."Id", v0."Amenity", v0."CreatedDate", v0."Details", v0."ImageUrl", v0."Name", v0."Occupancy", v0."Rate", v0."Sqft", v0."UpdatedDate"
FROM "VillaNumbers" AS v
INNER JOIN "Villas" AS v0 ON v."VillaId" = v0."Id"
2023-09-20 18:53:13.993 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:14.017 +02:00 [DBG] The navigation 'VillaNumber.Villa' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:14.019 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:14.040 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:14.048 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 71ms reading results.
2023-09-20 18:53:14.052 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:14.057 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-20 18:53:14.077 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 18:53:14.080 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-20 18:53:14.081 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-20 18:53:14.081 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-20 18:53:14.081 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-20 18:53:14.081 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 18:53:14.081 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 18:53:14.128 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI) in 1142.7552ms
2023-09-20 18:53:14.129 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:53:14.133 +02:00 [DBG] Connection id "0HMTPV87F5LQK" completed keep alive response.
2023-09-20 18:53:14.136 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 18:53:14.140 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:53:14.142 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-20 18:53:14.143 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaNumberApi - - - 200 458 application/json;+charset=utf-8 1192.7663ms
2023-09-20 18:53:50.976 +02:00 [DBG] Connection id "0HMTPV87F5LQM" accepted.
2023-09-20 18:53:50.976 +02:00 [DBG] Connection id "0HMTPV87F5LQM" started.
2023-09-20 18:53:50.989 +02:00 [DBG] Connection 0HMTPV87F5LQM established using the following protocol: "Tls12"
2023-09-20 18:53:50.994 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-20 18:53:50.995 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-20 18:53:50.995 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-20 18:53:50.995 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 18:53:50.995 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 18:53:50.995 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 18:53:50.997 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-20 18:53:50.998 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 18:53:50.998 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 18:53:50.998 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 18:53:50.998 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 18:53:50.998 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 18:53:50.998 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 18:53:51.028 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 18:53:51.029 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-20 18:53:51.029 +02:00 [INF] Getting all villas
2023-09-20 18:53:51.030 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-20 18:53:51.034 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int?), 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int?), 8], [Property: Villa.UpdatedDate (DateTime?), 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-20 18:53:51.034 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 18:53:51.034 +02:00 [DBG] Creating DbConnection.
2023-09-20 18:53:51.034 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 18:53:51.034 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 18:53:51.034 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 18:53:51.034 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:53:51.035 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:51.035 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 18:53:51.039 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-20 18:53:51.039 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:51.039 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:51.039 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:51.039 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:51.039 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:51.040 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:51.040 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 18:53:51.040 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:51.040 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 18:53:51.042 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 18:53:51.042 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 18:53:51.042 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 18:53:51.042 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 18:53:51.043 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 45.6599ms
2023-09-20 18:53:51.043 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-20 18:53:51.043 +02:00 [DBG] Connection id "0HMTPV87F5LQM" completed keep alive response.
2023-09-20 18:53:51.043 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 18:53:51.044 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:53:51.044 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 18:53:51.044 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1697 application/json;+charset=utf-8 49.4107ms
2023-09-20 18:53:52.507 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2023-09-20 18:53:52.508 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2023-09-20 18:53:52.508 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2023-09-20 18:53:52.508 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:53:52.509 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-20 18:53:52.509 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:53:52.509 +02:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumbers() on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2023-09-20 18:53:52.510 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-20 18:53:52.510 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-20 18:53:52.510 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-20 18:53:52.510 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-20 18:53:52.510 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-20 18:53:52.510 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-20 18:53:52.532 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-20 18:53:52.533 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2023-09-20 18:53:52.533 +02:00 [INF] Getting all villas
2023-09-20 18:53:52.535 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-20 18:53:52.535 +02:00 [DBG] Creating DbConnection.
2023-09-20 18:53:52.535 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-20 18:53:52.535 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-20 18:53:52.535 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-20 18:53:52.535 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:53:52.535 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:52.535 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId", v0."Id", v0."Amenity", v0."CreatedDate", v0."Details", v0."ImageUrl", v0."Name", v0."Occupancy", v0."Rate", v0."Sqft", v0."UpdatedDate"
FROM "VillaNumbers" AS v
INNER JOIN "Villas" AS v0 ON v."VillaId" = v0."Id"
2023-09-20 18:53:52.537 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."VillaNo", v."CreatedDate", v."SpecialDetails", v."UpdatedDate", v."VillaId", v0."Id", v0."Amenity", v0."CreatedDate", v0."Details", v0."ImageUrl", v0."Name", v0."Occupancy", v0."Rate", v0."Sqft", v0."UpdatedDate"
FROM "VillaNumbers" AS v
INNER JOIN "Villas" AS v0 ON v."VillaId" = v0."Id"
2023-09-20 18:53:52.537 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:52.537 +02:00 [DBG] The navigation 'VillaNumber.Villa' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:52.537 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-20 18:53:52.537 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:52.537 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-20 18:53:52.538 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-20 18:53:52.538 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 18:53:52.538 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-20 18:53:52.538 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-20 18:53:52.538 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-20 18:53:52.538 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-20 18:53:52.538 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI) in 28.391ms
2023-09-20 18:53:52.538 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2023-09-20 18:53:52.538 +02:00 [DBG] Connection id "0HMTPV87F5LQM" completed keep alive response.
2023-09-20 18:53:52.538 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-20 18:53:52.539 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-20 18:53:52.539 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-20 18:53:52.539 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 458 application/json;+charset=utf-8 31.9237ms
2023-09-20 18:54:14.502 +02:00 [DBG] Connection id "0HMTPV87F5LQL" received FIN.
2023-09-20 18:54:14.502 +02:00 [DBG] Connection id "0HMTPV87F5LQL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:54:14.503 +02:00 [DBG] Connection id "0HMTPV87F5LQL" disconnecting.
2023-09-20 18:54:14.504 +02:00 [DBG] Connection id "0HMTPV87F5LQL" stopped.
2023-09-20 18:55:05.980 +02:00 [DBG] Connection id "0HMTPV87F5LQM" received FIN.
2023-09-20 18:55:05.981 +02:00 [DBG] Connection id "0HMTPV87F5LQM" disconnecting.
2023-09-20 18:55:05.981 +02:00 [DBG] Connection id "0HMTPV87F5LQM" stopped.
2023-09-20 18:55:05.982 +02:00 [DBG] Connection id "0HMTPV87F5LQM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-20 18:55:24.369 +02:00 [DBG] Connection id "0HMTPV87F5LQK" disconnecting.
2023-09-20 18:55:24.369 +02:00 [DBG] Connection id "0HMTPV87F5LQK" stopped.
2023-09-20 18:55:24.370 +02:00 [DBG] Connection id "0HMTPV87F5LQK" sending FIN because: "The Socket transport's send loop completed gracefully."
