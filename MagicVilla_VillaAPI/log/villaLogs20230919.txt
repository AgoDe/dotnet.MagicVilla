2023-09-19 10:12:20.976 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-19 10:12:21.028 +02:00 [DBG] Hosting starting
2023-09-19 10:12:21.407 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-19 10:12:21.407 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-19 10:12:21.407 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-19 10:12:21.407 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-19 10:12:21.407 +02:00 [INF] Hosting environment: Development
2023-09-19 10:12:21.407 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-19 10:12:21.407 +02:00 [DBG] Hosting started
2023-09-19 10:12:21.529 +02:00 [DBG] Connection id "0HMTOT0J2KR4H" received FIN.
2023-09-19 10:12:21.532 +02:00 [DBG] Connection id "0HMTOT0J2KR4H" accepted.
2023-09-19 10:12:21.533 +02:00 [DBG] Connection id "0HMTOT0J2KR4H" started.
2023-09-19 10:12:21.543 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-19 10:12:21.580 +02:00 [DBG] Connection id "0HMTOT0J2KR4H" stopped.
2023-09-19 10:12:21.586 +02:00 [DBG] Connection id "0HMTOT0J2KR4I" accepted.
2023-09-19 10:12:21.586 +02:00 [DBG] Connection id "0HMTOT0J2KR4J" accepted.
2023-09-19 10:12:21.586 +02:00 [DBG] Connection id "0HMTOT0J2KR4I" started.
2023-09-19 10:12:21.586 +02:00 [DBG] Connection id "0HMTOT0J2KR4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:12:21.587 +02:00 [DBG] Connection id "0HMTOT0J2KR4J" started.
2023-09-19 10:12:21.651 +02:00 [DBG] Connection 0HMTOT0J2KR4J established using the following protocol: "Tls12"
2023-09-19 10:12:21.651 +02:00 [DBG] Connection 0HMTOT0J2KR4I established using the following protocol: "Tls12"
2023-09-19 10:12:21.673 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-19 10:12:21.674 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-19 10:12:21.686 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-19 10:12:21.686 +02:00 [DBG] Request did not match any endpoints
2023-09-19 10:12:21.758 +02:00 [DBG] Connection id "0HMTOT0J2KR4I" completed keep alive response.
2023-09-19 10:12:21.759 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 86.8517ms
2023-09-19 10:12:21.770 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - -
2023-09-19 10:12:21.770 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-19 10:12:21.770 +02:00 [DBG] Request did not match any endpoints
2023-09-19 10:12:21.770 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui.css - -
2023-09-19 10:12:21.771 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-19 10:12:21.771 +02:00 [DBG] Request did not match any endpoints
2023-09-19 10:12:21.772 +02:00 [DBG] Connection id "0HMTOT0J2KR4K" accepted.
2023-09-19 10:12:21.772 +02:00 [DBG] Connection id "0HMTOT0J2KR4K" started.
2023-09-19 10:12:21.781 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-19 10:12:21.781 +02:00 [DBG] Connection id "0HMTOT0J2KR4I" completed keep alive response.
2023-09-19 10:12:21.781 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui.css - - - 200 144929 text/css 10.9000ms
2023-09-19 10:12:21.782 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js - -
2023-09-19 10:12:21.782 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-19 10:12:21.782 +02:00 [DBG] Request did not match any endpoints
2023-09-19 10:12:21.791 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-19 10:12:21.793 +02:00 [DBG] Connection id "0HMTOT0J2KR4I" completed keep alive response.
2023-09-19 10:12:21.793 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 10.9824ms
2023-09-19 10:12:21.793 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-19 10:12:21.793 +02:00 [DBG] Connection id "0HMTOT0J2KR4J" completed keep alive response.
2023-09-19 10:12:21.794 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 23.0722ms
2023-09-19 10:12:21.801 +02:00 [DBG] Connection 0HMTOT0J2KR4K established using the following protocol: "Tls12"
2023-09-19 10:12:21.882 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-19 10:12:21.882 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-19 10:12:21.882 +02:00 [DBG] Request did not match any endpoints
2023-09-19 10:12:22.017 +02:00 [DBG] Connection id "0HMTOT0J2KR4J" completed keep alive response.
2023-09-19 10:12:22.017 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.4561ms
2023-09-19 10:14:32.206 +02:00 [DBG] Connection id "0HMTOT0J2KR4J" disconnecting.
2023-09-19 10:14:32.206 +02:00 [DBG] Connection id "0HMTOT0J2KR4K" disconnecting.
2023-09-19 10:14:32.206 +02:00 [DBG] Connection id "0HMTOT0J2KR4I" disconnecting.
2023-09-19 10:14:32.207 +02:00 [DBG] Connection id "0HMTOT0J2KR4K" stopped.
2023-09-19 10:14:32.207 +02:00 [DBG] Connection id "0HMTOT0J2KR4J" stopped.
2023-09-19 10:14:32.207 +02:00 [DBG] Connection id "0HMTOT0J2KR4I" stopped.
2023-09-19 10:14:32.207 +02:00 [DBG] Connection id "0HMTOT0J2KR4K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:14:32.208 +02:00 [DBG] Connection id "0HMTOT0J2KR4J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:14:32.208 +02:00 [DBG] Connection id "0HMTOT0J2KR4I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:15:51.295 +02:00 [DBG] Connection id "0HMTOT0J2KR4L" accepted.
2023-09-19 10:15:51.295 +02:00 [DBG] Connection id "0HMTOT0J2KR4L" started.
2023-09-19 10:15:51.322 +02:00 [DBG] Connection 0HMTOT0J2KR4L established using the following protocol: "Tls12"
2023-09-19 10:15:51.328 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 10:15:51.331 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 10:15:51.332 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 10:15:51.332 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:15:51.332 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 10:15:51.333 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:15:51.340 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 10:15:51.340 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 10:15:51.340 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 10:15:51.340 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 10:15:51.340 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 10:15:51.340 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 10:15:51.341 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:15:51.413 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-19 10:15:51.905 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 10:15:51.963 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:15:51.964 +02:00 [INF] Getting all villas
2023-09-19 10:15:51.984 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-19 10:15:52.071 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-19 10:15:52.095 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 10:15:52.096 +02:00 [DBG] Creating DbConnection.
2023-09-19 10:15:52.119 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-19 10:15:52.124 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2023-09-19 10:15:52.125 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2023-09-19 10:15:52.127 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:15:52.212 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:15:52.221 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:15:52.246 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:15:52.272 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:15:52.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:15:52.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:15:52.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:15:52.291 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:15:52.296 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:15:52.303 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 52ms reading results.
2023-09-19 10:15:52.308 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:15:52.313 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-19 10:15:52.331 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 10:15:52.334 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 10:15:52.334 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 10:15:52.334 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 10:15:52.378 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1034.2807ms
2023-09-19 10:15:52.379 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:15:52.379 +02:00 [DBG] Connection id "0HMTOT0J2KR4L" completed keep alive response.
2023-09-19 10:15:52.382 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 10:15:52.386 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:15:52.388 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-19 10:15:52.389 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 1060.6511ms
2023-09-19 10:16:04.906 +02:00 [DBG] Connection id "0HMTOT0J2KR4L" received FIN.
2023-09-19 10:16:04.906 +02:00 [DBG] Connection id "0HMTOT0J2KR4L" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:16:04.906 +02:00 [DBG] Connection id "0HMTOT0J2KR4L" disconnecting.
2023-09-19 10:16:04.906 +02:00 [DBG] Connection id "0HMTOT0J2KR4L" stopped.
2023-09-19 10:16:47.899 +02:00 [DBG] Connection id "0HMTOT0J2KR4M" accepted.
2023-09-19 10:16:47.900 +02:00 [DBG] Connection id "0HMTOT0J2KR4M" started.
2023-09-19 10:16:47.928 +02:00 [DBG] Connection 0HMTOT0J2KR4M established using the following protocol: "Tls12"
2023-09-19 10:16:47.936 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 10:16:47.936 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 10:16:47.936 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 10:16:47.936 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:16:47.936 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 10:16:47.936 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:16:47.937 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 10:16:47.937 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 10:16:47.937 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 10:16:47.937 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 10:16:47.937 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 10:16:47.937 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 10:16:47.937 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:16:47.958 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 10:16:47.958 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:16:47.958 +02:00 [INF] Getting all villas
2023-09-19 10:16:47.959 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 10:16:47.959 +02:00 [DBG] Creating DbConnection.
2023-09-19 10:16:47.959 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 10:16:47.959 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 10:16:47.959 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 10:16:47.959 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:16:47.959 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:16:47.960 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:16:47.963 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:16:47.963 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:16:47.963 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:16:47.963 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:16:47.963 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:16:47.963 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:16:47.963 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:16:47.964 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 10:16:47.964 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:16:47.964 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 10:16:47.964 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 10:16:47.964 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 10:16:47.964 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 10:16:47.964 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 10:16:47.964 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 27.7309ms
2023-09-19 10:16:47.964 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:16:47.965 +02:00 [DBG] Connection id "0HMTOT0J2KR4M" completed keep alive response.
2023-09-19 10:16:47.965 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 10:16:47.965 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:16:47.965 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 10:16:47.965 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 28.9577ms
2023-09-19 10:17:14.947 +02:00 [DBG] Connection id "0HMTOT0J2KR4M" received FIN.
2023-09-19 10:17:14.947 +02:00 [DBG] Connection id "0HMTOT0J2KR4M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:17:14.947 +02:00 [DBG] Connection id "0HMTOT0J2KR4M" disconnecting.
2023-09-19 10:17:14.947 +02:00 [DBG] Connection id "0HMTOT0J2KR4M" stopped.
2023-09-19 10:17:15.511 +02:00 [INF] Application is shutting down...
2023-09-19 10:17:15.513 +02:00 [DBG] Hosting stopping
2023-09-19 10:17:15.518 +02:00 [DBG] Hosting stopped
2023-09-19 10:38:33.259 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-19 10:38:33.308 +02:00 [DBG] Hosting starting
2023-09-19 10:38:33.477 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-19 10:38:33.477 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-19 10:38:33.477 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-19 10:38:33.477 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-19 10:38:33.477 +02:00 [INF] Hosting environment: Development
2023-09-19 10:38:33.477 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-19 10:38:33.477 +02:00 [DBG] Hosting started
2023-09-19 10:38:33.814 +02:00 [DBG] Connection id "0HMTOTF7L4787" received FIN.
2023-09-19 10:38:33.817 +02:00 [DBG] Connection id "0HMTOTF7L4787" accepted.
2023-09-19 10:38:33.817 +02:00 [DBG] Connection id "0HMTOTF7L4787" started.
2023-09-19 10:38:33.823 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-19 10:38:33.856 +02:00 [DBG] Connection id "0HMTOTF7L4788" accepted.
2023-09-19 10:38:33.856 +02:00 [DBG] Connection id "0HMTOTF7L4789" accepted.
2023-09-19 10:38:33.856 +02:00 [DBG] Connection id "0HMTOTF7L4788" started.
2023-09-19 10:38:33.857 +02:00 [DBG] Connection id "0HMTOTF7L4789" started.
2023-09-19 10:38:33.862 +02:00 [DBG] Connection id "0HMTOTF7L4787" stopped.
2023-09-19 10:38:33.865 +02:00 [DBG] Connection id "0HMTOTF7L4787" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:38:33.909 +02:00 [DBG] Connection 0HMTOTF7L4789 established using the following protocol: "Tls12"
2023-09-19 10:38:33.909 +02:00 [DBG] Connection 0HMTOTF7L4788 established using the following protocol: "Tls12"
2023-09-19 10:38:33.931 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-19 10:38:33.931 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-19 10:38:33.943 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-19 10:38:33.943 +02:00 [DBG] Request did not match any endpoints
2023-09-19 10:38:34.014 +02:00 [DBG] Connection id "0HMTOTF7L4788" completed keep alive response.
2023-09-19 10:38:34.015 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 84.7470ms
2023-09-19 10:38:34.150 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-19 10:38:34.150 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-19 10:38:34.150 +02:00 [DBG] Request did not match any endpoints
2023-09-19 10:38:34.269 +02:00 [DBG] Connection id "0HMTOTF7L4788" completed keep alive response.
2023-09-19 10:38:34.269 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.1595ms
2023-09-19 10:38:38.863 +02:00 [DBG] Connection id "0HMTOTF7L478A" accepted.
2023-09-19 10:38:38.863 +02:00 [DBG] Connection id "0HMTOTF7L478A" started.
2023-09-19 10:38:38.891 +02:00 [DBG] Connection 0HMTOTF7L478A established using the following protocol: "Tls12"
2023-09-19 10:38:38.898 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 10:38:38.900 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 10:38:38.901 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 10:38:38.901 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:38:38.902 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 10:38:38.903 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:38:38.911 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 10:38:38.911 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 10:38:38.911 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 10:38:38.911 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 10:38:38.911 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 10:38:38.911 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 10:38:38.912 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:38:38.982 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-19 10:38:39.473 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 10:38:39.529 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:38:39.530 +02:00 [INF] Getting all villas
2023-09-19 10:38:39.549 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-19 10:38:39.633 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-19 10:38:39.653 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 10:38:39.654 +02:00 [DBG] Creating DbConnection.
2023-09-19 10:38:39.677 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-19 10:38:39.681 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-09-19 10:38:39.682 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2023-09-19 10:38:39.685 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:38:39.755 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:38:39.764 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:38:39.788 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:38:39.812 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:38:39.831 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:38:39.831 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:38:39.831 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:38:39.831 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:38:39.836 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:38:39.844 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 50ms reading results.
2023-09-19 10:38:39.849 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:38:39.853 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-19 10:38:39.872 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 10:38:39.875 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 10:38:39.876 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 10:38:39.876 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 10:38:39.921 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1006.5614ms
2023-09-19 10:38:39.922 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:38:39.926 +02:00 [DBG] Connection id "0HMTOTF7L478A" completed keep alive response.
2023-09-19 10:38:39.929 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 10:38:39.933 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:38:39.935 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-19 10:38:39.936 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 1038.7389ms
2023-09-19 10:39:53.886 +02:00 [DBG] Connection id "0HMTOTF7L478A" received FIN.
2023-09-19 10:39:53.887 +02:00 [DBG] Connection id "0HMTOTF7L478A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:39:53.888 +02:00 [DBG] Connection id "0HMTOTF7L478A" disconnecting.
2023-09-19 10:39:53.890 +02:00 [DBG] Connection id "0HMTOTF7L478A" stopped.
2023-09-19 10:40:44.459 +02:00 [DBG] Connection id "0HMTOTF7L4788" disconnecting.
2023-09-19 10:40:44.459 +02:00 [DBG] Connection id "0HMTOTF7L4788" stopped.
2023-09-19 10:40:44.459 +02:00 [DBG] Connection id "0HMTOTF7L4789" disconnecting.
2023-09-19 10:40:44.459 +02:00 [DBG] Connection id "0HMTOTF7L4789" stopped.
2023-09-19 10:40:44.459 +02:00 [DBG] Connection id "0HMTOTF7L4789" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:40:44.459 +02:00 [DBG] Connection id "0HMTOTF7L4788" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 10:40:44.460 +02:00 [DBG] Connection id "0HMTOTF7L4789" received FIN.
2023-09-19 10:42:08.085 +02:00 [DBG] Connection id "0HMTOTF7L478B" accepted.
2023-09-19 10:42:08.086 +02:00 [DBG] Connection id "0HMTOTF7L478B" started.
2023-09-19 10:42:08.120 +02:00 [DBG] Connection 0HMTOTF7L478B established using the following protocol: "Tls12"
2023-09-19 10:42:08.156 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 10:42:08.158 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 10:42:08.158 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 10:42:08.158 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:42:08.159 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 10:42:08.159 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:42:08.159 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 10:42:08.159 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 10:42:08.159 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 10:42:08.160 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 10:42:08.160 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 10:42:08.160 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 10:42:08.160 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:42:08.205 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 10:42:08.205 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:42:08.205 +02:00 [INF] Getting all villas
2023-09-19 10:42:08.206 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 10:42:08.206 +02:00 [DBG] Creating DbConnection.
2023-09-19 10:42:08.207 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 10:42:08.207 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 10:42:08.207 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 10:42:08.207 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:42:08.207 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:42:08.207 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:42:08.212 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:42:08.212 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:08.212 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:08.212 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:08.212 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:08.212 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:08.212 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:42:08.213 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 10:42:08.213 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:42:08.213 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 10:42:08.213 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 10:42:08.213 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 10:42:08.213 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 10:42:08.213 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 10:42:08.214 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 54.2553ms
2023-09-19 10:42:08.214 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:42:08.214 +02:00 [DBG] Connection id "0HMTOTF7L478B" completed keep alive response.
2023-09-19 10:42:08.214 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 10:42:08.214 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:42:08.214 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 10:42:08.214 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 58.4027ms
2023-09-19 10:42:09.344 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 10:42:09.344 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 10:42:09.344 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 10:42:09.344 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:42:09.344 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 10:42:09.344 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:42:09.344 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 10:42:09.344 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 10:42:09.344 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 10:42:09.344 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 10:42:09.345 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 10:42:09.345 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 10:42:09.345 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:42:09.355 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 10:42:09.355 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 10:42:09.355 +02:00 [INF] Getting all villas
2023-09-19 10:42:09.356 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 10:42:09.356 +02:00 [DBG] Creating DbConnection.
2023-09-19 10:42:09.356 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 10:42:09.356 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 10:42:09.356 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 10:42:09.356 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:42:09.356 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:42:09.356 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:42:09.357 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 10:42:09.358 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:09.358 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:09.358 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:09.358 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:09.358 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 10:42:09.358 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:42:09.358 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 10:42:09.358 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 10:42:09.358 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 10:42:09.358 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 10:42:09.359 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 10:42:09.359 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 10:42:09.359 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 10:42:09.359 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 14.2483ms
2023-09-19 10:42:09.359 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 10:42:09.359 +02:00 [DBG] Connection id "0HMTOTF7L478B" completed keep alive response.
2023-09-19 10:42:09.359 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 10:42:09.359 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 10:42:09.359 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 10:42:09.359 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 15.3634ms
2023-09-19 10:43:23.028 +02:00 [DBG] Connection id "0HMTOTF7L478B" received FIN.
2023-09-19 10:43:23.030 +02:00 [DBG] Connection id "0HMTOTF7L478B" disconnecting.
2023-09-19 10:43:23.031 +02:00 [DBG] Connection id "0HMTOTF7L478B" stopped.
2023-09-19 10:43:23.031 +02:00 [DBG] Connection id "0HMTOTF7L478B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:11:00.069 +02:00 [INF] Application is shutting down...
2023-09-19 15:11:00.071 +02:00 [DBG] Hosting stopping
2023-09-19 15:11:00.078 +02:00 [DBG] Hosting stopped
2023-09-19 15:11:17.929 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-19 15:11:17.982 +02:00 [DBG] Hosting starting
2023-09-19 15:11:18.155 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-19 15:11:18.155 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-19 15:11:18.155 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-19 15:11:18.155 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-19 15:11:18.155 +02:00 [INF] Hosting environment: Development
2023-09-19 15:11:18.155 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-19 15:11:18.155 +02:00 [DBG] Hosting started
2023-09-19 15:11:18.488 +02:00 [DBG] Connection id "0HMTP27KMQ73V" received FIN.
2023-09-19 15:11:18.491 +02:00 [DBG] Connection id "0HMTP27KMQ73V" accepted.
2023-09-19 15:11:18.492 +02:00 [DBG] Connection id "0HMTP27KMQ73V" started.
2023-09-19 15:11:18.501 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-19 15:11:18.525 +02:00 [DBG] Connection id "0HMTP27KMQ73V" stopped.
2023-09-19 15:11:18.531 +02:00 [DBG] Connection id "0HMTP27KMQ740" accepted.
2023-09-19 15:11:18.532 +02:00 [DBG] Connection id "0HMTP27KMQ741" accepted.
2023-09-19 15:11:18.532 +02:00 [DBG] Connection id "0HMTP27KMQ740" started.
2023-09-19 15:11:18.532 +02:00 [DBG] Connection id "0HMTP27KMQ741" started.
2023-09-19 15:11:18.533 +02:00 [DBG] Connection id "0HMTP27KMQ73V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:11:18.582 +02:00 [DBG] Connection 0HMTP27KMQ740 established using the following protocol: "Tls12"
2023-09-19 15:11:18.582 +02:00 [DBG] Connection 0HMTP27KMQ741 established using the following protocol: "Tls12"
2023-09-19 15:11:18.605 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-19 15:11:18.606 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-19 15:11:18.619 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-19 15:11:18.619 +02:00 [DBG] Request did not match any endpoints
2023-09-19 15:11:18.690 +02:00 [DBG] Connection id "0HMTP27KMQ741" completed keep alive response.
2023-09-19 15:11:18.691 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 86.9358ms
2023-09-19 15:11:18.702 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - -
2023-09-19 15:11:18.702 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-19 15:11:18.702 +02:00 [DBG] Request did not match any endpoints
2023-09-19 15:11:18.719 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-19 15:11:18.721 +02:00 [DBG] Connection id "0HMTP27KMQ741" completed keep alive response.
2023-09-19 15:11:18.721 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 19.2563ms
2023-09-19 15:11:18.809 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-19 15:11:18.809 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-19 15:11:18.809 +02:00 [DBG] Request did not match any endpoints
2023-09-19 15:11:18.923 +02:00 [DBG] Connection id "0HMTP27KMQ741" completed keep alive response.
2023-09-19 15:11:18.923 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.1677ms
2023-09-19 15:11:25.776 +02:00 [DBG] Connection id "0HMTP27KMQ742" accepted.
2023-09-19 15:11:25.776 +02:00 [DBG] Connection id "0HMTP27KMQ742" started.
2023-09-19 15:11:25.809 +02:00 [DBG] Connection 0HMTP27KMQ742 established using the following protocol: "Tls12"
2023-09-19 15:11:25.841 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 15:11:25.844 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 15:11:25.845 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 15:11:25.845 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:11:25.845 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 15:11:25.846 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:11:25.853 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 15:11:25.854 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 15:11:25.854 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 15:11:25.854 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 15:11:25.854 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 15:11:25.854 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 15:11:25.855 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:11:25.926 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-19 15:11:26.422 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 15:11:26.480 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:11:26.481 +02:00 [INF] Getting all villas
2023-09-19 15:11:26.501 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-19 15:11:26.596 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-19 15:11:26.617 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 15:11:26.618 +02:00 [DBG] Creating DbConnection.
2023-09-19 15:11:26.641 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-19 15:11:26.645 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-19 15:11:26.646 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-09-19 15:11:26.649 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:11:26.724 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:11:26.733 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:11:26.758 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:11:26.783 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:11:26.803 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:11:26.803 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:11:26.803 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:11:26.803 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:11:26.808 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:11:26.815 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 51ms reading results.
2023-09-19 15:11:26.820 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:11:26.825 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-19 15:11:26.843 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 15:11:26.847 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 15:11:26.847 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 15:11:26.847 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 15:11:26.893 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1036.2794ms
2023-09-19 15:11:26.894 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:11:26.895 +02:00 [DBG] Connection id "0HMTP27KMQ742" completed keep alive response.
2023-09-19 15:11:26.898 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 15:11:26.902 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:11:26.904 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-19 15:11:26.905 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 1064.0653ms
2023-09-19 15:12:28.399 +02:00 [DBG] Connection id "0HMTP27KMQ740" received FIN.
2023-09-19 15:12:28.400 +02:00 [DBG] Connection id "0HMTP27KMQ740" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:12:28.401 +02:00 [DBG] Connection id "0HMTP27KMQ740" disconnecting.
2023-09-19 15:12:28.401 +02:00 [DBG] Connection id "0HMTP27KMQ740" stopped.
2023-09-19 15:12:40.779 +02:00 [DBG] Connection id "0HMTP27KMQ742" received FIN.
2023-09-19 15:12:40.779 +02:00 [DBG] Connection id "0HMTP27KMQ742" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:12:40.779 +02:00 [DBG] Connection id "0HMTP27KMQ742" disconnecting.
2023-09-19 15:12:40.780 +02:00 [DBG] Connection id "0HMTP27KMQ742" stopped.
2023-09-19 15:13:29.133 +02:00 [DBG] Connection id "0HMTP27KMQ741" disconnecting.
2023-09-19 15:13:29.134 +02:00 [DBG] Connection id "0HMTP27KMQ741" stopped.
2023-09-19 15:13:29.135 +02:00 [DBG] Connection id "0HMTP27KMQ741" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:32:06.439 +02:00 [DBG] Connection id "0HMTP27KMQ743" accepted.
2023-09-19 15:32:06.441 +02:00 [DBG] Connection id "0HMTP27KMQ743" started.
2023-09-19 15:32:06.474 +02:00 [DBG] Connection 0HMTP27KMQ743 established using the following protocol: "Tls12"
2023-09-19 15:32:06.505 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 15:32:06.507 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 15:32:06.507 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 15:32:06.507 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:32:06.508 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 15:32:06.508 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:32:06.509 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 15:32:06.509 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 15:32:06.509 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 15:32:06.509 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 15:32:06.509 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 15:32:06.509 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 15:32:06.509 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:32:06.534 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 15:32:06.534 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:32:06.535 +02:00 [INF] Getting all villas
2023-09-19 15:32:06.536 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 15:32:06.536 +02:00 [DBG] Creating DbConnection.
2023-09-19 15:32:06.536 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 15:32:06.536 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 15:32:06.536 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 15:32:06.536 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:32:06.544 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:32:06.544 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:32:06.547 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:32:06.548 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:32:06.548 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:32:06.548 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:32:06.548 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:32:06.548 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:32:06.548 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:32:06.548 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 15:32:06.548 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:32:06.548 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 15:32:06.549 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 15:32:06.549 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 15:32:06.549 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 15:32:06.549 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 15:32:06.550 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 40.7022ms
2023-09-19 15:32:06.553 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:32:06.553 +02:00 [DBG] Connection id "0HMTP27KMQ743" completed keep alive response.
2023-09-19 15:32:06.553 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 15:32:06.553 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:32:06.553 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 15:32:06.554 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 48.1898ms
2023-09-19 15:33:21.452 +02:00 [DBG] Connection id "0HMTP27KMQ743" received FIN.
2023-09-19 15:33:21.454 +02:00 [DBG] Connection id "0HMTP27KMQ743" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:33:21.455 +02:00 [DBG] Connection id "0HMTP27KMQ743" disconnecting.
2023-09-19 15:33:21.455 +02:00 [DBG] Connection id "0HMTP27KMQ743" stopped.
2023-09-19 15:34:33.913 +02:00 [DBG] Connection id "0HMTP27KMQ744" accepted.
2023-09-19 15:34:33.913 +02:00 [DBG] Connection id "0HMTP27KMQ744" started.
2023-09-19 15:34:33.949 +02:00 [DBG] Connection 0HMTP27KMQ744 established using the following protocol: "Tls12"
2023-09-19 15:34:33.982 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 15:34:33.982 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 15:34:33.982 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 15:34:33.982 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:34:33.982 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 15:34:33.982 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:34:33.982 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 15:34:33.982 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 15:34:33.982 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 15:34:33.982 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 15:34:33.982 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 15:34:33.982 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 15:34:33.982 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:34:33.987 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 15:34:33.987 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:34:33.987 +02:00 [INF] Getting all villas
2023-09-19 15:34:33.988 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 15:34:33.988 +02:00 [DBG] Creating DbConnection.
2023-09-19 15:34:33.988 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 15:34:33.988 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 15:34:33.988 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 15:34:33.988 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:34:33.988 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:34:33.988 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:34:33.989 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:34:33.990 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:33.990 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:33.990 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:33.990 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:33.990 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:33.990 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:34:33.990 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 15:34:33.990 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:34:33.990 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 15:34:33.990 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 15:34:33.990 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 15:34:33.990 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 15:34:33.990 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 15:34:33.990 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 8.3279ms
2023-09-19 15:34:33.990 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:34:33.990 +02:00 [DBG] Connection id "0HMTP27KMQ744" completed keep alive response.
2023-09-19 15:34:33.990 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 15:34:33.990 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:34:33.990 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 15:34:33.990 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 8.9379ms
2023-09-19 15:34:56.105 +02:00 [DBG] Connection id "0HMTP27KMQ744" received FIN.
2023-09-19 15:34:56.106 +02:00 [DBG] Connection id "0HMTP27KMQ744" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:34:56.106 +02:00 [DBG] Connection id "0HMTP27KMQ744" disconnecting.
2023-09-19 15:34:56.106 +02:00 [DBG] Connection id "0HMTP27KMQ744" stopped.
2023-09-19 15:34:59.879 +02:00 [DBG] Connection id "0HMTP27KMQ745" accepted.
2023-09-19 15:34:59.879 +02:00 [DBG] Connection id "0HMTP27KMQ745" started.
2023-09-19 15:34:59.916 +02:00 [DBG] Connection 0HMTP27KMQ745 established using the following protocol: "Tls12"
2023-09-19 15:34:59.948 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 15:34:59.948 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 15:34:59.948 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 15:34:59.948 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:34:59.948 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 15:34:59.948 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:34:59.949 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 15:34:59.949 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 15:34:59.949 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 15:34:59.949 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 15:34:59.949 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 15:34:59.949 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 15:34:59.949 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:34:59.949 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 15:34:59.949 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:34:59.950 +02:00 [INF] Getting all villas
2023-09-19 15:34:59.950 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 15:34:59.950 +02:00 [DBG] Creating DbConnection.
2023-09-19 15:34:59.950 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 15:34:59.950 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 15:34:59.950 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 15:34:59.950 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:34:59.950 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:34:59.950 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:34:59.951 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:34:59.951 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:59.951 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:59.951 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:59.951 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:59.951 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:34:59.951 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:34:59.951 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 15:34:59.951 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:34:59.951 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 15:34:59.951 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 15:34:59.951 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 15:34:59.951 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 15:34:59.951 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 15:34:59.952 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 3.0337ms
2023-09-19 15:34:59.952 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:34:59.952 +02:00 [DBG] Connection id "0HMTP27KMQ745" completed keep alive response.
2023-09-19 15:34:59.952 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 15:34:59.952 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:34:59.952 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 15:34:59.952 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 3.9456ms
2023-09-19 15:36:14.893 +02:00 [DBG] Connection id "0HMTP27KMQ745" received FIN.
2023-09-19 15:36:14.897 +02:00 [DBG] Connection id "0HMTP27KMQ745" disconnecting.
2023-09-19 15:36:14.898 +02:00 [DBG] Connection id "0HMTP27KMQ745" stopped.
2023-09-19 15:36:14.898 +02:00 [DBG] Connection id "0HMTP27KMQ745" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:37:19.562 +02:00 [DBG] Connection id "0HMTP27KMQ746" accepted.
2023-09-19 15:37:19.563 +02:00 [DBG] Connection id "0HMTP27KMQ746" started.
2023-09-19 15:37:19.600 +02:00 [DBG] Connection 0HMTP27KMQ746 established using the following protocol: "Tls12"
2023-09-19 15:37:19.632 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 15:37:19.632 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 15:37:19.632 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 15:37:19.632 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:37:19.632 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 15:37:19.632 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:37:19.632 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 15:37:19.632 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 15:37:19.632 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 15:37:19.632 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 15:37:19.632 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 15:37:19.632 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 15:37:19.632 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:37:19.632 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 15:37:19.632 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 15:37:19.632 +02:00 [INF] Getting all villas
2023-09-19 15:37:19.632 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 15:37:19.632 +02:00 [DBG] Creating DbConnection.
2023-09-19 15:37:19.633 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 15:37:19.633 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 15:37:19.633 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 15:37:19.633 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:37:19.640 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:37:19.640 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:37:19.641 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 15:37:19.641 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:37:19.641 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:37:19.641 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:37:19.641 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:37:19.641 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 15:37:19.641 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:37:19.641 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 15:37:19.642 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 15:37:19.642 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 15:37:19.642 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 15:37:19.642 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 15:37:19.642 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 15:37:19.642 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 15:37:19.642 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 10.1523ms
2023-09-19 15:37:19.642 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 15:37:19.642 +02:00 [DBG] Connection id "0HMTP27KMQ746" completed keep alive response.
2023-09-19 15:37:19.642 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 15:37:19.642 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 15:37:19.642 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 15:37:19.642 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 10.7911ms
2023-09-19 15:38:34.575 +02:00 [DBG] Connection id "0HMTP27KMQ746" received FIN.
2023-09-19 15:38:34.578 +02:00 [DBG] Connection id "0HMTP27KMQ746" disconnecting.
2023-09-19 15:38:34.578 +02:00 [DBG] Connection id "0HMTP27KMQ746" stopped.
2023-09-19 15:38:34.578 +02:00 [DBG] Connection id "0HMTP27KMQ746" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:59:44.662 +02:00 [INF] Application is shutting down...
2023-09-19 15:59:44.665 +02:00 [DBG] Hosting stopping
2023-09-19 15:59:44.675 +02:00 [DBG] Hosting stopped
2023-09-19 15:59:50.832 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-19 15:59:50.882 +02:00 [DBG] Hosting starting
2023-09-19 15:59:51.059 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-19 15:59:51.060 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-19 15:59:51.060 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-19 15:59:51.060 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-19 15:59:51.060 +02:00 [INF] Hosting environment: Development
2023-09-19 15:59:51.060 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-19 15:59:51.060 +02:00 [DBG] Hosting started
2023-09-19 15:59:51.415 +02:00 [DBG] Connection id "0HMTP32OQKSVT" received FIN.
2023-09-19 15:59:51.419 +02:00 [DBG] Connection id "0HMTP32OQKSVT" accepted.
2023-09-19 15:59:51.420 +02:00 [DBG] Connection id "0HMTP32OQKSVT" started.
2023-09-19 15:59:51.433 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-19 15:59:51.460 +02:00 [DBG] Connection id "0HMTP32OQKSVT" stopped.
2023-09-19 15:59:51.463 +02:00 [DBG] Connection id "0HMTP32OQKSVU" accepted.
2023-09-19 15:59:51.464 +02:00 [DBG] Connection id "0HMTP32OQKSVV" accepted.
2023-09-19 15:59:51.464 +02:00 [DBG] Connection id "0HMTP32OQKSVV" started.
2023-09-19 15:59:51.464 +02:00 [DBG] Connection id "0HMTP32OQKSVU" started.
2023-09-19 15:59:51.464 +02:00 [DBG] Connection id "0HMTP32OQKSVT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 15:59:51.517 +02:00 [DBG] Connection 0HMTP32OQKSVV established using the following protocol: "Tls12"
2023-09-19 15:59:51.517 +02:00 [DBG] Connection 0HMTP32OQKSVU established using the following protocol: "Tls12"
2023-09-19 15:59:51.539 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-19 15:59:51.540 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-19 15:59:51.552 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-19 15:59:51.552 +02:00 [DBG] Request did not match any endpoints
2023-09-19 15:59:51.622 +02:00 [DBG] Connection id "0HMTP32OQKSVV" completed keep alive response.
2023-09-19 15:59:51.623 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 84.7382ms
2023-09-19 15:59:51.746 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-19 15:59:51.746 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-19 15:59:51.746 +02:00 [DBG] Request did not match any endpoints
2023-09-19 15:59:51.855 +02:00 [DBG] Connection id "0HMTP32OQKSVV" completed keep alive response.
2023-09-19 15:59:51.855 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.2099ms
2023-09-19 16:01:35.504 +02:00 [DBG] Connection id "0HMTP32OQKSVU" received FIN.
2023-09-19 16:01:35.506 +02:00 [DBG] Connection id "0HMTP32OQKSVU" disconnecting.
2023-09-19 16:01:35.508 +02:00 [DBG] Connection id "0HMTP32OQKSVU" stopped.
2023-09-19 16:01:35.509 +02:00 [DBG] Connection id "0HMTP32OQKSVU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:01:35.715 +02:00 [DBG] Connection id "0HMTP32OQKT00" accepted.
2023-09-19 16:01:35.715 +02:00 [DBG] Connection id "0HMTP32OQKT00" started.
2023-09-19 16:01:35.743 +02:00 [DBG] Connection 0HMTP32OQKT00 established using the following protocol: "Tls12"
2023-09-19 16:01:35.749 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 16:01:35.751 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:01:35.752 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:01:35.753 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:01:35.754 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:01:35.755 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:01:35.762 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:01:35.763 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:01:35.763 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:01:35.763 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:01:35.763 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:01:35.763 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:01:35.764 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:01:35.834 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-19 16:01:36.331 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:01:36.388 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:01:36.389 +02:00 [INF] Getting all villas
2023-09-19 16:01:36.410 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-19 16:01:36.497 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-19 16:01:36.518 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:01:36.519 +02:00 [DBG] Creating DbConnection.
2023-09-19 16:01:36.543 +02:00 [DBG] Created DbConnection. (22ms).
2023-09-19 16:01:36.548 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-19 16:01:36.550 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2023-09-19 16:01:36.553 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:01:36.628 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:01:36.636 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:01:36.661 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:01:36.687 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:36.706 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:36.706 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:36.706 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:36.706 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:36.711 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:01:36.718 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 51ms reading results.
2023-09-19 16:01:36.723 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:01:36.728 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (4ms).
2023-09-19 16:01:36.747 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:01:36.750 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 16:01:36.750 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 16:01:36.751 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 16:01:36.797 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1030.9793ms
2023-09-19 16:01:36.798 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:01:36.802 +02:00 [DBG] Connection id "0HMTP32OQKT00" completed keep alive response.
2023-09-19 16:01:36.805 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:01:36.810 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:01:36.813 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-19 16:01:36.814 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 1065.0622ms
2023-09-19 16:01:52.109 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113
2023-09-19 16:01:52.110 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:01:52.110 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:01:52.110 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:01:52.110 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:01:52.110 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:01:52.118 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:01:52.118 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:01:52.118 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:01:52.118 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:01:52.118 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:01:52.118 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:01:52.118 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:01:52.143 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:01:52.143 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:01:52.145 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:01:52.146 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-19 16:01:52.146 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:01:52.146 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:01:52.149 +02:00 [DBG] Connection id "0HMTP32OQKT00", Request id "0HMTP32OQKT00:00000002": started reading request body.
2023-09-19 16:01:52.149 +02:00 [DBG] Connection id "0HMTP32OQKT00", Request id "0HMTP32OQKT00:00000002": done reading request body.
2023-09-19 16:01:52.171 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 53.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-19 16:01:52.175 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:01:52.175 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:01:52.175 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:01:52.177 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:01:52.178 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-19 16:01:52.179 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-19 16:01:52.179 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:01:52.179 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-19 16:01:52.179 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-19 16:01:52.179 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-19 16:01:52.190 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 71.91ms
2023-09-19 16:01:52.190 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:01:52.190 +02:00 [DBG] Connection id "0HMTP32OQKT00" completed keep alive response.
2023-09-19 16:01:52.190 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:01:52.190 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113 - 400 360 application/problem+json;+charset=utf-8 80.8807ms
2023-09-19 16:01:52.194 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 16:01:52.194 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:01:52.194 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:01:52.194 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:01:52.194 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:01:52.194 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:01:52.194 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:01:52.195 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:01:52.195 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:01:52.195 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:01:52.195 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:01:52.195 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:01:52.195 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:01:52.200 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:01:52.201 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:01:52.201 +02:00 [INF] Getting all villas
2023-09-19 16:01:52.201 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:01:52.201 +02:00 [DBG] Creating DbConnection.
2023-09-19 16:01:52.201 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 16:01:52.201 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:01:52.201 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:01:52.201 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:01:52.202 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:01:52.202 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:01:52.205 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:01:52.205 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:52.205 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:52.205 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:52.205 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:52.205 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:01:52.205 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:01:52.205 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 16:01:52.205 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:01:52.205 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:01:52.206 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:01:52.206 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 16:01:52.206 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 16:01:52.206 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 16:01:52.206 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 11.3439ms
2023-09-19 16:01:52.206 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:01:52.206 +02:00 [DBG] Connection id "0HMTP32OQKT00" completed keep alive response.
2023-09-19 16:01:52.206 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:01:52.206 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:01:52.206 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:01:52.206 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 11.8929ms
2023-09-19 16:02:02.047 +02:00 [DBG] Connection id "0HMTP32OQKSVV" disconnecting.
2023-09-19 16:02:02.048 +02:00 [DBG] Connection id "0HMTP32OQKSVV" stopped.
2023-09-19 16:02:02.048 +02:00 [DBG] Connection id "0HMTP32OQKSVV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:02:25.230 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113
2023-09-19 16:02:25.230 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:02:25.231 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:02:25.231 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:02:25.231 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:02:25.231 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:02:25.231 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:02:25.231 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:02:25.231 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:02:25.232 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:02:25.232 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:02:25.232 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:02:25.232 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:02:25.233 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:02:25.233 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:02:25.234 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:02:25.234 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-19 16:02:25.234 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:02:25.234 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:02:25.234 +02:00 [DBG] Connection id "0HMTP32OQKT00", Request id "0HMTP32OQKT00:00000004": started reading request body.
2023-09-19 16:02:25.234 +02:00 [DBG] Connection id "0HMTP32OQKT00", Request id "0HMTP32OQKT00:00000004": done reading request body.
2023-09-19 16:02:25.235 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 53.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-19 16:02:25.235 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:02:25.235 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:02:25.235 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:02:25.235 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:02:25.235 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-19 16:02:25.235 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-19 16:02:25.236 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:02:25.236 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-19 16:02:25.236 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-19 16:02:25.236 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-19 16:02:25.236 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 4.4417ms
2023-09-19 16:02:25.236 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:02:25.236 +02:00 [DBG] Connection id "0HMTP32OQKT00" completed keep alive response.
2023-09-19 16:02:25.236 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:02:25.236 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113 - 400 360 application/problem+json;+charset=utf-8 6.7499ms
2023-09-19 16:02:25.241 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 16:02:25.241 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:02:25.241 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:02:25.241 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:02:25.241 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:02:25.241 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:02:25.241 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:02:25.241 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:02:25.241 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:02:25.241 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:02:25.241 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:02:25.242 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:02:25.242 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:02:25.242 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:02:25.242 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:02:25.242 +02:00 [INF] Getting all villas
2023-09-19 16:02:25.243 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:02:25.243 +02:00 [DBG] Creating DbConnection.
2023-09-19 16:02:25.243 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 16:02:25.243 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:02:25.243 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:02:25.243 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:02:25.243 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:02:25.244 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:02:25.245 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:02:25.245 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:02:25.245 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:02:25.245 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:02:25.245 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:02:25.245 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:02:25.245 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:02:25.245 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 16:02:25.245 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:02:25.245 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:02:25.245 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:02:25.246 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 16:02:25.246 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 16:02:25.246 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 16:02:25.246 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 4.3221ms
2023-09-19 16:02:25.246 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:02:25.246 +02:00 [DBG] Connection id "0HMTP32OQKT00" completed keep alive response.
2023-09-19 16:02:25.246 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:02:25.246 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:02:25.246 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:02:25.246 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 5.0338ms
2023-09-19 16:03:11.832 +02:00 [INF] Application is shutting down...
2023-09-19 16:03:11.833 +02:00 [DBG] Hosting stopping
2023-09-19 16:03:11.841 +02:00 [DBG] Connection id "0HMTP32OQKT00" disconnecting.
2023-09-19 16:03:11.841 +02:00 [DBG] Connection id "0HMTP32OQKT00" stopped.
2023-09-19 16:03:11.841 +02:00 [DBG] Connection id "0HMTP32OQKT00" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:03:11.844 +02:00 [DBG] Hosting stopped
2023-09-19 16:03:21.901 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-19 16:03:21.960 +02:00 [DBG] Hosting starting
2023-09-19 16:03:22.168 +02:00 [INF] Now listening on: https://localhost:7001
2023-09-19 16:03:22.168 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-19 16:03:22.168 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-19 16:03:22.168 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-19 16:03:22.168 +02:00 [INF] Hosting environment: Development
2023-09-19 16:03:22.168 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-19 16:03:22.168 +02:00 [DBG] Hosting started
2023-09-19 16:03:22.653 +02:00 [DBG] Connection id "0HMTP34NP5N1T" received FIN.
2023-09-19 16:03:22.656 +02:00 [DBG] Connection id "0HMTP34NP5N1T" accepted.
2023-09-19 16:03:22.656 +02:00 [DBG] Connection id "0HMTP34NP5N1T" started.
2023-09-19 16:03:22.668 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-19 16:03:22.725 +02:00 [DBG] Connection id "0HMTP34NP5N1U" accepted.
2023-09-19 16:03:22.747 +02:00 [DBG] Connection id "0HMTP34NP5N1V" accepted.
2023-09-19 16:03:22.748 +02:00 [DBG] Connection id "0HMTP34NP5N1U" started.
2023-09-19 16:03:22.748 +02:00 [DBG] Connection id "0HMTP34NP5N1V" started.
2023-09-19 16:03:22.751 +02:00 [DBG] Connection id "0HMTP34NP5N1T" stopped.
2023-09-19 16:03:22.754 +02:00 [DBG] Connection id "0HMTP34NP5N1T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:03:22.858 +02:00 [DBG] Connection 0HMTP34NP5N1V established using the following protocol: "Tls12"
2023-09-19 16:03:22.858 +02:00 [DBG] Connection 0HMTP34NP5N1U established using the following protocol: "Tls12"
2023-09-19 16:03:22.884 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html - -
2023-09-19 16:03:22.885 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-19 16:03:22.897 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-19 16:03:22.897 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:03:22.976 +02:00 [DBG] Connection id "0HMTP34NP5N1V" completed keep alive response.
2023-09-19 16:03:22.977 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 93.3097ms
2023-09-19 16:03:23.077 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - -
2023-09-19 16:03:23.077 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-19 16:03:23.077 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:03:23.233 +02:00 [DBG] Connection id "0HMTP34NP5N1V" completed keep alive response.
2023-09-19 16:03:23.233 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.8105ms
2023-09-19 16:04:57.737 +02:00 [DBG] Connection id "0HMTP34NP5N1U" received FIN.
2023-09-19 16:04:57.767 +02:00 [DBG] Connection id "0HMTP34NP5N20" accepted.
2023-09-19 16:04:57.791 +02:00 [DBG] Connection id "0HMTP34NP5N20" started.
2023-09-19 16:04:57.801 +02:00 [DBG] Connection id "0HMTP34NP5N1U" disconnecting.
2023-09-19 16:04:57.803 +02:00 [DBG] Connection id "0HMTP34NP5N1U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:04:57.807 +02:00 [DBG] Connection id "0HMTP34NP5N1U" stopped.
2023-09-19 16:04:57.821 +02:00 [DBG] Connection 0HMTP34NP5N20 established using the following protocol: "Tls12"
2023-09-19 16:04:57.825 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113
2023-09-19 16:04:57.830 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:04:57.832 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:04:57.833 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:04:57.834 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:04:57.836 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:04:57.855 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:04:57.856 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:04:57.856 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:04:57.856 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:04:57.856 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:04:57.857 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:04:57.858 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:04:57.968 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-19 16:04:58.587 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:04:58.653 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:04:58.658 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:04:58.660 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-19 16:04:58.660 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:04:58.660 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:04:58.664 +02:00 [DBG] Connection id "0HMTP34NP5N20", Request id "0HMTP34NP5N20:00000001": started reading request body.
2023-09-19 16:04:58.664 +02:00 [DBG] Connection id "0HMTP34NP5N20", Request id "0HMTP34NP5N20:00000001": done reading request body.
2023-09-19 16:04:58.691 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 53.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-19 16:04:58.695 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:04:58.695 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:04:58.695 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:04:58.698 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:04:58.700 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-19 16:04:58.700 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-19 16:04:58.701 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:04:58.703 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-19 16:04:58.703 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-19 16:04:58.703 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-19 16:04:58.738 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 879.0093ms
2023-09-19 16:04:58.738 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:04:58.738 +02:00 [DBG] Connection id "0HMTP34NP5N20" completed keep alive response.
2023-09-19 16:04:58.740 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:04:58.742 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113 - 400 360 application/problem+json;+charset=utf-8 916.7105ms
2023-09-19 16:04:58.742 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 16:04:58.742 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:04:58.743 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:04:58.743 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:04:58.743 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:04:58.743 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:04:58.744 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:04:58.744 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:04:58.744 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:04:58.744 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:04:58.744 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:04:58.744 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:04:58.744 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:04:58.758 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:04:58.758 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:04:58.759 +02:00 [INF] Getting all villas
2023-09-19 16:04:58.787 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-19 16:04:58.898 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-19 16:04:58.923 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:04:58.924 +02:00 [DBG] Creating DbConnection.
2023-09-19 16:04:58.959 +02:00 [DBG] Created DbConnection. (31ms).
2023-09-19 16:04:58.964 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2023-09-19 16:04:58.965 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (42ms).
2023-09-19 16:04:58.968 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:04:59.147 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:04:59.160 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:04:59.192 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:04:59.224 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:04:59.246 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:04:59.246 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:04:59.246 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:04:59.246 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:04:59.253 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:04:59.262 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 63ms reading results.
2023-09-19 16:04:59.268 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:04:59.274 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (6ms).
2023-09-19 16:04:59.296 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:04:59.296 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 16:04:59.297 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 16:04:59.297 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 16:04:59.306 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 561.4455ms
2023-09-19 16:04:59.307 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:04:59.312 +02:00 [DBG] Connection id "0HMTP34NP5N20" completed keep alive response.
2023-09-19 16:04:59.312 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:04:59.316 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:04:59.319 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (3ms).
2023-09-19 16:04:59.320 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 577.4145ms
2023-09-19 16:06:12.708 +02:00 [DBG] Connection id "0HMTP34NP5N20" received FIN.
2023-09-19 16:06:12.712 +02:00 [DBG] Connection id "0HMTP34NP5N20" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:06:12.739 +02:00 [DBG] Connection id "0HMTP34NP5N20" disconnecting.
2023-09-19 16:06:12.739 +02:00 [DBG] Connection id "0HMTP34NP5N20" stopped.
2023-09-19 16:06:51.650 +02:00 [DBG] Connection id "0HMTP34NP5N21" accepted.
2023-09-19 16:06:51.652 +02:00 [DBG] Connection id "0HMTP34NP5N21" started.
2023-09-19 16:06:51.677 +02:00 [DBG] Connection 0HMTP34NP5N21 established using the following protocol: "Tls12"
2023-09-19 16:06:51.684 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 16:06:51.684 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:06:51.684 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:06:51.684 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:06:51.684 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:06:51.684 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:06:51.685 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:06:51.685 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:06:51.685 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:06:51.685 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:06:51.685 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:06:51.685 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:06:51.685 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:06:51.689 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:06:51.689 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:06:51.689 +02:00 [INF] Getting all villas
2023-09-19 16:06:51.690 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:06:51.690 +02:00 [DBG] Creating DbConnection.
2023-09-19 16:06:51.690 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 16:06:51.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:06:51.690 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:06:51.690 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:06:51.690 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:06:51.690 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:06:51.742 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:06:51.818 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:06:51.818 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:06:51.818 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:06:51.818 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:06:51.818 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:06:51.819 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:06:51.819 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 16:06:51.819 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:06:51.819 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:06:51.820 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:06:51.820 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 16:06:51.820 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 16:06:51.820 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 16:06:51.820 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 135.2483ms
2023-09-19 16:06:51.820 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:06:51.820 +02:00 [DBG] Connection id "0HMTP34NP5N21" completed keep alive response.
2023-09-19 16:06:51.820 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:06:51.820 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:06:51.820 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:06:51.820 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 136.2139ms
2023-09-19 16:07:34.394 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113
2023-09-19 16:07:34.395 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:07:34.395 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:07:34.395 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:07:34.395 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:07:34.395 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:07:34.395 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:07:34.395 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:07:34.395 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:07:34.395 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:07:34.395 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:07:34.395 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:07:34.395 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:07:34.396 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:07:34.396 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:07:34.397 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:07:34.397 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-19 16:07:34.397 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:07:34.397 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:07:34.397 +02:00 [DBG] Connection id "0HMTP34NP5N21", Request id "0HMTP34NP5N21:00000002": started reading request body.
2023-09-19 16:07:34.397 +02:00 [DBG] Connection id "0HMTP34NP5N21", Request id "0HMTP34NP5N21:00000002": done reading request body.
2023-09-19 16:07:34.397 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 53.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-19 16:07:34.397 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:07:34.397 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:07:34.397 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:07:34.398 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:07:34.398 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-19 16:07:34.398 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-19 16:07:34.398 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:07:34.398 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-19 16:07:34.398 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-19 16:07:34.398 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-19 16:07:34.398 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 2.6054ms
2023-09-19 16:07:34.398 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:07:34.398 +02:00 [DBG] Connection id "0HMTP34NP5N21" completed keep alive response.
2023-09-19 16:07:34.398 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:07:34.398 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 113 - 400 360 application/problem+json;+charset=utf-8 7.1075ms
2023-09-19 16:09:19.965 +02:00 [DBG] Connection id "0HMTP34NP5N21" received FIN.
2023-09-19 16:09:19.968 +02:00 [DBG] Connection id "0HMTP34NP5N21" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:09:19.968 +02:00 [DBG] Connection id "0HMTP34NP5N21" disconnecting.
2023-09-19 16:09:19.968 +02:00 [DBG] Connection id "0HMTP34NP5N21" stopped.
2023-09-19 16:09:32.986 +02:00 [DBG] Connection id "0HMTP34NP5N1V" received FIN.
2023-09-19 16:09:32.986 +02:00 [DBG] Connection id "0HMTP34NP5N1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:09:32.987 +02:00 [DBG] Connection id "0HMTP34NP5N1V" disconnecting.
2023-09-19 16:09:32.987 +02:00 [DBG] Connection id "0HMTP34NP5N1V" stopped.
2023-09-19 16:09:33.013 +02:00 [DBG] Connection id "0HMTP34NP5N22" accepted.
2023-09-19 16:09:33.036 +02:00 [DBG] Connection id "0HMTP34NP5N22" started.
2023-09-19 16:09:33.062 +02:00 [DBG] Connection 0HMTP34NP5N22 established using the following protocol: "Tls12"
2023-09-19 16:09:33.064 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaApi - -
2023-09-19 16:09:33.065 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:09:33.065 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:09:33.065 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:09:33.065 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:09:33.065 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:09:33.065 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:09:33.065 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:09:33.065 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:09:33.065 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:09:33.065 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:09:33.065 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:09:33.065 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:09:33.066 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:09:33.066 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:09:33.066 +02:00 [INF] Getting all villas
2023-09-19 16:09:33.067 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:09:33.067 +02:00 [DBG] Creating DbConnection.
2023-09-19 16:09:33.067 +02:00 [DBG] Created DbConnection. (0ms).
2023-09-19 16:09:33.067 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:09:33.067 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:09:33.067 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:09:33.067 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:09:33.067 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:09:33.092 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:09:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:09:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:09:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:09:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:09:33.092 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:09:33.092 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:09:33.092 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2023-09-19 16:09:33.092 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:09:33.092 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:09:33.092 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:09:33.093 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-09-19 16:09:33.093 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 16:09:33.093 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 16:09:33.093 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 27.6919ms
2023-09-19 16:09:33.093 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:09:33.093 +02:00 [DBG] Connection id "0HMTP34NP5N22" completed keep alive response.
2023-09-19 16:09:33.093 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:09:33.093 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:09:33.093 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:09:33.093 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaApi - - - 200 1695 application/json;+charset=utf-8 28.9020ms
2023-09-19 16:10:07.823 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 115
2023-09-19 16:10:07.823 +02:00 [DBG] 1 candidate(s) found for the request path '/api/villaApi'
2023-09-19 16:10:07.824 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaApi'
2023-09-19 16:10:07.824 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:10:07.824 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:10:07.824 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:10:07.824 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:10:07.824 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:10:07.824 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:10:07.824 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:10:07.824 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:10:07.824 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:10:07.824 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:10:07.826 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:10:07.826 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:10:07.826 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:10:07.826 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-19 16:10:07.826 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:10:07.826 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-09-19 16:10:07.826 +02:00 [DBG] Connection id "0HMTP34NP5N22", Request id "0HMTP34NP5N22:00000002": started reading request body.
2023-09-19 16:10:07.826 +02:00 [DBG] Connection id "0HMTP34NP5N22", Request id "0HMTP34NP5N22:00000002": done reading request body.
2023-09-19 16:10:07.827 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'Occupancy', line 1, position 53.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-19 16:10:07.827 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:10:07.827 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:10:07.827 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:10:07.827 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:10:07.827 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-19 16:10:07.827 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-19 16:10:07.827 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:10:07.827 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-19 16:10:07.827 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-19 16:10:07.828 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-19 16:10:07.828 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 3.55ms
2023-09-19 16:10:07.828 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:10:07.828 +02:00 [DBG] Connection id "0HMTP34NP5N22" completed keep alive response.
2023-09-19 16:10:07.828 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:10:07.828 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/villaApi application/json;+charset=utf-8 115 - 400 360 application/problem+json;+charset=utf-8 4.7810ms
2023-09-19 16:16:32.344 +02:00 [DBG] Connection id "0HMTP34NP5N23" accepted.
2023-09-19 16:16:32.354 +02:00 [DBG] Connection id "0HMTP34NP5N23" started.
2023-09-19 16:16:32.378 +02:00 [DBG] Connection id "0HMTP34NP5N24" accepted.
2023-09-19 16:16:32.378 +02:00 [DBG] Connection id "0HMTP34NP5N24" started.
2023-09-19 16:16:32.379 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-19 16:16:32.379 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-19 16:16:32.382 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:16:32.384 +02:00 [DBG] Connection id "0HMTP34NP5N23" completed keep alive response.
2023-09-19 16:16:32.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 5.8179ms
2023-09-19 16:16:32.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui.css - -
2023-09-19 16:16:32.401 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-19 16:16:32.401 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:16:32.431 +02:00 [DBG] Connection id "0HMTP34NP5N25" accepted.
2023-09-19 16:16:32.432 +02:00 [DBG] Connection id "0HMTP34NP5N25" started.
2023-09-19 16:16:32.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui-standalone-preset.js - -
2023-09-19 16:16:32.432 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-19 16:16:32.432 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:16:32.433 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui-bundle.js - -
2023-09-19 16:16:32.434 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-19 16:16:32.434 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:16:32.545 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-19 16:16:32.545 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-19 16:16:32.545 +02:00 [DBG] Connection id "0HMTP34NP5N25" completed keep alive response.
2023-09-19 16:16:32.545 +02:00 [DBG] Connection id "0HMTP34NP5N24" completed keep alive response.
2023-09-19 16:16:32.545 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 111.6656ms
2023-09-19 16:16:32.545 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 112.9705ms
2023-09-19 16:16:32.545 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-19 16:16:32.545 +02:00 [DBG] Connection id "0HMTP34NP5N23" completed keep alive response.
2023-09-19 16:16:32.545 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/swagger-ui.css - - - 200 144929 text/css 144.1088ms
2023-09-19 16:16:32.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-19 16:16:32.628 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-19 16:16:32.628 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:16:32.644 +02:00 [DBG] Connection id "0HMTP34NP5N24" completed keep alive response.
2023-09-19 16:16:32.644 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 16.6414ms
2023-09-19 16:17:23.654 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5254/api/VillaApi application/json-patch+json 135
2023-09-19 16:17:23.655 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-19 16:17:23.655 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-19 16:17:23.655 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:17:23.655 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:17:23.660 +02:00 [DBG] Https port '7001' discovered from server endpoints.
2023-09-19 16:17:23.661 +02:00 [DBG] Redirecting to 'https://localhost:7001/api/VillaApi'.
2023-09-19 16:17:23.661 +02:00 [DBG] Connection id "0HMTP34NP5N24" completed keep alive response.
2023-09-19 16:17:23.661 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5254/api/VillaApi application/json-patch+json 135 - 307 0 - 10.1270ms
2023-09-19 16:17:23.661 +02:00 [DBG] Connection id "0HMTP34NP5N24", Request id "0HMTP34NP5N24:00000003": started reading request body.
2023-09-19 16:17:23.661 +02:00 [DBG] Connection id "0HMTP34NP5N24", Request id "0HMTP34NP5N24:00000003": done reading request body.
2023-09-19 16:17:23.690 +02:00 [DBG] Connection id "0HMTP34NP5N26" accepted.
2023-09-19 16:17:23.691 +02:00 [DBG] Connection id "0HMTP34NP5N26" started.
2023-09-19 16:17:23.722 +02:00 [DBG] Connection 0HMTP34NP5N26 established using the following protocol: "Tls12"
2023-09-19 16:17:23.723 +02:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7001/api/VillaApi - -
2023-09-19 16:17:23.723 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-19 16:17:23.723 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-09-19 16:17:23.724 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:17:23.724 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-19 16:17:23.724 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-19 16:17:23.724 +02:00 [DBG] Connection id "0HMTP34NP5N26" completed keep alive response.
2023-09-19 16:17:23.724 +02:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7001/api/VillaApi - - - 405 0 - 1.1720ms
2023-09-19 16:18:09.140 +02:00 [DBG] Connection id "0HMTP34NP5N22" received FIN.
2023-09-19 16:18:09.143 +02:00 [DBG] Connection id "0HMTP34NP5N22" disconnecting.
2023-09-19 16:18:09.143 +02:00 [DBG] Connection id "0HMTP34NP5N22" stopped.
2023-09-19 16:18:09.191 +02:00 [DBG] Connection id "0HMTP34NP5N22" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:24:55.194 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-19 16:24:55.249 +02:00 [DBG] Hosting starting
2023-09-19 16:24:55.272 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-19 16:24:55.272 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-19 16:24:55.272 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-19 16:24:55.272 +02:00 [INF] Hosting environment: Development
2023-09-19 16:24:55.272 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-19 16:24:55.272 +02:00 [DBG] Hosting started
2023-09-19 16:24:55.739 +02:00 [DBG] Connection id "0HMTP3GP508PJ" received FIN.
2023-09-19 16:24:55.744 +02:00 [DBG] Connection id "0HMTP3GP508PJ" accepted.
2023-09-19 16:24:55.745 +02:00 [DBG] Connection id "0HMTP3GP508PJ" started.
2023-09-19 16:24:55.753 +02:00 [DBG] Connection id "0HMTP3GP508PJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:24:55.765 +02:00 [DBG] Connection id "0HMTP3GP508PJ" disconnecting.
2023-09-19 16:24:55.767 +02:00 [DBG] Connection id "0HMTP3GP508PJ" stopped.
2023-09-19 16:24:55.781 +02:00 [DBG] Connection id "0HMTP3GP508PK" accepted.
2023-09-19 16:24:55.781 +02:00 [DBG] Connection id "0HMTP3GP508PL" accepted.
2023-09-19 16:24:55.781 +02:00 [DBG] Connection id "0HMTP3GP508PL" started.
2023-09-19 16:24:55.781 +02:00 [DBG] Connection id "0HMTP3GP508PK" started.
2023-09-19 16:24:55.800 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-19 16:24:55.801 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-19 16:24:55.811 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-19 16:24:55.811 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:24:55.868 +02:00 [DBG] Connection id "0HMTP3GP508PK" completed keep alive response.
2023-09-19 16:24:55.868 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 69.4958ms
2023-09-19 16:24:56.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-19 16:24:56.001 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-19 16:24:56.001 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:24:56.113 +02:00 [DBG] Connection id "0HMTP3GP508PK" completed keep alive response.
2023-09-19 16:24:56.113 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.5706ms
2023-09-19 16:25:15.089 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5254/api/VillaApi application/json-patch+json 143
2023-09-19 16:25:15.104 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-19 16:25:15.109 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-19 16:25:15.110 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:25:15.113 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:25:15.115 +02:00 [WRN] Failed to determine the https port for redirect.
2023-09-19 16:25:15.116 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:25:15.130 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:25:15.131 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:25:15.131 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:25:15.131 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:25:15.131 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:25:15.131 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:25:15.132 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:25:15.212 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-19 16:25:15.684 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:25:15.738 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:25:15.739 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:25:15.740 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-19 16:25:15.740 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-19 16:25:15.740 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-19 16:25:15.743 +02:00 [DBG] Connection id "0HMTP3GP508PK", Request id "0HMTP3GP508PK:00000003": started reading request body.
2023-09-19 16:25:15.743 +02:00 [DBG] Connection id "0HMTP3GP508PK", Request id "0HMTP3GP508PK:00000003": done reading request body.
2023-09-19 16:25:15.761 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:25:15.761 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:25:15.761 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:25:15.766 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:25:15.804 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-09-19 16:25:15.926 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE lower(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-19 16:25:15.954 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:25:15.955 +02:00 [DBG] Creating DbConnection.
2023-09-19 16:25:15.978 +02:00 [DBG] Created DbConnection. (20ms).
2023-09-19 16:25:15.982 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-19 16:25:15.985 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2023-09-19 16:25:15.988 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:25:16.069 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:25:16.080 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-19 16:25:16.113 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
WHERE lower(v."Name") = @__ToLower_0
LIMIT 1
2023-09-19 16:25:16.121 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:25:16.129 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
2023-09-19 16:25:16.134 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:25:16.139 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-19 16:25:16.179 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:25:16.218 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:25:16.222 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-19 16:25:16.225 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-19 16:25:16.238 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-19 16:25:16.305 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:25:16.306 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:25:16.308 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:25:16.308 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:25:16.308 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-19 16:25:16.308 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-19 16:25:16.343 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Villas" ("Amenity", "CreatedDate", "Details", "ImageUrl", "Name", "Occupancy", "Rate", "Sqft", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2023-09-19 16:25:16.351 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-19 16:25:16.353 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:25:16.353 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
2023-09-19 16:25:16.353 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:25:16.353 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (0ms).
2023-09-19 16:25:16.361 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:25:16.362 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-19 16:25:16.370 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:25:16.373 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-19 16:25:16.374 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-19 16:25:16.374 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-19 16:25:16.374 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-19 16:25:16.374 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 16:25:16.374 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 16:25:16.387 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[8])
2023-09-19 16:25:16.392 +02:00 [DBG] Successfully processed template api/VillaApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI) resulting in /api/VillaApi/8 and 
2023-09-19 16:25:16.392 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaApiController.GetVilla (MagicVilla_VillaAPI)"] with result /api/VillaApi/8
2023-09-19 16:25:16.432 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 1297.7889ms
2023-09-19 16:25:16.433 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:25:16.437 +02:00 [DBG] Connection id "0HMTP3GP508PK" completed keep alive response.
2023-09-19 16:25:16.440 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:25:16.445 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:25:16.447 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-19 16:25:16.448 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5254/api/VillaApi application/json-patch+json 143 - 201 189 application/json;+charset=utf-8 1359.6115ms
2023-09-19 16:25:40.367 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5254/api/VillaApi application/json-patch+json 136
2023-09-19 16:25:40.369 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-19 16:25:40.369 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-19 16:25:40.369 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:25:40.369 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:25:40.369 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:25:40.370 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:25:40.370 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:25:40.370 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:25:40.370 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:25:40.370 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:25:40.370 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:25:40.370 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:25:40.407 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:25:40.407 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:25:40.408 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:25:40.408 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2023-09-19 16:25:40.408 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-19 16:25:40.408 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-19 16:25:40.408 +02:00 [DBG] Connection id "0HMTP3GP508PK", Request id "0HMTP3GP508PK:00000004": started reading request body.
2023-09-19 16:25:40.408 +02:00 [DBG] Connection id "0HMTP3GP508PK", Request id "0HMTP3GP508PK:00000004": done reading request body.
2023-09-19 16:25:40.414 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'occupancy', line 4, position 19.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2023-09-19 16:25:40.422 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:25:40.422 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:25:40.422 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2023-09-19 16:25:40.422 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2023-09-19 16:25:40.423 +02:00 [DBG] The request has model state errors, returning an error response.
2023-09-19 16:25:40.423 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-09-19 16:25:40.423 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:25:40.423 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-09-19 16:25:40.423 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-19 16:25:40.423 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-09-19 16:25:40.424 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-19 16:25:40.424 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-09-19 16:25:40.439 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI) in 69.0398ms
2023-09-19 16:25:40.439 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.CreateVilla (MagicVilla_VillaAPI)'
2023-09-19 16:25:40.439 +02:00 [DBG] Connection id "0HMTP3GP508PK" completed keep alive response.
2023-09-19 16:25:40.439 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:25:40.439 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5254/api/VillaApi application/json-patch+json 136 - 400 360 application/problem+json;+charset=utf-8 72.0785ms
2023-09-19 16:26:01.683 +02:00 [DBG] Connection id "0HMTP3GP508PL" received FIN.
2023-09-19 16:26:01.685 +02:00 [DBG] Connection id "0HMTP3GP508PL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:26:01.687 +02:00 [DBG] Connection id "0HMTP3GP508PL" disconnecting.
2023-09-19 16:26:01.689 +02:00 [DBG] Connection id "0HMTP3GP508PL" stopped.
2023-09-19 16:26:25.515 +02:00 [INF] Application is shutting down...
2023-09-19 16:26:25.517 +02:00 [DBG] Hosting stopping
2023-09-19 16:26:25.528 +02:00 [DBG] Connection id "0HMTP3GP508PK" disconnecting.
2023-09-19 16:26:25.528 +02:00 [DBG] Connection id "0HMTP3GP508PK" stopped.
2023-09-19 16:26:25.528 +02:00 [DBG] Connection id "0HMTP3GP508PK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:26:25.531 +02:00 [DBG] Hosting stopped
2023-09-19 16:26:29.356 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-19 16:26:29.409 +02:00 [DBG] Hosting starting
2023-09-19 16:26:29.428 +02:00 [INF] Now listening on: http://localhost:5254
2023-09-19 16:26:29.428 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-19 16:26:29.428 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-19 16:26:29.429 +02:00 [INF] Hosting environment: Development
2023-09-19 16:26:29.429 +02:00 [INF] Content root path: /Users/agostinodefelice/dev/dotnet/MagicVilla/MagicVilla_VillaAPI
2023-09-19 16:26:29.429 +02:00 [DBG] Hosting started
2023-09-19 16:26:29.931 +02:00 [DBG] Connection id "0HMTP3HL79B1P" received FIN.
2023-09-19 16:26:29.936 +02:00 [DBG] Connection id "0HMTP3HL79B1P" accepted.
2023-09-19 16:26:29.937 +02:00 [DBG] Connection id "0HMTP3HL79B1P" started.
2023-09-19 16:26:29.952 +02:00 [DBG] Connection id "0HMTP3HL79B1P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:26:29.964 +02:00 [DBG] Connection id "0HMTP3HL79B1P" disconnecting.
2023-09-19 16:26:29.966 +02:00 [DBG] Connection id "0HMTP3HL79B1P" stopped.
2023-09-19 16:26:29.973 +02:00 [DBG] Connection id "0HMTP3HL79B1Q" accepted.
2023-09-19 16:26:29.973 +02:00 [DBG] Connection id "0HMTP3HL79B1R" accepted.
2023-09-19 16:26:29.974 +02:00 [DBG] Connection id "0HMTP3HL79B1Q" started.
2023-09-19 16:26:29.974 +02:00 [DBG] Connection id "0HMTP3HL79B1R" started.
2023-09-19 16:26:29.991 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/index.html - -
2023-09-19 16:26:29.992 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-19 16:26:30.003 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-19 16:26:30.003 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:26:30.057 +02:00 [DBG] Connection id "0HMTP3HL79B1Q" completed keep alive response.
2023-09-19 16:26:30.058 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/index.html - - - 200 - text/html;charset=utf-8 67.1061ms
2023-09-19 16:26:30.137 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - -
2023-09-19 16:26:30.137 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-19 16:26:30.137 +02:00 [DBG] Request did not match any endpoints
2023-09-19 16:26:30.237 +02:00 [DBG] Connection id "0HMTP3HL79B1Q" completed keep alive response.
2023-09-19 16:26:30.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.1903ms
2023-09-19 16:26:43.028 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5254/api/VillaApi - -
2023-09-19 16:26:43.044 +02:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2023-09-19 16:26:43.047 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2023-09-19 16:26:43.048 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:26:43.050 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-19 16:26:43.051 +02:00 [WRN] Failed to determine the https port for redirect.
2023-09-19 16:26:43.052 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:26:43.061 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI).
2023-09-19 16:26:43.061 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-19 16:26:43.062 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-19 16:26:43.062 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-19 16:26:43.062 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-19 16:26:43.062 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-19 16:26:43.063 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:26:43.142 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-19 16:26:43.612 +02:00 [DBG] Entity Framework Core 7.0.11 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.4+96806371445869d20be357993820cd4be366e145' with options: None
2023-09-19 16:26:43.664 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaApiController (MagicVilla_VillaAPI)
2023-09-19 16:26:43.665 +02:00 [INF] Getting all villas
2023-09-19 16:26:43.683 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-09-19 16:26:43.766 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-19 16:26:43.785 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-19 16:26:43.786 +02:00 [DBG] Creating DbConnection.
2023-09-19 16:26:43.806 +02:00 [DBG] Created DbConnection. (18ms).
2023-09-19 16:26:43.810 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2023-09-19 16:26:43.811 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2023-09-19 16:26:43.813 +02:00 [DBG] Opening connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:26:43.889 +02:00 [DBG] Opened connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:26:43.898 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:26:43.925 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Amenity", v."CreatedDate", v."Details", v."ImageUrl", v."Name", v."Occupancy", v."Rate", v."Sqft", v."UpdatedDate"
FROM "Villas" AS v
2023-09-19 16:26:43.952 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:26:43.972 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:26:43.972 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:26:43.972 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:26:43.972 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:26:43.972 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-19 16:26:43.977 +02:00 [DBG] Closing data reader to 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:26:43.985 +02:00 [DBG] A data reader for 'Magic_Villa_API' on server 'tcp://localhost:5432' is being disposed after spending 53ms reading results.
2023-09-19 16:26:43.990 +02:00 [DBG] Closing connection to database 'Magic_Villa_API' on server 'tcp://localhost:5432'.
2023-09-19 16:26:43.995 +02:00 [DBG] Closed connection to database 'Magic_Villa_API' on server '' (5ms).
2023-09-19 16:26:44.015 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-19 16:26:44.019 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-19 16:26:44.019 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-09-19 16:26:44.019 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-19 16:26:44.019 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-19 16:26:44.019 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-19 16:26:44.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2023-09-19 16:26:44.069 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI) in 1004.1793ms
2023-09-19 16:26:44.070 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaApiController.GetVillas (MagicVilla_VillaAPI)'
2023-09-19 16:26:44.075 +02:00 [DBG] Connection id "0HMTP3HL79B1Q" completed keep alive response.
2023-09-19 16:26:44.078 +02:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-19 16:26:44.082 +02:00 [DBG] Disposing connection to database 'Magic_Villa_API' on server ''.
2023-09-19 16:26:44.085 +02:00 [DBG] Disposed connection to database 'Magic_Villa_API' on server '' (2ms).
2023-09-19 16:26:44.086 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5254/api/VillaApi - - - 200 1819 application/json;+charset=utf-8 1058.3272ms
2023-09-19 16:28:40.560 +02:00 [DBG] Connection id "0HMTP3HL79B1R" disconnecting.
2023-09-19 16:28:40.565 +02:00 [DBG] Connection id "0HMTP3HL79B1R" stopped.
2023-09-19 16:28:40.566 +02:00 [DBG] Connection id "0HMTP3HL79B1R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 16:28:54.572 +02:00 [DBG] Connection id "0HMTP3HL79B1Q" disconnecting.
2023-09-19 16:28:54.573 +02:00 [DBG] Connection id "0HMTP3HL79B1Q" stopped.
2023-09-19 16:28:54.573 +02:00 [DBG] Connection id "0HMTP3HL79B1Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-19 20:02:08.698 +02:00 [INF] Application is shutting down...
2023-09-19 20:02:08.700 +02:00 [DBG] Hosting stopping
2023-09-19 20:02:08.708 +02:00 [DBG] Hosting stopped
